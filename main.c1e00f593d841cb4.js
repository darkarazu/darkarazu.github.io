"use strict";(self.webpackChunkfibonaccicalculator=self.webpackChunkfibonaccicalculator||[]).push([[179],{2011:(rt,xe,P)=>{P.d(xe,{Dh:()=>ue,GT:()=>me,cc:()=>Ie,hO:()=>ze,on:()=>j,pX:()=>se,xv:()=>he});var l=P(4650),Y=P(127),F=P(5813);rt=P.hmd(rt);const ae=["ngOnDestroy"],se=(ye,qe,Qe,Se={})=>new Proxy(ye,{get:(ve,Ce)=>Qe.runOutsideAngular(()=>{var je;if(ye[Ce])return!(null===(je=Se?.spy)||void 0===je)&&je.get&&Se.spy.get(Ce,ye[Ce]),ye[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const He=qe.toPromise().then(H=>{const we=H&&H[Ce];return"function"==typeof we?we.bind(H):we&&we.then?we.then(K=>Qe.run(()=>K)):Qe.run(()=>we)});return new Proxy(()=>{},{get:(H,we)=>He[we],apply:(H,we,K)=>He.then(oe=>{var te;const _e=oe&&oe(...K);return!(null===(te=Se?.spy)||void 0===te)&&te.apply&&Se.spy.apply(Ce,K,_e),_e})})})}),me=(ye,qe)=>{qe.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Se=>{Object.defineProperty(ye.prototype,Se,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Se))})})};class ee{constructor(qe){return qe}}const ue=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function j(ye,qe,Qe){const ve="object"==typeof Qe&&Qe||{};ve.name=ve.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const je=Y.Z.apps.filter(He=>He&&He.name===ve.name)[0]||qe.runOutsideAngular(()=>Y.Z.initializeApp(ye,ve));try{JSON.stringify(ye)!==JSON.stringify(je.options)&&U("error",`${je.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ee(je)}const U=(ye,...qe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ye](...qe)},J={provide:ee,useFactory:j,deps:[ue,l.R0b,[new l.FiY,he]]};let ze=(()=>{class ye{constructor(Qe){Y.Z.registerVersion("angularfire",F.q4.full,"core"),Y.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Y.Z.registerVersion("angular",l.q4F.full,Qe.toString())}static initializeApp(Qe,Se){return{ngModule:ye,providers:[{provide:ue,useValue:Qe},{provide:he,useValue:Se}]}}}return ye.\u0275fac=function(Qe){return new(Qe||ye)(l.LFG(l.Lbi))},ye.\u0275mod=l.oAB({type:ye}),ye.\u0275inj=l.cJS({providers:[J]}),ye})();function Ie(ye,qe,Qe,Se,ve){const[,Ce,je]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ye)||[];if(Ce)return function Me(ye,qe){try{return ye.toString()===qe.toString()}catch{return ye===qe}}(ve,je)||(pe("error",`${qe} was already initialized on the ${Qe} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ve,was:je})),Ce;{const He=Se();return globalThis.\u0275AngularfireInstanceCache.push([ye,He,ve]),He}}const Ue=!!rt.hot,pe=(ye,...qe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ye](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,xe,P)=>{P.d(xe,{q4:()=>zc,iC:()=>Kc,HU:()=>Yc,vb:()=>Bi,JM:()=>Wc});var l=P(4650),Y=P(5867),F=P(5861),ae=P(9681),se=P(2090),me=P(4859),ee=P(1877),ue=P(8766);const he="@firebase/installations",j="0.5.10",J=`w:${j}`,ze="FIS_v2",qe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(x){return x instanceof se.ZR&&x.code.includes("request-failed")}function Se({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ve(x){return{token:x.token,requestStatus:2,expiresIn:oe(x.expiresIn),creationTime:Date.now()}}function Ce(x,S){return je.apply(this,arguments)}function je(){return(je=(0,F.Z)(function*(x,S){const L=(yield S.json()).error;return qe.create("request-failed",{requestName:x,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function H(x,{refreshToken:S}){const M=He(x);return M.append("Authorization",function te(x){return`${ze} ${x}`}(S)),M}function we(x){return K.apply(this,arguments)}function K(){return(K=(0,F.Z)(function*(x){const S=yield x();return S.status>=500&&S.status<600?x():S})).apply(this,arguments)}function oe(x){return Number(x.replace("s","000"))}function _e(x,S){return ce.apply(this,arguments)}function ce(){return(ce=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:S},{fid:M}){const L=Se(x),Q=He(x),re=S.getImmediate({optional:!0});if(re){const Ot=yield re.getHeartbeatsHeader();Ot&&Q.append("x-firebase-client",Ot)}const Ze={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:ze,appId:x.appId,sdkVersion:J})},yt=yield we(()=>fetch(L,Ze));if(yt.ok){const Ot=yield yt.json();return{fid:Ot.fid||M,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:ve(Ot.authToken)}}throw yield Ce("Create Installation",yt)})).apply(this,arguments)}function Pe(x){return new Promise(S=>{setTimeout(S,x)})}const $t=/^[cdef][\w-]{21}$/;function We(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function ln(x){return function ut(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return $t.test(M)?M:""}catch{return""}}function Fn(x){return`${x.appName}!${x.appId}`}const gn=new Map;function Qt(x,S){const M=Fn(x);Lt(M,S),function rs(x,S){const M=function Ei(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=x=>{Lt(x.data.key,x.data.fid)}),tr}();M&&M.postMessage({key:x,fid:S}),function Ti(){0===gn.size&&tr&&(tr.close(),tr=null)}()}(M,S)}function Lt(x,S){const M=gn.get(x);if(M)for(const L of M)L(S)}let tr=null;const nr="firebase-installations-store";let wr=null;function dt(){return wr||(wr=(0,ue.X3)("firebase-installations-database",1,{upgrade:(x,S)=>{0===S&&x.createObjectStore(nr)}})),wr}function ir(x,S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(x,S){const M=Fn(x),Q=(yield dt()).transaction(nr,"readwrite"),re=Q.objectStore(nr),Te=yield re.get(M);return yield re.put(S,M),yield Q.done,(!Te||Te.fid!==S.fid)&&Qt(x,S.fid),S})).apply(this,arguments)}function Dn(x){return oo.apply(this,arguments)}function oo(){return(oo=(0,F.Z)(function*(x){const S=Fn(x),L=(yield dt()).transaction(nr,"readwrite");yield L.objectStore(nr).delete(S),yield L.done})).apply(this,arguments)}function rr(x,S){return ci.apply(this,arguments)}function ci(){return(ci=(0,F.Z)(function*(x,S){const M=Fn(x),Q=(yield dt()).transaction(nr,"readwrite"),re=Q.objectStore(nr),Te=yield re.get(M),Ze=S(Te);return void 0===Ze?yield re.delete(M):yield re.put(Ze,M),yield Q.done,Ze&&(!Te||Te.fid!==Ze.fid)&&Qt(x,Ze.fid),Ze})).apply(this,arguments)}function Hn(x){return br.apply(this,arguments)}function br(){return(br=(0,F.Z)(function*(x){let S;const M=yield rr(x.appConfig,L=>{const Q=Bo(L),re=zt(x,Q);return S=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield S}:{installationEntry:M,registrationPromise:S}})).apply(this,arguments)}function Bo(x){return Cr(x||{fid:We(),registrationStatus:0})}function zt(x,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(qe.create("app-offline"))};const M={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},L=function Ge(x,S){return Et.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:L}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mi(x)}:{installationEntry:S}}function Et(){return(Et=(0,F.Z)(function*(x,S){try{const M=yield _e(x,S);return ir(x.appConfig,M)}catch(M){throw Qe(M)&&409===M.customData.serverCode?yield Dn(x.appConfig):yield ir(x.appConfig,{fid:S.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Mi(x){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,F.Z)(function*(x){let S=yield At(x.appConfig);for(;1===S.registrationStatus;)yield Pe(100),S=yield At(x.appConfig);if(0===S.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield Hn(x);return L||M}return S})).apply(this,arguments)}function At(x){return rr(x,S=>{if(!S)throw qe.create("installation-not-found");return Cr(S)})}function Cr(x){return function Zn(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function sr(x,S){return q.apply(this,arguments)}function q(){return(q=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:S},M){const L=z(x,M),Q=H(x,M),re=S.getImmediate({optional:!0});if(re){const Ot=yield re.getHeartbeatsHeader();Ot&&Q.append("x-firebase-client",Ot)}const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J,appId:x.appId}})},yt=yield we(()=>fetch(L,Ze));if(yt.ok)return ve(yield yt.json());throw yield Ce("Generate Auth Token",yt)})).apply(this,arguments)}function z(x,{fid:S}){return`${Se(x)}/${S}/authTokens:generate`}function W(x){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(x,S=!1){let M;const L=yield rr(x.appConfig,re=>{if(!wt(re))throw qe.create("not-registered");const Te=re.authToken;if(!S&&vn(Te))return re;if(1===Te.requestStatus)return M=G(x,S),re;{if(!navigator.onLine)throw qe.create("app-offline");const Ze=Qn(re);return M=Je(x,Ze),Ze}});return M?yield M:L.authToken})).apply(this,arguments)}function G(x,S){return ie.apply(this,arguments)}function ie(){return(ie=(0,F.Z)(function*(x,S){let M=yield ke(x.appConfig);for(;1===M.authToken.requestStatus;)yield Pe(100),M=yield ke(x.appConfig);const L=M.authToken;return 0===L.requestStatus?W(x,S):L})).apply(this,arguments)}function ke(x){return rr(x,S=>{if(!wt(S))throw qe.create("not-registered");return function Yi(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Je(x,S){return gt.apply(this,arguments)}function gt(){return(gt=(0,F.Z)(function*(x,S){try{const M=yield sr(x,S),L=Object.assign(Object.assign({},S),{authToken:M});return yield ir(x.appConfig,L),M}catch(M){if(!Qe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield ir(x.appConfig,L)}else yield Dn(x.appConfig);throw M}})).apply(this,arguments)}function wt(x){return void 0!==x&&2===x.registrationStatus}function vn(x){return 2===x.requestStatus&&!function Dt(x){const S=Date.now();return S<x.creationTime||x.creationTime+x.expiresIn<S+36e5}(x)}function Qn(x){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:S})}function Xn(){return(Xn=(0,F.Z)(function*(x){const S=x,{installationEntry:M,registrationPromise:L}=yield Hn(S);return L?L.catch(console.error):W(S).catch(console.error),M.fid})).apply(this,arguments)}function gi(){return(gi=(0,F.Z)(function*(x,S=!1){const M=x;return yield Ri(M),(yield W(M,S)).token})).apply(this,arguments)}function Ri(x){return $e.apply(this,arguments)}function $e(){return($e=(0,F.Z)(function*(x){const{registrationPromise:S}=yield Hn(x);S&&(yield S)})).apply(this,arguments)}function Er(x){return qe.create("missing-app-config-values",{valueName:x})}const Rt="installations",wn=x=>{const S=x.getProvider("app").getImmediate(),M=function Ta(x){if(!x||!x.options)throw Er("App Configuration");if(!x.name)throw Er("App Name");const S=["projectId","apiKey","appId"];for(const M of S)if(!x.options[M])throw Er(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(S);return{app:S,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ho=x=>{const S=x.getProvider("app").getImmediate(),M=(0,ae._getProvider)(S,Rt).getImmediate();return{getId:()=>function Xt(x){return Xn.apply(this,arguments)}(M),getToken:Q=>function ui(x){return gi.apply(this,arguments)}(M,Q)}};(function ao(){(0,ae._registerComponent)(new me.wA(Rt,wn,"PUBLIC")),(0,ae._registerComponent)(new me.wA("installations-internal",Ho,"PRIVATE"))})(),(0,ae.registerVersion)(he,j),(0,ae.registerVersion)(he,j,"esm2017");const jn="@firebase/remote-config",mi=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ic{constructor(S,M,L,Q){this.client=S,this.storage=M,this.storageCache=L,this.logger=Q}isCachedDataFresh(S,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Q=L<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var M=this;return(0,F.Z)(function*(){const[L,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(S.cacheMaxAgeMillis,L))return Q;S.eTag=Q&&Q.eTag;const re=yield M.client.fetch(S),Te=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Te.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Te),re})()}}function Hu(x=navigator){return x.languages&&x.languages[0]||x.language}class Tc{constructor(S,M,L,Q,re,Te){this.firebaseInstallations=S,this.sdkVersion=M,this.namespace=L,this.projectId=Q,this.apiKey=re,this.appId=Te}fetch(S){var M=this;return(0,F.Z)(function*(){var L,Q,re;const[Te,Ze]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},mt={sdk_version:M.sdkVersion,app_instance_id:Te,app_instance_id_token:Ze,app_id:M.appId,language_code:Hu()},vi={method:"POST",headers:ht,body:JSON.stringify(mt)},hi=fetch(Ot,vi),Qr=new Promise((Ks,Xr)=>{S.signal.addEventListener(()=>{const Zc=new Error("The operation was aborted.");Zc.name="AbortError",Xr(Zc)})});let bo;try{yield Promise.race([hi,Qr]),bo=yield hi}catch(Ks){let Xr="fetch-client-network";throw"AbortError"===(null===(L=Ks)||void 0===L?void 0:L.name)&&(Xr="fetch-timeout"),mi.create(Xr,{originalErrorMessage:null===(Q=Ks)||void 0===Q?void 0:Q.message})}let Co=bo.status;const $h=bo.headers.get("ETag")||void 0;let Eo,Ys;if(200===bo.status){let Ks;try{Ks=yield bo.json()}catch(Xr){throw mi.create("fetch-client-parse",{originalErrorMessage:null===(re=Xr)||void 0===re?void 0:re.message})}Eo=Ks.entries,Ys=Ks.state}if("INSTANCE_STATE_UNSPECIFIED"===Ys?Co=500:"NO_CHANGE"===Ys?Co=304:("NO_TEMPLATE"===Ys||"EMPTY_CONFIG"===Ys)&&(Eo={}),304!==Co&&200!==Co)throw mi.create("fetch-status",{httpStatus:Co});return{status:Co,eTag:$h,config:Eo}})()}}class Wp{constructor(S,M){this.client=S,this.storage=M}fetch(S){var M=this;return(0,F.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(S,L)})()}attemptFetch(S,{throttleEndTimeMillis:M,backoffCount:L}){var Q=this;return(0,F.Z)(function*(){yield function Jn(x,S){return new Promise((M,L)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(M,Q);x.addEventListener(()=>{clearTimeout(re),L(mi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,M);try{const re=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function ju(x){if(!(x instanceof se.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Te={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(Te),Q.attemptFetch(S,Te)}})()}}class Mc{constructor(S,M,L,Q,re){this.app=S,this._client=M,this._storageCache=L,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rc(x,S){var M;const L=x.target.error||void 0;return mi.create(S,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const Ms="app_namespace_store";class Oh{constructor(S,M,L,Q=function Zp(){return new Promise((x,S)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Q=>{S(Rc(Q,"storage-open"))},L.onsuccess=Q=>{x(Q.target.result)},L.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(L){S(mi.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=S,this.appName=M,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var M=this;return(0,F.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Q,re)=>{var Te;const yt=L.transaction([Ms],"readonly").objectStore(Ms),Ot=M.createCompositeKey(S);try{const ht=yt.get(Ot);ht.onerror=mt=>{re(Rc(mt,"storage-get"))},ht.onsuccess=mt=>{const vi=mt.target.result;Q(vi?vi.value:void 0)}}catch(ht){re(mi.create("storage-get",{originalErrorMessage:null===(Te=ht)||void 0===Te?void 0:Te.message}))}})})()}set(S,M){var L=this;return(0,F.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((re,Te)=>{var Ze;const Ot=Q.transaction([Ms],"readwrite").objectStore(Ms),ht=L.createCompositeKey(S);try{const mt=Ot.put({compositeKey:ht,value:M});mt.onerror=vi=>{Te(Rc(vi,"storage-set"))},mt.onsuccess=()=>{re()}}catch(mt){Te(mi.create("storage-set",{originalErrorMessage:null===(Ze=mt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(S){var M=this;return(0,F.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Q,re)=>{var Te;const yt=L.transaction([Ms],"readwrite").objectStore(Ms),Ot=M.createCompositeKey(S);try{const ht=yt.delete(Ot);ht.onerror=mt=>{re(Rc(mt,"storage-delete"))},ht.onsuccess=()=>{Q()}}catch(ht){re(mi.create("storage-delete",{originalErrorMessage:null===(Te=ht)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class xl{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const M=S.storage.getLastFetchStatus(),L=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),re=yield M;re&&(S.lastFetchStatus=re);const Te=yield L;Te&&(S.lastSuccessfulFetchTimestampMillis=Te);const Ze=yield Q;Ze&&(S.activeConfig=Ze)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Sl(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,F.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function as(){(0,ae._registerComponent)(new me.wA("remote-config",function x(S,{instanceIdentifier:M}){const L=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mi.create("registration-window");if(!(0,se.hl)())throw mi.create("indexed-db-unavailable");const{projectId:re,apiKey:Te,appId:Ze}=L.options;if(!re)throw mi.create("registration-project-id");if(!Te)throw mi.create("registration-api-key");if(!Ze)throw mi.create("registration-app-id");const yt=new Oh(Ze,L.name,M=M||"firebase"),Ot=new xl(yt),ht=new ee.Yd(jn);ht.logLevel=ee.in.ERROR;const mt=new Tc(Q,ae.SDK_VERSION,M,re,Te,Ze),vi=new Wp(mt,yt),hi=new Ic(vi,yt,Ot,ht),Qr=new Mc(L,hi,Ot,yt,ht);return function zo(x){const S=(0,se.m9)(x);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Qr),Qr},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(jn,"0.3.9"),(0,ae.registerVersion)(jn,"0.3.9","esm2017")}();const Al="/firebase-messaging-sw.js",Sr="/firebase-cloud-messaging-push-scope",ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ka="google.c.a.c_id",Oa="google.c.a.c_l",kc="google.c.a.ts",Qp="google.c.a.e";var ho=(()=>{return(x=ho||(ho={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ho;var x})();function bn(x){const S=new Uint8Array(x);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Il(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Q=new Uint8Array(L.length);for(let re=0;re<L.length;++re)Q[re]=L.charCodeAt(re);return Q}const Tl="fcm_token_details_db",Nn="fcm_token_object_Store";function Fh(x){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,F.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Tl))return null;let S=null;return(yield(0,ue.X3)(Tl,5,{upgrade:(L=(0,F.Z)(function*(Q,re,Te,Ze){var yt;if(re<2||!Q.objectStoreNames.contains(Nn))return;const Ot=Ze.objectStore(Nn),ht=yield Ot.index("fcmSenderId").get(x);if(yield Ot.clear(),ht)if(2===re){const mt=ht;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;S={token:mt.fcmToken,createTime:null!==(yt=mt.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:bn(mt.vapidKey)}}}else if(3===re){const mt=ht;S={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:bn(mt.auth),p256dh:bn(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:bn(mt.vapidKey)}}}else if(4===re){const mt=ht;S={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:bn(mt.auth),p256dh:bn(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:bn(mt.vapidKey)}}}}),function(re,Te,Ze,yt){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Tl),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),zu(S)?S:null;var L}),Ml.apply(this,arguments)}function zu(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:S}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const en="firebase-messaging-store";let Rl=null;function kl(){return Rl||(Rl=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(x,S)=>{0===S&&x.createObjectStore(en)}})),Rl}function Cn(x){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,F.Z)(function*(x){const S=Ko(x),L=yield(yield kl()).transaction(en).objectStore(en).get(S);if(L)return L;{const Q=yield Fh(x.appConfig.senderId);if(Q)return yield fo(x,Q),Q}})).apply(this,arguments)}function fo(x,S){return ar.apply(this,arguments)}function ar(){return(ar=(0,F.Z)(function*(x,S){const M=Ko(x),Q=(yield kl()).transaction(en,"readwrite");return yield Q.objectStore(en).put(S,M),yield Q.done,S})).apply(this,arguments)}function Ki(x){return Os.apply(this,arguments)}function Os(){return(Os=(0,F.Z)(function*(x){const S=Ko(x),L=(yield kl()).transaction(en,"readwrite");yield L.objectStore(en).delete(S),yield L.done})).apply(this,arguments)}function Ko({appConfig:x}){return x.appId}const qt=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ol(x,S){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,F.Z)(function*(x,S){const M=yield Ps(x),L=po(S),Q={method:"POST",headers:M,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(_t(x.appConfig),Q)).json()}catch(Te){throw qt.create("token-subscribe-failed",{errorInfo:Te})}if(re.error)throw qt.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw qt.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Oc(x,S){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,F.Z)(function*(x,S){const M=yield Ps(x),L=po(S.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(`${_t(x.appConfig)}/${S.token}`,Q)).json()}catch(Te){throw qt.create("token-update-failed",{errorInfo:Te})}if(re.error)throw qt.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw qt.create("token-update-no-token");return re.token})).apply(this,arguments)}function Fs(x,S){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,F.Z)(function*(x,S){const L={method:"DELETE",headers:yield Ps(x)};try{const re=yield(yield fetch(`${_t(x.appConfig)}/${S}`,L)).json();if(re.error)throw qt.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw qt.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function _t({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ps(x){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,F.Z)(function*({appConfig:x,installations:S}){const M=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function po({p256dh:x,auth:S,endpoint:M,vapidKey:L}){const Q={web:{endpoint:M,auth:S,p256dh:x}};return L!==ks&&(Q.web.applicationPubKey=L),Q}const Na=6048e5;function La(x){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(x){const S=yield Ln(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:S.endpoint,auth:bn(S.getKey("auth")),p256dh:bn(S.getKey("p256dh"))},L=yield Cn(x.firebaseDependencies);if(L){if(cs(L.subscriptionOptions,M))return Date.now()>=L.createTime+Na?Ae(x,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Fs(x.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return Ns(x.firebaseDependencies,M)}return Ns(x.firebaseDependencies,M)})).apply(this,arguments)}function Fl(x){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(x){const S=yield Cn(x.firebaseDependencies);S&&(yield Fs(x.firebaseDependencies,S.token),yield Ki(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ae(x,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,F.Z)(function*(x,S){try{const M=yield Oc(x.firebaseDependencies,S),L=Object.assign(Object.assign({},S),{token:M,createTime:Date.now()});return yield fo(x.firebaseDependencies,L),M}catch(M){throw yield Fl(x),M}})).apply(this,arguments)}function Ns(x,S){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(x,S){const L={token:yield Ol(x,S),createTime:Date.now(),subscriptionOptions:S};return yield fo(x,L),L.token})).apply(this,arguments)}function Ln(x,S){return go.apply(this,arguments)}function go(){return(go=(0,F.Z)(function*(x,S){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Il(S)})})).apply(this,arguments)}function cs(x,S){return S.vapidKey===x.vapidKey&&S.endpoint===x.endpoint&&S.auth===x.auth&&S.p256dh===x.p256dh}function Ir(x){const S={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Jo(x,S){if(!S.notification)return;x.notification={};const M=S.notification.title;M&&(x.notification.title=M);const L=S.notification.body;L&&(x.notification.body=L);const Q=S.notification.image;Q&&(x.notification.image=Q)}(S,x),function Pl(x,S){!S.data||(x.data=S.data)}(S,x),function Xp(x,S){var M,L,Q,re,Te;if(!(S.fcmOptions||null!==(M=S.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const Ze=null!==(Q=null===(L=S.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Q?Q:null===(re=S.notification)||void 0===re?void 0:re.click_action;Ze&&(x.fcmOptions.link=Ze);const yt=null===(Te=S.fcmOptions)||void 0===Te?void 0:Te.analytics_label;yt&&(x.fcmOptions.analyticsLabel=yt)}(S,x),S}function Pc(x){return"object"==typeof x&&!!x&&ka in x}function Nh(x,S){const M=[];for(let L=0;L<x.length;L++)M.push(x.charAt(L)),L<S.length&&M.push(S.charAt(L));return M.join("")}function $n(x){return qt.create("missing-app-config-values",{valueName:x})}Nh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class us{constructor(S,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Ba(x){if(!x||!x.options)throw $n("App Configuration Object");if(!x.name)throw $n("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const L of S)if(!M[L])throw $n(L);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ea(x){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(x){var S;try{x.swRegistration=yield navigator.serviceWorker.register(Al,{scope:Sr}),x.swRegistration.update().catch(()=>{})}catch(M){throw qt.create("failed-service-worker-registration",{browserErrorMessage:null===(S=M)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Tr(x,S){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,F.Z)(function*(x,S){if(!S&&!x.swRegistration&&(yield ea(x)),S||!x.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");x.swRegistration=S}})).apply(this,arguments)}function ta(x,S){return qu.apply(this,arguments)}function qu(){return(qu=(0,F.Z)(function*(x,S){S?x.vapidKey=S:x.vapidKey||(x.vapidKey=ks)})).apply(this,arguments)}function Ua(){return(Ua=(0,F.Z)(function*(x,S){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield ta(x,S?.vapidKey),yield Tr(x,S?.serviceWorkerRegistration),La(x)})).apply(this,arguments)}function Ha(x,S,M){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,F.Z)(function*(x,S,M){const L=na(S);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[ka],message_name:M[Oa],message_time:M[kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function na(x){switch(x){case ho.NOTIFICATION_CLICKED:return"notification_open";case ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ja(){return(ja=(0,F.Z)(function*(x,S){const M=S.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===ho.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Ir(M)):x.onMessageHandler.next(Ir(M)));const L=M.data;Pc(L)&&"1"===L[Qp]&&(yield Ha(x,M.messageType,L))})).apply(this,arguments)}const mo="@firebase/messaging",Vc=x=>{const S=new us(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Lh(x,S){return ja.apply(this,arguments)}(S,M)),S},ra=x=>{const S=x.getProvider("messaging").getImmediate();return{getToken:L=>function Lc(x,S){return Ua.apply(this,arguments)}(S,L)}};function Ll(){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,F.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bc(){(0,ae._registerComponent)(new me.wA("messaging",Vc,"PUBLIC")),(0,ae._registerComponent)(new me.wA("messaging-internal",ra,"PRIVATE")),(0,ae.registerVersion)(mo,"0.9.14"),(0,ae.registerVersion)(mo,"0.9.14","esm2017")}();const jc="analytics",Yu="firebase_id",ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$a="https://www.googletagmanager.com/gtag/js",ei=new ee.Yd("@firebase/analytics");function Vh(x){return Promise.all(x.map(S=>S.catch(M=>M)))}function Bs(x,S){const M=document.createElement("script");M.src=`${$a}?l=${x}&id=${S}`,M.async=!0,document.head.appendChild(M)}function Ku(x,S,M,L,Q,re){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,F.Z)(function*(x,S,M,L,Q,re){const Te=L[Q];try{if(Te)yield S[Te];else{const yt=(yield Vh(M)).find(Ot=>Ot.measurementId===Q);yt&&(yield S[yt.appId])}}catch(Ze){ei.error(Ze)}x("config",Q,re)})).apply(this,arguments)}function za(x,S,M,L,Q){return _o.apply(this,arguments)}function _o(){return(_o=(0,F.Z)(function*(x,S,M,L,Q){try{let re=[];if(Q&&Q.send_to){let Te=Q.send_to;Array.isArray(Te)||(Te=[Te]);const Ze=yield Vh(M);for(const yt of Te){const Ot=Ze.find(mt=>mt.measurementId===yt),ht=Ot&&S[Ot.appId];if(!ht){re=[];break}re.push(ht)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),x("event",L,Q||{})}catch(re){ei.error(re)}})).apply(this,arguments)}function wy(){const x=window.document.getElementsByTagName("script");for(const S of Object.values(x))if(S.src&&S.src.includes($a))return S;return null}const Ni=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qu=new class lr{constructor(S={},M=1e3){this.throttleMetadata=S,this.intervalMillis=M}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,M){this.throttleMetadata[S]=M}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Xu(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Mr(x){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,F.Z)(function*(x){var S;const{appId:M,apiKey:L}=x,Q={method:"GET",headers:Xu(L)},re=ds.replace("{app-id}",M),Te=yield fetch(re,Q);if(200!==Te.status&&304!==Te.status){let Ze="";try{const yt=yield Te.json();null!==(S=yt.error)&&void 0!==S&&S.message&&(Ze=yt.error.message)}catch{}throw Ni.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Ze})}return Te.json()})).apply(this,arguments)}function Wt(x){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(x,S=Qu,M){const{appId:L,apiKey:Q,measurementId:re}=x.options;if(!L)throw Ni.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:L};throw Ni.create("no-api-key")}const Te=S.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Hs;return setTimeout((0,F.Z)(function*(){Ze.abort()}),void 0!==M?M:6e4),Di({appId:L,apiKey:Q,measurementId:re},Te,Ze,S)})).apply(this,arguments)}function Di(x,S,M){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,F.Z)(function*(x,{throttleEndTimeMillis:S,backoffCount:M},L,Q=Qu){const{appId:re,measurementId:Te}=x;try{yield qa(L,S)}catch(Ze){if(Te)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:re,measurementId:Te};throw Ze}try{const Ze=yield Mr(x);return Q.deleteThrottleMetadata(re),Ze}catch(Ze){if(!Sn(Ze)){if(Q.deleteThrottleMetadata(re),Te)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:re,measurementId:Te};throw Ze}const yt=503===Number(Ze.customData.httpStatus)?(0,se.$s)(M,Q.intervalMillis,30):(0,se.$s)(M,Q.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+yt,backoffCount:M+1};return Q.setThrottleMetadata(re,Ot),ei.debug(`Calling attemptFetch again in ${yt} millis`),Di(x,Ot,L,Q)}})).apply(this,arguments)}function qa(x,S){return new Promise((M,L)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(M,Q);x.addEventListener(()=>{clearTimeout(re),L(Ni.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Sn(x){if(!(x instanceof se.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Hs{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function kr(){return cr.apply(this,arguments)}function cr(){return(cr=(0,F.Z)(function*(){if(!(0,se.hl)())return ei.warn(Ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(x){return ei.warn(Ni.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function sa(){return(sa=(0,F.Z)(function*(x,S,M,L,Q,re,Te){var Ze;const yt=Wt(x);yt.then(hi=>{M[hi.measurementId]=hi.appId,x.options.measurementId&&hi.measurementId!==x.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>ei.error(hi)),S.push(yt);const Ot=kr().then(hi=>{if(hi)return L.getId()}),[ht,mt]=yield Promise.all([yt,Ot]);wy()||Bs(re,ht.measurementId),Q("js",new Date);const vi=null!==(Ze=Te?.config)&&void 0!==Ze?Ze:{};return vi.origin="firebase",vi.update=!0,null!=mt&&(vi[Yu]=mt),Q("config",ht.measurementId,vi),ht.measurementId})).apply(this,arguments)}class oa{constructor(S){this.app=S}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},Hl=[];const Wa={};let Ya,js,qr="dataLayer",jl=!1;function xt(x,S,M){!function la(){const x=[];if((0,se.ru)()&&x.push("This is a browser extension environment."),(0,se.zI)()||x.push("Cookies are not available."),x.length>0){const S=x.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),M=Ni.create("invalid-analytics-context",{errorInfo:S});ei.warn(M.message)}}();const L=x.options.appId;if(!L)throw Ni.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ni.create("no-api-key");ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[L])throw Ni.create("already-exists",{id:L});if(!jl){!function Bl(x){let S=[];Array.isArray(window[x])?S=window[x]:window[x]=S}(qr);const{wrappedGtag:re,gtagCore:Te}=function Jp(x,S,M,L,Q){let re=function(...Te){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function Bh(x,S,M,L){function re(){return(re=(0,F.Z)(function*(Te,Ze,yt){try{"event"===Te?yield za(x,S,M,Ze,yt):"config"===Te?yield Ku(x,S,M,L,Ze,yt):x("set",Ze)}catch(Ot){ei.error(Ot)}})).apply(this,arguments)}return function Q(Te,Ze,yt){return re.apply(this,arguments)}}(re,x,S,M),{gtagCore:re,wrappedGtag:window[Q]}}(xi,Hl,Wa,qr,"gtag");js=re,Ya=Te,jl=!0}return xi[L]=function vo(x,S,M,L,Q,re,Te){return sa.apply(this,arguments)}(x,Hl,Wa,S,Ya,qr,M),new oa(x)}function Ka(){return(Ka=(0,F.Z)(function*(x,S,M,L,Q){if(Q&&Q.global)x("event",M,L);else{const re=yield S;x("event",M,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function Vn(){return st.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const nd="@firebase/analytics";!function Wr(){(0,ae._registerComponent)(new me.wA(jc,(S,{options:M})=>xt(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new me.wA("analytics-internal",function x(S){try{const M=S.getProvider(jc).getImmediate();return{logEvent:(L,Q,re)=>function td(x,S,M,L){x=(0,se.m9)(x),function _n(x,S,M,L,Q){return Ka.apply(this,arguments)}(js,xi[x.app.options.appId],S,M,L).catch(Q=>ei.error(Q))}(M,L,Q,re)}}catch(M){throw Ni.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(nd,"0.7.10"),(0,ae.registerVersion)(nd,"0.7.10","esm2017")}();var eg=P(4408),id=P(7565);const rd=new class Xa extends id.v{}(class Hh extends eg.o{constructor(S,M){super(S,M),this.scheduler=S,this.work=M}schedule(S,M=0){return M>0?super.schedule(S,M):(this.delay=M,this.state=S,this.scheduler.flush(this),this)}execute(S,M){return M>0||this.closed?super.execute(S,M):this._execute(S,M)}requestAsyncId(S,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(S,M,L):S.flush(this)}});var cn=P(4986),ql=P(8505),En=P(9468),Yr=P(5363);const zc=new l.GfV("7.4.1"),_i="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupportedValue",Zi="__angularfire_symbol__remoteConfigIsSupported",Kr="__angularfire_symbol__messagingIsSupportedValue",Ja="__angularfire_symbol__messagingIsSupported";function Wc(x,S,M){if(S){if(1===S.length)return S[0];const re=S.filter(Te=>Te.app===M);if(1===re.length)return re[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Vn().then(x=>globalThis[_i]=x).catch(()=>globalThis[_i]=!1)),globalThis[Ja]||(globalThis[Ja]=Ll().then(x=>globalThis[Kr]=x).catch(()=>globalThis[Kr]=!1)),globalThis[Zi]||(globalThis[Zi]=Sl().then(x=>globalThis[hs]=x).catch(()=>globalThis[hs]=!1));const Bi=(x,S)=>{const M=S?[S]:(0,Y.C6)(),L=[];return M.forEach(Q=>{Q.container.getProvider(x).instances.forEach(Te=>{L.includes(Te)||L.push(Te)})}),L};function Fr(){}class zs{constructor(S,M=rd){this.zone=S,this.delegate=M}now(){return this.delegate.now()}schedule(S,M,L){const Q=this.zone;return this.delegate.schedule(function(Te){Q.runGuarded(()=>{S.apply(this,[Te])})},M,L)}}class od{constructor(S){this.zone=S,this.task=null}call(S,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fr,{},Fr,Fr)),M.pipe((0,ql.b)({next:L,complete:L,error:L})).subscribe(S).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yc=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new zs(Zone.current)),this.insideAngular=M.run(()=>new zs(Zone.current,cn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(l.LFG(l.R0b))},x.\u0275prov=l.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Zr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Kc(x){return Zr(),function ua(x){return function(M){return(M=M.lift(new od(x.ngZone))).pipe((0,En.R)(x.outsideAngular),(0,Yr.Q)(x.insideAngular))}}(Zr())(x)}},2090:(rt,xe,P)=>{P.d(xe,{$s:()=>At,BH:()=>ze,G6:()=>He,L:()=>ue,LL:()=>ce,Mn:()=>Ce,Sg:()=>Ie,UG:()=>pe,US:()=>me,ZB:()=>U,ZR:()=>_e,b$:()=>Qe,d:()=>Se,eu:()=>we,hl:()=>H,jU:()=>ye,m9:()=>sr,ne:()=>wr,pd:()=>As,r3:()=>Ii,ru:()=>qe,tV:()=>he,uI:()=>Ue,vZ:()=>tr,w1:()=>ve,xO:()=>Ti,xb:()=>Lt,z$:()=>Me,zI:()=>K,zd:()=>zr});const ae=function(q){const z=[];let W=0;for(let De=0;De<q.length;De++){let G=q.charCodeAt(De);G<128?z[W++]=G:G<2048?(z[W++]=G>>6|192,z[W++]=63&G|128):55296==(64512&G)&&De+1<q.length&&56320==(64512&q.charCodeAt(De+1))?(G=65536+((1023&G)<<10)+(1023&q.charCodeAt(++De)),z[W++]=G>>18|240,z[W++]=G>>12&63|128,z[W++]=G>>6&63|128,z[W++]=63&G|128):(z[W++]=G>>12|224,z[W++]=G>>6&63|128,z[W++]=63&G|128)}return z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let G=0;G<q.length;G+=3){const ie=q[G],ke=G+1<q.length,Je=ke?q[G+1]:0,gt=G+2<q.length,wt=gt?q[G+2]:0;let Qn=(15&Je)<<2|wt>>6,Yi=63&wt;gt||(Yi=64,ke||(Qn=64)),De.push(W[ie>>2],W[(3&ie)<<4|Je>>4],W[Qn],W[Yi])}return De.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(ae(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let W=0,De=0;for(;W<q.length;){const G=q[W++];if(G<128)z[De++]=String.fromCharCode(G);else if(G>191&&G<224){const ie=q[W++];z[De++]=String.fromCharCode((31&G)<<6|63&ie)}else if(G>239&&G<365){const gt=((7&G)<<18|(63&q[W++])<<12|(63&q[W++])<<6|63&q[W++])-65536;z[De++]=String.fromCharCode(55296+(gt>>10)),z[De++]=String.fromCharCode(56320+(1023&gt))}else{const ie=q[W++],ke=q[W++];z[De++]=String.fromCharCode((15&G)<<12|(63&ie)<<6|63&ke)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const W=z?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let G=0;G<q.length;){const ie=W[q.charAt(G++)],Je=G<q.length?W[q.charAt(G)]:0;++G;const wt=G<q.length?W[q.charAt(G)]:64;++G;const Dt=G<q.length?W[q.charAt(G)]:64;if(++G,null==ie||null==Je||null==wt||null==Dt)throw Error();De.push(ie<<2|Je>>4),64!==wt&&(De.push(Je<<4&240|wt>>2),64!==Dt&&De.push(wt<<6&192|Dt))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ue=function(q){return function(q){const z=ae(q);return me.encodeByteArray(z,!0)}(q).replace(/\./g,"")},he=function(q){try{return me.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function U(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const W in z)!z.hasOwnProperty(W)||!J(W)||(q[W]=U(q[W],z[W]));return q}function J(q){return"__proto__"!==q}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,W)=>{this.resolve=z,this.reject=W})}wrapCallback(z){return(W,De)=>{W?this.reject(W):this.resolve(De),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(W):z(W,De))}}}function Ie(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=z||"demo-project",G=q.iat||0,ie=q.sub||q.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:G,exp:G+3600,auth_time:G,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ke)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function qe(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return Me().indexOf("Electron/")>=0}function ve(){const q=Me();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ce(){return Me().indexOf("MSAppHost/")>=0}function He(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function we(){return new Promise((q,z)=>{try{let W=!0;const De="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(De);G.onsuccess=()=>{G.result.close(),W||self.indexedDB.deleteDatabase(De),q(!0)},G.onupgradeneeded=()=>{W=!1},G.onerror=()=>{var ie;z((null===(ie=G.error)||void 0===ie?void 0:ie.message)||"")}}catch(W){z(W)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _e extends Error{constructor(z,W,De){super(W),this.code=z,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(z,W,De){this.service=z,this.serviceName=W,this.errors=De}create(z,...W){const De=W[0]||{},G=`${this.service}/${z}`,ie=this.errors[z],ke=ie?function Pe(q,z){return q.replace(ut,(W,De)=>{const G=z[De];return null!=G?String(G):`<${De}?>`})}(ie,De):"Error";return new _e(G,`${this.serviceName}: ${ke} (${G}).`,De)}}const ut=/\{\$([^}]+)}/g;function Ii(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function Lt(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function tr(q,z){if(q===z)return!0;const W=Object.keys(q),De=Object.keys(z);for(const G of W){if(!De.includes(G))return!1;const ie=q[G],ke=z[G];if(Ei(ie)&&Ei(ke)){if(!tr(ie,ke))return!1}else if(ie!==ke)return!1}for(const G of De)if(!W.includes(G))return!1;return!0}function Ei(q){return null!==q&&"object"==typeof q}function Ti(q){const z=[];for(const[W,De]of Object.entries(q))Array.isArray(De)?De.forEach(G=>{z.push(encodeURIComponent(W)+"="+encodeURIComponent(G))}):z.push(encodeURIComponent(W)+"="+encodeURIComponent(De));return z.length?"&"+z.join("&"):""}function zr(q){const z={};return q.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[G,ie]=De.split("=");z[decodeURIComponent(G)]=decodeURIComponent(ie)}}),z}function As(q){const z=q.indexOf("?");if(!z)return"";const W=q.indexOf("#",z);return q.substring(z,W>0?W:void 0)}function wr(q,z){const W=new dt(q,z);return W.subscribe.bind(W)}class dt{constructor(z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{z(this)}).catch(De=>{this.error(De)})}next(z){this.forEachObserver(W=>{W.next(z)})}error(z){this.forEachObserver(W=>{W.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,W,De){let G;if(void 0===z&&void 0===W&&void 0===De)throw new Error("Missing Observer.");G=function Rn(q,z){if("object"!=typeof q||null===q)return!1;for(const W of z)if(W in q&&"function"==typeof q[W])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:W,complete:De},void 0===G.next&&(G.next=Dn),void 0===G.error&&(G.error=Dn),void 0===G.complete&&(G.complete=Dn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),ie}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,z)}sendOne(z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{W(this.observers[z])}catch(De){typeof console<"u"&&console.error&&console.error(De)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function At(q,z=1e3,W=2){const De=z*Math.pow(W,q),G=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+G)}function sr(q){return q&&q._delegate?q._delegate:q}},341:(rt,xe,P)=>{var l=P(4650);let Y=null;function F(){return Y}const ee=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)(U)}()},providedIn:"platform"}),n})();const j=new l.OlP("Location Initialized");let U=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){J()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){J()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ze(){return new U((0,l.LFG)(ee))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){const n=(0,l.LFG)(ee).location;return new Qe((0,l.LFG)(ue),n&&n.origin||"")}()},providedIn:"root"}),n})();const qe=new l.OlP("appBaseHref");let Qe=(()=>{class n extends pe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const u=this.prepareExternalUrl(r+Ue(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){const u=this.prepareExternalUrl(r+Ue(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ie(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let u=this.prepareExternalUrl(r+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){let u=this.prepareExternalUrl(r+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Me(He(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function je(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ie,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(){return new ve((0,l.LFG)(pe))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Format=0]="Format",oe[oe.Standalone=1]="Standalone",oe))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function Qt(n,t){return Rn((0,l.cg1)(n)[l.wAp.DateFormat],t)}function Ii(n,t){return Rn((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function Zt(n,t){return Rn((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function Lt(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ce.CurrencyDecimal)return e[l.wAp.NumberSymbols][ce.Decimal];if(t===ce.CurrencyGroup)return e[l.wAp.NumberSymbols][ce.Group]}return i}function nr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Dn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Hn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,br={},Bo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),Ge=(()=>((Ge=Ge||{})[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function Mi(n,t,e,i){let r=function ui(n){if(Ri(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(h=>+h);return Kn(r,a-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Hn))return function gi(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,y=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,u,h,y,w),t}(i)}const t=new Date(n);if(!Ri(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=At(e,t)||t;let h,u=[];for(;t;){if(h=Bo.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let y=r.getTimezoneOffset();i&&(y=Yi(i,y),r=function Xn(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Xt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Yi(t,r)-r))}(r,i,!0));let w="";return u.forEach(D=>{const A=function Qn(n){if(Dt[n])return Dt[n];let t;switch(n){case"G":case"GG":case"GGG":t=W(Et.Eras,te.Abbreviated);break;case"GGGG":t=W(Et.Eras,te.Wide);break;case"GGGGG":t=W(Et.Eras,te.Narrow);break;case"y":t=q(Ge.FullYear,1,0,!1,!0);break;case"yy":t=q(Ge.FullYear,2,0,!0,!0);break;case"yyy":t=q(Ge.FullYear,3,0,!1,!0);break;case"yyyy":t=q(Ge.FullYear,4,0,!1,!0);break;case"Y":t=vn(1);break;case"YY":t=vn(2,!0);break;case"YYY":t=vn(3);break;case"YYYY":t=vn(4);break;case"M":case"L":t=q(Ge.Month,1,1);break;case"MM":case"LL":t=q(Ge.Month,2,1);break;case"MMM":t=W(Et.Months,te.Abbreviated);break;case"MMMM":t=W(Et.Months,te.Wide);break;case"MMMMM":t=W(Et.Months,te.Narrow);break;case"LLL":t=W(Et.Months,te.Abbreviated,oe.Standalone);break;case"LLLL":t=W(Et.Months,te.Wide,oe.Standalone);break;case"LLLLL":t=W(Et.Months,te.Narrow,oe.Standalone);break;case"w":t=wt(1);break;case"ww":t=wt(2);break;case"W":t=wt(1,!0);break;case"d":t=q(Ge.Date,1);break;case"dd":t=q(Ge.Date,2);break;case"c":case"cc":t=q(Ge.Day,1);break;case"ccc":t=W(Et.Days,te.Abbreviated,oe.Standalone);break;case"cccc":t=W(Et.Days,te.Wide,oe.Standalone);break;case"ccccc":t=W(Et.Days,te.Narrow,oe.Standalone);break;case"cccccc":t=W(Et.Days,te.Short,oe.Standalone);break;case"E":case"EE":case"EEE":t=W(Et.Days,te.Abbreviated);break;case"EEEE":t=W(Et.Days,te.Wide);break;case"EEEEE":t=W(Et.Days,te.Narrow);break;case"EEEEEE":t=W(Et.Days,te.Short);break;case"a":case"aa":case"aaa":t=W(Et.DayPeriods,te.Abbreviated);break;case"aaaa":t=W(Et.DayPeriods,te.Wide);break;case"aaaaa":t=W(Et.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":t=W(Et.DayPeriods,te.Abbreviated,oe.Standalone,!0);break;case"bbbb":t=W(Et.DayPeriods,te.Wide,oe.Standalone,!0);break;case"bbbbb":t=W(Et.DayPeriods,te.Narrow,oe.Standalone,!0);break;case"B":case"BB":case"BBB":t=W(Et.DayPeriods,te.Abbreviated,oe.Format,!0);break;case"BBBB":t=W(Et.DayPeriods,te.Wide,oe.Format,!0);break;case"BBBBB":t=W(Et.DayPeriods,te.Narrow,oe.Format,!0);break;case"h":t=q(Ge.Hours,1,-12);break;case"hh":t=q(Ge.Hours,2,-12);break;case"H":t=q(Ge.Hours,1);break;case"HH":t=q(Ge.Hours,2);break;case"m":t=q(Ge.Minutes,1);break;case"mm":t=q(Ge.Minutes,2);break;case"s":t=q(Ge.Seconds,1);break;case"ss":t=q(Ge.Seconds,2);break;case"S":t=q(Ge.FractionalSeconds,1);break;case"SS":t=q(Ge.FractionalSeconds,2);break;case"SSS":t=q(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=G(zt.Short);break;case"ZZZZZ":t=G(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=G(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=G(zt.Long);break;default:return null}return Dt[n]=t,t}(D);w+=A?A(r,e,y):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function Kn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function At(n,t){const e=function ut(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(br[e]=br[e]||{},br[e][t])return br[e][t];let i="";switch(t){case"shortDate":i=Qt(n,_e.Short);break;case"mediumDate":i=Qt(n,_e.Medium);break;case"longDate":i=Qt(n,_e.Long);break;case"fullDate":i=Qt(n,_e.Full);break;case"shortTime":i=Ii(n,_e.Short);break;case"mediumTime":i=Ii(n,_e.Medium);break;case"longTime":i=Ii(n,_e.Long);break;case"fullTime":i=Ii(n,_e.Full);break;case"short":const r=At(n,"shortTime"),a=At(n,"shortDate");i=Cr(Zt(n,_e.Short),[r,a]);break;case"medium":const u=At(n,"mediumTime"),h=At(n,"mediumDate");i=Cr(Zt(n,_e.Medium),[u,h]);break;case"long":const y=At(n,"longTime"),w=At(n,"longDate");i=Cr(Zt(n,_e.Long),[y,w]);break;case"full":const D=At(n,"fullTime"),A=At(n,"fullDate");i=Cr(Zt(n,_e.Full),[D,A])}return i&&(br[e][t]=i),i}function Cr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Zn(n,t,e="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),a+u}function q(n,t,e=0,i=!1,r=!1){return function(a,u){let h=function z(n,t){switch(n){case Ge.FullYear:return t.getFullYear();case Ge.Month:return t.getMonth();case Ge.Date:return t.getDate();case Ge.Hours:return t.getHours();case Ge.Minutes:return t.getMinutes();case Ge.Seconds:return t.getSeconds();case Ge.FractionalSeconds:return t.getMilliseconds();case Ge.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||h>-e)&&(h+=e),n===Ge.Hours)0===h&&-12===e&&(h=12);else if(n===Ge.FractionalSeconds)return function sr(n,t){return Zn(n,3).substring(0,t)}(h,t);const y=Lt(u,ce.MinusSign);return Zn(h,t,y,i,r)}}function W(n,t,e=oe.Format,i=!1){return function(r,a){return function De(n,t,e,i,r,a){switch(e){case Et.Months:return function We(n,t,e){const i=(0,l.cg1)(n),a=Rn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return Rn(a,e)}(t,r,i)[n.getMonth()];case Et.Days:return function jt(n,t,e){const i=(0,l.cg1)(n),a=Rn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return Rn(a,e)}(t,r,i)[n.getDay()];case Et.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(a){const w=function wr(n){const t=(0,l.cg1)(n);return nr(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Dn(i):[Dn(i[0]),Dn(i[1])])}(t),D=function dt(n,t,e){const i=(0,l.cg1)(n);nr(i);const a=Rn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return Rn(a,e)||[]}(t,r,i),A=w.findIndex(O=>{if(Array.isArray(O)){const[V,B]=O,X=u>=V.hours&&h>=V.minutes,de=u<B.hours||u===B.hours&&h<B.minutes;if(V.hours<B.hours){if(X&&de)return!0}else if(X||de)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==A)return D[A]}return function $t(n,t,e){const i=(0,l.cg1)(n),a=Rn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return Rn(a,e)}(t,r,i)[u<12?0:1];case Et.Eras:return function ln(n,t){return Rn((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,a,n,t,e,i)}}function G(n){return function(t,e,i){const r=-1*i,a=Lt(e,ce.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case zt.Short:return(r>=0?"+":"")+Zn(u,2,a)+Zn(Math.abs(r%60),2,a);case zt.ShortGMT:return"GMT"+(r>=0?"+":"")+Zn(u,1,a);case zt.Long:return"GMT"+(r>=0?"+":"")+Zn(u,2,a)+":"+Zn(Math.abs(r%60),2,a);case zt.Extended:return 0===i?"Z":(r>=0?"+":"")+Zn(u,2,a)+":"+Zn(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function gt(n){return Kn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function wt(n,t=!1){return function(e,i){let r;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+a)/7)}else{const a=gt(e),u=function Je(n){const t=Kn(n,0,1).getDay();return Kn(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),h=a.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Zn(r,n,Lt(i,ce.MinusSign))}}function vn(n,t=!1){return function(e,i){return Zn(gt(e).getFullYear(),n,Lt(i,ce.MinusSign),t)}}const Dt={};function Yi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ri(n){return n instanceof Date&&!isNaN(n.valueOf())}let Ts=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $o=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const h=i.get(a);i.move(h,u),Dr(h,r)}});for(let r=0,a=i.length;r<a;r++){const h=i.get(r).context;h.index=r,h.count=a,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Dr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Dr(n,t){n.context.$implicit=t.item}let zo=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new yi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Oi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Oi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class yi{constructor(){this.$implicit=null,this.ngIf=null}}function Oi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class qo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let co=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),uo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new qo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(co,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),xr=(()=>{class n{constructor(e,i,r){r._addDefault(new qo(e,i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(co,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function Jn(n,t){return new l.vHH(2100,"")}class ju{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Wp{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const os=new Wp,Yp=new ju;let Mc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return os;if((0,l.F4k)(e))return Yp;throw Jn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})();const Zp=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Oh=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,a){if(null==e||""===e||e!=e)return null;try{return Mi(e,i,a||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Jn()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(Zp,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ho="browser";function Ar(n){return n===ho}function Nn(n){return"server"===n}let Yo=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ph((0,l.LFG)(ee),window)}),n})();class Ph{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Rl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=en(this.window.history)||en(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function en(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fo extends class Fa extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){Y||(Y=n)}(new fo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ki(){return ar=ar||document.querySelector("base"),ar?ar.getAttribute("href"):null}();return null==e?null:function Ko(n){Os=Os||document.createElement("a"),Os.setAttribute("href",n);const t=Os.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ar=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Uu(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Os,ar=null;const ls=new l.OlP("TRANSITION_ID"),Ol=[{provide:l.ip1,useFactory:function qt(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[ls,ee,l.zs3],multi:!0}];let Oc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pi=new l.OlP("EventManagerPlugins");let Fs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Pi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Qo{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let _t=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n extends _t{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Pa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Pa))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pa(n){F().remove(n)}const po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Na=/%COMP%/g;function Ns(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ns(n,r,e):(r=r.replace(Na,n),e.push(r))}return e}function Xo(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let go=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new cs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Xp(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new Pc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ns(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fs),l.LFG(Ps),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class cs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(po[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Pl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Pl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=po[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=po[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Xo(i)):this.eventManager.addEventListener(t,e,Xo(i))}}function Pl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xp extends cs{constructor(t,e,i,r){super(t),this.component=i;const a=Ns(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function Ae(n){return"_ngcontent-%COMP%".replace(Na,n)}(r+"-"+i.id),this.hostAttr=function Vt(n){return"_nghost-%COMP%".replace(Na,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Pc extends cs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ns(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nh=(()=>{class n extends Qo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba=["alt","control","meta","shift"],us={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ea={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ls={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tr=(()=>{class n extends Qo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Ba.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),u+=y+".")}),u+=a,0!=i.length||0===a.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Nc(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ea.hasOwnProperty(t)&&(t=ea[t]))}return us[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ba.forEach(a=>{a!=r&&Ls[a](e)&&(i+=a+".")}),i+=r,i}static eventCallback(e,i,r){return a=>{n.getEventFullKey(a)===e&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Lh=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:ho},{provide:l.g9A,useValue:function Ua(){fo.makeCurrent()},multi:!0},{provide:ee,useFactory:function Nl(){return(0,l.RDi)(document),document},deps:[]}]),ja=new l.OlP(""),mo=[{provide:l.rWj,useClass:class Zo{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const h=function(y){u=u||y,a--,0==a&&i(u)};r.forEach(function(y){y.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ia=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ha(){return new l.qLn},deps:[]},{provide:Pi,useClass:Nh,multi:!0,deps:[ee,l.R0b,l.Lbi]},{provide:Pi,useClass:Tr,multi:!0,deps:[ee]},{provide:go,useClass:go,deps:[Fs,Ps,l.AFp]},{provide:l.FYo,useExisting:go},{provide:_t,useExisting:Ps},{provide:Ps,useClass:Ps,deps:[ee]},{provide:Fs,useClass:Fs,deps:[Pi,l.R0b]},{provide:class Cn{},useClass:Oc,deps:[]},[]];let Vc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:ls,useExisting:l.AFp},Ol]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ja,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ia,...mo],imports:[Fi,l.hGG]}),n})(),Wu=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Uc(){return new Wu((0,l.LFG)(ee))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Us=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(lr),i},providedIn:"root"}),n})(),lr=(()=>{class n extends Us{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Zu(n){return new lr(n.get(ee))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Xu=P(3098);class Mr{}const Wt="*";function Rr(n,t){return{type:7,name:n,definitions:t,options:{}}}function Di(n,t=null){return{type:4,styles:t,timings:n}}function qa(n,t=null){return{type:2,steps:n,options:t}}function Sn(n){return{type:6,styles:n,offset:null}}function Hs(n,t,e){return{type:0,name:n,styles:t,options:e}}function cr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sa(n=null){return{type:9,options:n}}function xi(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Wa(n){Promise.resolve(null).then(n)}class qr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class aa{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?Wa(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const js=cr(":enter",[Sn({opacity:0}),Di("300ms ease-in",Sn({opacity:1}))]),jl=cr(":leave",[Sn({opacity:1}),Di("300ms ease-out",Sn({opacity:0}))]),Gl=Rr("fadeIn",[js]),la=Rr("fadeOut",[jl]);var xt=P(7579);class _n extends xt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}let Ka=(()=>{class n{constructor(){this._username="",this.dealer=new _n(this._username),this.dealer$=this.dealer.asObservable()}setUsername(e){this._username=e,this.dealer.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var sn=P(8996),qn=P(8306);const{isArray:$l}=Array,{getPrototypeOf:Za,prototype:Ju,keys:Qa}=Object;function zl(n){if(1===n.length){const t=n[0];if($l(t))return{args:t,keys:null};if(function Gs(n){return n&&"object"==typeof n&&Za(n)===Ju}(t)){const e=Qa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Li=P(8421),Or=P(3269),Vn=P(5403),st=P(4004);const{isArray:wo}=Array;function ed(n){return(0,st.U)(t=>function Cy(n,t){return wo(t)?n(...t):n(t)}(n,t))}function fn(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function td(...n){const t=(0,Or.jO)(n),{args:e,keys:i}=zl(n),r=new qn.y(a=>{const{length:u}=e;if(!u)return void a.complete();const h=new Array(u);let y=u,w=u;for(let D=0;D<u;D++){let A=!1;(0,Li.Xf)(e[D]).subscribe((0,Vn.x)(a,O=>{A||(A=!0,w--),h[D]=O},()=>y--,void 0,()=>{(!y||!A)&&(w||a.next(i?fn(i,h):h),a.complete())}))}});return t?r.pipe(ed(t)):r}let nd=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),$s=(()=>{class n extends nd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Wr=new l.OlP("NgValueAccessor"),id={provide:Wr,useExisting:(0,l.Gpc)(()=>$c),multi:!0},rd=new l.OlP("CompositionEventMode");let $c=(()=>{class n extends nd{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xa(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(rd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([id]),l.qOj]}),n})();function cn(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ql(n){return null!=n&&"number"==typeof n.length}const En=new l.OlP("NgValidators"),Yr=new l.OlP("NgAsyncValidators"),zc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _i{static min(t){return function Vi(n){return t=>{if(cn(t.value)||cn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function hs(n){return t=>{if(cn(t.value)||cn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Zi(n){return cn(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Kr(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Ja(n){return cn(n.value)||zc.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Wl(n){return t=>cn(t.value)||!ql(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function jh(n){return t=>ql(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function sd(n){if(!n)return qc;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(cn(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Zr(t)}static composeAsync(t){return qs(t)}}function qc(n){return null}function Wc(n){return null!=n}function Bi(n){const t=(0,l.QGY)(n)?(0,sn.D)(n):n;return(0,l.CqO)(t),t}function Fr(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function zs(n,t){return t.map(e=>e(n))}function Yc(n){return n.map(t=>function od(n){return!n.validate}(t)?t:e=>t.validate(e))}function Zr(n){if(!n)return null;const t=n.filter(Wc);return 0==t.length?null:function(e){return Fr(zs(e,t))}}function el(n){return null!=n?Zr(Yc(n)):null}function qs(n){if(!n)return null;const t=n.filter(Wc);return 0==t.length?null:function(e){return td(zs(e,t).map(Bi)).pipe((0,st.U)(Fr))}}function ca(n){return null!=n?qs(Yc(n)):null}function Gh(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Kc(n){return n._rawValidators}function ua(n){return n._rawAsyncValidators}function Ws(n){return n?Array.isArray(n)?n:[n]:[]}function Yl(n,t){return Array.isArray(n)?n.includes(t):n===t}function x(n,t){const e=Ws(t);return Ws(n).forEach(r=>{Yl(e,r)||e.push(r)}),e}function S(n,t){return Ws(t).filter(e=>!Yl(n,e))}class M{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=el(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ca(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class L extends M{get formDirective(){return null}get path(){return null}}class Q extends M{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let yt=(()=>{class n extends class re{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Q,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})();const Qc="VALID",fs="INVALID",Zs="PENDING",Xc="DISABLED";function Wh(n){return(ad(n)?n.validators:n)||null}function Yh(n){return Array.isArray(n)?el(n):n||null}function Ql(n,t){return(ad(t)?t.asyncValidators:n)||null}function Ey(n){return Array.isArray(n)?ca(n):n||null}function ad(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Jc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Yh(this._rawValidators),this._composedAsyncValidatorFn=Ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qc}get invalid(){return this.status===fs}get pending(){return this.status==Zs}get disabled(){return this.status===Xc}get enabled(){return this.status!==Xc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Yh(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ey(t)}addValidators(t){this.setValidators(x(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(x(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(S(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(S(t,this._rawAsyncValidators))}hasValidator(t){return Yl(this._rawValidators,t)}hasAsyncValidator(t){return Yl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qc,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qc||this.status===Zs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xc:Qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;const e=Bi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Xc:this.errors?fs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(fs)?fs:Qc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ad(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class ld extends Jc{constructor(t,e,i){super(Wh(e),Ql(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function ig(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function ng(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function da(n,t){Zh(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function cd(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eu(n,t)})}(n,t),function og(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Xh(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eu(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function sg(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Xl(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Qh(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Do(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Zh(n,t){const e=Kc(n);null!==t.validator?n.setValidators(Gh(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=ua(n);null!==t.asyncValidator?n.setAsyncValidators(Gh(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Do(t._rawValidators,r),Do(t._rawAsyncValidators,r)}function Qh(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Kc(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=ua(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Do(t._rawValidators,i),Do(t._rawAsyncValidators,i),e}function eu(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tu(n,t){Zh(n,t)}function nl(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const il={provide:L,useExisting:(0,l.Gpc)(()=>iu)},nu=(()=>Promise.resolve(null))();let iu=(()=>{class n extends L{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new ld({},el(e),ca(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){nu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),da(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){nu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){nu.then(()=>{const i=this._findContainer(e.path),r=new ld({});tu(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){nu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){nu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nl(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(En,10),l.Y36(Yr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([il]),l.qOj]}),n})();function ru(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function ag(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fd=class extends Jc{constructor(t=null,e,i){super(Wh(e),Ql(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ad(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ag(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ru(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ru(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ag(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},lg={provide:Q,useExisting:(0,l.Gpc)(()=>gd)},nf=(()=>Promise.resolve(null))();let gd=(()=>{class n extends Q{constructor(e,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new fd,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function hd(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===$c?e=a:function Qs(n){return Object.getPrototypeOf(n.constructor)===$s}(a)?i=a:r=a}),r||i||e||null}(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function dd(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){da(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){nf.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);nf.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Kh(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(L,9),l.Y36(En,10),l.Y36(Yr,10),l.Y36(Wr,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([lg]),l.qOj,l.TTD]}),n})(),My=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const rf=new l.OlP("NgModelWithFormControlWarning"),_d={provide:L,useExisting:(0,l.Gpc)(()=>ec)};let Ve,ec=(()=>{class n extends L{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return da(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Xl(e.control||null,e,!1),function Iy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nl(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Xl(i||null,e),(n=>n instanceof fd)(r)&&(da(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);tu(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function tl(n,t){return Qh(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zh(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(En,10),l.Y36(Yr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_d]),l.qOj,l.TTD]}),n})(),Sd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[My]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sd]}),n})(),Ly=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sd]}),n})();try{Ve=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ve=!1}let et,Be=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ar(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ve)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ti=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ps(){if(et)return et;if("object"!=typeof document||!document)return et=new Set(ti),et;let n=document.createElement("input");return et=new Set(ti.filter(t=>(n.setAttribute("type",t),n.type===t))),et}let al,Xs,du;function ic(n){return function pf(){if(null==al&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>al=!0}))}finally{al=al||!1}return al}()?n:!!n.capture}function uu(){if(null==Xs){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xs=!1,Xs;if("scrollBehavior"in document.documentElement.style)Xs=!0;else{const n=Element.prototype.scrollTo;Xs=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xs}function gs(n){return n.composedPath?n.composedPath()[0]:n.target}function hu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Js=P(727);function at(...n){const t=(0,Or.yG)(n);return(0,sn.D)(n,t)}function Id(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var In=P(8505),Eg=P(4986),Ui=P(4482);function Td(n,t=Eg.z){return(0,Ui.e)((e,i)=>{let r=null,a=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function y(){const w=u+n,D=t.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);h()}e.subscribe((0,Vn.x)(i,w=>{a=w,u=t.now(),r||(r=t.schedule(y,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{a=r=null}))})}function Hi(n,t){return(0,Ui.e)((e,i)=>{let r=0;e.subscribe((0,Vn.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}function zy(n){return Hi((t,e)=>n<=e)}var wf=P(4671);function qy(n,t=wf.y){return n=n??VS,(0,Ui.e)((e,i)=>{let r,a=!0;e.subscribe((0,Vn.x)(i,u=>{const h=t(u);(a||!n(r,h))&&(a=!1,r=h,i.next(u))}))})}function VS(n,t){return n===t}var BS=P(5032);function tn(n){return(0,Ui.e)((t,e)=>{(0,Li.Xf)(n).subscribe((0,Vn.x)(e,()=>e.complete(),BS.Z)),!e.closed&&t.subscribe(e)})}function on(n){return null!=n&&"false"!=`${n}`}function dl(n,t=0){return Wy(n)?Number(n):t}function Wy(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bf(n){return Array.isArray(n)?n:[n]}function ni(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rc(n){return n instanceof l.SBq?n.nativeElement:n}let Ub=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$F=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=rc(e);return new qn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ub))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Md=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=on(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=dl(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Td(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36($F),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Yy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ub]}),n})();var US=P(9672);function Rd(...n){const t=(0,Or.yG)(n),e=(0,Or.jO)(n),{args:i,keys:r}=zl(n);if(0===i.length)return(0,sn.D)([],t);const a=new qn.y(function Ky(n,t,e=wf.y){return i=>{HS(t,()=>{const{length:r}=n,a=new Array(r);let u=r,h=r;for(let y=0;y<r;y++)HS(t,()=>{const w=(0,sn.D)(n[y],t);let D=!1;w.subscribe((0,Vn.x)(i,A=>{a[y]=A,D||(D=!0,h--),h||i.next(e(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>fn(r,u):wf.y));return e?a.pipe(ed(e)):a}function HS(n,t,e){n?(0,US.f)(e,n,t):t()}var Dg=P(8189);function Qy(...n){return function Zy(){return(0,Dg.J)(1)}()((0,sn.D)(n,(0,Or.yG)(n)))}var Jr=P(5698);function hl(...n){const t=(0,Or.yG)(n);return(0,Ui.e)((e,i)=>{(t?Qy(n,e,t):Qy(n,e)).subscribe(i)})}const jS=new Set;let fu,Xy=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GS}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Hb(n){if(!jS.has(n))try{fu||(fu=document.createElement("style"),fu.setAttribute("type","text/css"),document.head.appendChild(fu)),fu.sheet&&(fu.sheet.insertRule(`@media ${n} {body{ }}`,0),jS.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Cf=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Jy(bf(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let a=Rd(Jy(bf(e)).map(u=>this._registerQuery(u).observable));return a=Qy(a.pipe((0,Jr.q)(1)),a.pipe(zy(1),Td(0))),a.pipe((0,st.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:w})=>{h.matches=h.matches||y,h.breakpoints[w]=y}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new qn.y(u=>{const h=y=>this._zone.run(()=>u.next(y));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(hl(i),(0,st.U)(({matches:u})=>({query:e,matches:u})),tn(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xy),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jy(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function kd(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const xg="cdk-describedby-message",Df="cdk-describedby-host";let xf=0,zF=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+xf++,this._document=e,this._id=(0,l.f3M)(l.AFp)+"-"+xf++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const a=Sg(i,r);"string"!=typeof i?(zS(i,this._id),this._messageRegistry.set(a,{messageElement:i,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const a=Sg(i,r);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),"string"==typeof i){const u=this._messageRegistry.get(a);u&&0===u.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Df}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Df);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");zS(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Sg(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let a=0;a<i.length;a++)i[a].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=kd(e,"aria-describedby").filter(r=>0!=r.indexOf(xg));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function jb(n,t,e){const i=kd(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Df,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function $S(n,t,e){const r=kd(n,t).filter(a=>a!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Df)}_isElementDescribedByMessage(e,i){const r=kd(e,"aria-describedby"),a=this._messageRegistry.get(i),u=a&&a.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),a=e.getAttribute("aria-label");return!(!r||a&&a.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee),l.LFG(Be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sg(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function zS(n,t){n.id||(n.id=`${xg}-${t}-${xf++}`)}class Ig extends class Ag{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xt.x,this._typeaheadSubscription=Js.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xt.x,this.change=new xt.x,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,In.b)(e=>this._pressedLetters.push(e)),Td(t),Hi(()=>this._pressedLetters.length>0),(0,st.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Id(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function QS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function XS(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const KF=new l.OlP("cdk-input-modality-detector-options"),oc={ignoreKeys:[18,17,224,91,16]},Od=ic({passive:!0,capture:!0});let Kb=(()=>{class n{constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new _n(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gs(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(QS(u)?"keyboard":"mouse"),this._mostRecentTarget=gs(u))},this._onTouchstart=u=>{XS(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gs(u))},this._options={...oc,...a},this.modalityDetected=this._modality.pipe(zy(1)),this.modalityChanged=this.modalityDetected.pipe(qy()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Od),r.addEventListener("mousedown",this._onMousedown,Od),r.addEventListener("touchstart",this._onTouchstart,Od)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Od),document.removeEventListener("mousedown",this._onMousedown,Od),document.removeEventListener("touchstart",this._onTouchstart,Od))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Be),l.LFG(l.R0b),l.LFG(ee),l.LFG(KF,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e_=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Zb(){return null}}),t_=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let n_=(()=>{class n{constructor(e,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(e_,8),l.LFG(l.R0b),l.LFG(ee),l.LFG(t_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qb=new l.OlP("cdk-focus-monitor-default-options"),Mg=ic({passive:!0,capture:!0});let Rg=(()=>{class n{constructor(e,i,r,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=h=>{const y=gs(h),w="focus"===h.type?this._onFocus:this._onBlur;for(let D=y;D;D=D.parentElement)w.call(this,h,D)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=rc(e);if(!this._platform.isBrowser||1!==r.nodeType)return at(null);const a=function gf(n){if(function ll(){if(null==du){const n=typeof document<"u"?document.head:null;du=!(!n||!n.createShadowRoot&&!n.attachShadow)}return du}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new xt.x,rootNode:a};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=rc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=rc(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,y])=>this._originChanged(h,i,y)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=gs(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(tn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Be),l.LFG(Kb),l.LFG(ee,8),l.LFG(Qb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i_="cdk-high-contrast-black-on-white",Xb="cdk-high-contrast-white-on-black",r_="cdk-high-contrast-active";let Fd=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(Cf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(r_,i_,Xb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(r_,i_):2===i&&e.add(r_,Xb)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Be),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pd=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fd))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yy]}),n})();const s_=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Nd(){return(0,l.f3M)(ee)}}),Sf=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ac=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Ld(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Sf.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(s_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Og(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=l.oxw();l.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function tA(n,t){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const eC=["*"],tC=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function sA(){return!0}});let ii=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!hu()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fd),l.LFG(tC,8),l.LFG(ee))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gu,gu]}),n})();function o_(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=on(t)}}}function a_(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function nC(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=on(t)}}}function l_(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?dl(e):this.defaultTabIndex}}}function c_(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}function oA(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new qn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let Af=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fA{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iC={enterDuration:225,exitDuration:150},If=ic({passive:!0}),rC=["mousedown","touchstart"],sC=["mouseup","mouseleave","touchend","touchcancel"];class Pg{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...iC,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function u_(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,y=e-r.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=y-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const A=window.getComputedStyle(D),V=A.transitionDuration,B="none"===A.transitionProperty||"0s"===V||"0s, 0s"===V,X=new fA(this,D,i,B);D.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let de=null;return!B&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Fe=()=>this._finishRippleTransition(X),tt=()=>this._destroyRipple(X);D.addEventListener("transitionend",Fe),D.addEventListener("transitioncancel",tt),de={onTransitionEnd:Fe,onTransitionCancel:tt}}),this._activeRipples.set(X,de),(B||!w)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...iC,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=rc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(rC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(sC),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=QS(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!XS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,If)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(rC.forEach(t=>{this._triggerElement.removeEventListener(t,this,If)}),this._pointerUpEventsRegistered&&sC.forEach(t=>{this._triggerElement.removeEventListener(t,this,If)}))}}const gA=new l.OlP("mat-ripple-global-options");let Tf=(()=>{class n{constructor(e,i,r,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Pg(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Be),l.Y36(gA,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ii,ii]}),n})(),oC=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ii]}),n})();const mA=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),d_=new l.OlP("MatOptgroup");let lC=0;class cC{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let uC=(()=>{class n{constructor(e,i,r,a){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+lC++,this.onSelectionChange=new l.vpe,this._stateChanges=new xt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=on(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Id(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new cC(this,e))}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),fa=(()=>{class n extends uC{constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(mA,8),l.Y36(d_,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:eC,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,Og,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,tA,2,1,"span",2),l._UZ(4,"div",3)),2&e&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Tf,zo,oC],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],encapsulation:2,changeDetection:0}),n})();function Mf(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let dC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ng,Fi,ii,oP]}),n})();var Io=P(576);function lc(n,t){const e=(0,Io.m)(n)?n:()=>n,i=r=>r.error(e());return new qn.y(t?r=>t.schedule(i,0,r):i)}function pa(n){return(0,Ui.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,Vn.x)(e,void 0,void 0,u=>{a=(0,Li.Xf)(n(u,pa(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}function Rf(n){return(0,Ui.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var h_=P(3099),Ji=P(5577);function Vd(n,t){return(0,Io.m)(t)?(0,Ji.z)(n,t,1):(0,Ji.z)(n,1)}class vA{}class cc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),a=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===a.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class hC{encodeKey(t){return pC(t)}encodeValue(t){return pC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fC=/%(\d[a-f0-9])/gi,wA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pC(n){return encodeURIComponent(n).replace(fC,(t,e)=>wA[e]??t)}function f_(n){return`${n}`}class mu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cP(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,h]=-1==a?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],y=e.get(u)||[];y.push(h),e.set(u,y)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(f_):[f_(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new mu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(f_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(f_(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class bA{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function p_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function CA(n){return typeof Blob<"u"&&n instanceof Blob}function no(n){return typeof FormData<"u"&&n instanceof FormData}class Lg{constructor(t,e,i,r){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new cc),this.context||(this.context=new bA),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new mu,this.urlWithParams=e}serializeBody(){return null===this.body?null:p_(this.body)||CA(this.body)||no(this.body)||function dP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||no(this.body)?null:CA(this.body)?this.body.type||null:p_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,w=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((A,O)=>A.set(O,t.setHeaders[O]),y)),t.setParams&&(w=Object.keys(t.setParams).reduce((A,O)=>A.set(O,t.setParams[O]),w)),new Lg(e,i,a,{params:w,headers:y,context:D,reportProgress:h,responseType:r,withCredentials:u})}}var ji=(()=>((ji=ji||{})[ji.Sent=0]="Sent",ji[ji.UploadProgress=1]="UploadProgress",ji[ji.ResponseHeader=2]="ResponseHeader",ji[ji.DownloadProgress=3]="DownloadProgress",ji[ji.Response=4]="Response",ji[ji.User=5]="User",ji))();class m_ extends class mC{constructor(t,e=200,i="OK"){this.headers=t.headers||new cc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ji.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new m_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Vg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Bg=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let a;if(e instanceof Lg)a=e;else{let y,w;y=r.headers instanceof cc?r.headers:new cc(r.headers),r.params&&(w=r.params instanceof mu?r.params:new mu({fromObject:r.params})),a=new Lg(e,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=at(a).pipe(Vd(y=>this.handler.handle(y)));if(e instanceof Lg||"events"===r.observe)return u;const h=u.pipe(Hi(y=>y instanceof m_));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,st.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return h.pipe((0,st.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return h.pipe((0,st.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return h.pipe((0,st.U)(y=>y.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new mu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Vg(r,i))}post(e,i,r={}){return this.request("POST",e,Vg(r,i))}put(e,i,r={}){return this.request("PUT",e,Vg(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Hd=["*"];let gl;function ga(n){return function jd(){if(void 0===gl&&(gl=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(gl=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return gl}()?.createHTML(n)||n}function yu(n){return Error(`Unable to find icon with the name "${n}"`)}function v_(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function w_(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class uc{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Nf=(()=>{class n{constructor(e,i,r,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,a){return this._addSvgIconConfig(e,i,new uc(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw w_(r);const h=ga(u);return this._addSvgIconConfig(e,i,new uc("",h,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new uc(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw w_(i);const u=ga(a);return this._addSvgIconSetConfig(e,new uc("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw v_(e);const r=this._cachedIconsByUrl.get(i);return r?at(Lf(r)):this._loadSvgIconFromConfig(new uc(e,null)).pipe((0,In.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,st.U)(a=>Lf(a)))}getNamedSvgIcon(e,i=""){const r=b_(i,e);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):lc(yu(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?at(Lf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,st.U)(i=>Lf(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?at(r):td(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(pa(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),at(null)})))).pipe((0,st.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw yu(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(u,e,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,In.b)(i=>e.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?at(null):this._fetchIcon(e).pipe((0,In.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(ga("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ga("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){const{name:u,value:h}=r[a];"id"!==u&&i.setAttribute(u,h)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw function wC(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw v_(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const y=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,st.U)(w=>ga(w)),Rf(()=>this._inProgressUrlFetches.delete(u)),(0,h_.B)());return this._inProgressUrlFetches.set(u,y),y}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(b_(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,e);if(a)return xA(a)?new uc(a.url,null,a.options):new uc(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bg,8),l.LFG(Us),l.LFG(ee,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lf(n){return n.cloneNode(!0)}function b_(n,t){return n+":"+t}function xA(n){return!(!n.url||!n.options)}const CC=a_(class{constructor(n){this._elementRef=n}}),SA=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),EC=new l.OlP("mat-icon-location",{providedIn:"root",factory:function C_(){const n=(0,l.f3M)(ee),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),jg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],AA=jg.map(n=>`[${n}]`).join(", "),Gg=/^url\(['"]?#(.*?)['"]?\)$/;let $g=(()=>{class n extends CC{constructor(e,i,r,a,u,h){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Js.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=on(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(AA),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)jg.forEach(u=>{const h=i[a],y=h.getAttribute(u),w=y?y.match(Gg):null;if(w){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Jr.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Nf),l.$8M("aria-hidden"),l.Y36(EC),l.Y36(l.qLn),l.Y36(SA,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Hd,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),E_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ii,ii]}),n})();var ma=P(6451),zg=P(1144);const qg=["addListener","removeListener"],D_=["addEventListener","removeEventListener"],DC=["on","off"];function Gd(n,t,e,i){if((0,Io.m)(e)&&(i=e,e=void 0),i)return Gd(n,t,e).pipe(ed(i));const[r,a]=function A_(n){return(0,Io.m)(n.addEventListener)&&(0,Io.m)(n.removeEventListener)}(n)?D_.map(u=>h=>n[u](t,h,e)):function xC(n){return(0,Io.m)(n.addListener)&&(0,Io.m)(n.removeListener)}(n)?qg.map(x_(n,t)):function S_(n){return(0,Io.m)(n.on)&&(0,Io.m)(n.off)}(n)?DC.map(x_(n,t)):[];if(!r&&(0,zg.z)(n))return(0,Ji.z)(u=>Gd(u,t,e))((0,Li.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qn.y(u=>{const h=(...y)=>u.next(1<y.length?y:y[0]);return r(h),()=>a(h)})}function x_(n,t){return e=>i=>n[e](t,i)}const IA=["connectionContainer"],SC=["inputContainer"],AC=["label"];function I_(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function IC(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function TA(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function TC(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function MC(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function RC(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,TA,4,1,"ng-container",12),l.YNc(3,TC,1,0,"ng-content",12),l.YNc(4,MC,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function T_(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function kC(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function OC(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function FC(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function PC(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,FC,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const NC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],LC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],VC=new l.OlP("MatError"),RA={transitionMessages:Rr("transitionMessages",[Hs("enter",Sn({opacity:1,transform:"translateY(0%)"})),cr("void => enter",[Sn({opacity:0,transform:"translateY(-5px)"}),Di("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const FA=new l.OlP("MatHint");let Vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),PA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const BC=new l.OlP("MatPrefix"),$d=new l.OlP("MatSuffix");let UC=0;const GC=a_(class{constructor(n){this._elementRef=n}},"primary"),DP=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bf=new l.OlP("MatFormField");let Uf=(()=>{class n extends GC{constructor(e,i,r,a,u,h,y){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UC++,this._labelId="mat-form-field-label-"+UC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=on(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(hl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(tn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(tn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ma.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(hl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(hl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(tn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gd(this._label.nativeElement,"transitionend").pipe((0,Jr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${a}`);for(let A=0;A<D.length;A++)D[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const y=i.querySelectorAll(r),w=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(D),O=e.children,V=this._getStartEnd(O[0].getBoundingClientRect());let B=0;for(let X=0;X<O.length;X++)B+=O[X].offsetWidth;u=Math.abs(V-A)-5,h=B>0?.75*B+10:0}for(let D=0;D<y.length;D++)y[D].style.width=`${u}px`;for(let D=0;D<w.length;D++)w[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ac,8),l.Y36(DP,8),l.Y36(Be),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,Wg,5),l.Suo(r,Wg,7),l.Suo(r,Vf,5),l.Suo(r,Vf,7),l.Suo(r,PA,5),l.Suo(r,VC,5),l.Suo(r,FA,5),l.Suo(r,BC,5),l.Suo(r,$d,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(IA,7),l.Gf(SC,5),l.Gf(AC,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Bf,useExisting:n}]),l.qOj],ngContentSelectors:LC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(NC),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,I_,9,0,"ng-container",3),l.YNc(4,IC,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,RC,5,16,"label",8),l.qZA()(),l.YNc(10,T_,2,0,"div",9),l.qZA(),l.YNc(11,kC,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,OC,2,1,"div",12),l.YNc(14,PC,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[zo,co,uo,Md],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[RA.transitionMessages]},changeDetection:0}),n})(),ms=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Fi,ii,Yy,ii]}),n})();var _u=P(515);const $C=ic({passive:!0});let ya=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return _u.E;const i=rc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new xt.x,u="cdk-text-field-autofilled",h=y=>{"cdk-text-field-autofill-start"!==y.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===y.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,$C),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",h,$C)}}),a}stopMonitoring(e){const i=rc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Be),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const VA=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),BA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let UA=0;const HA=c_(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new xt.x}});let Yg=(()=>{class n extends HA{constructor(e,i,r,a,u,h,y,w,D,A){super(h,a,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=A,this._uid="mat-input-"+UA++,this.focused=!1,this.stateChanges=new xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>ps().has(B)),this._iOSKeyupListener=B=>{const X=B.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,V=O.nodeName.toLowerCase();this._inputValueAccessor=y||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=on(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(e){this._required=on(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ps().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=on(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){BA.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Be),l.Y36(Q,10),l.Y36(iu,8),l.Y36(ec,8),l.Y36(Af),l.Y36(VA,10),l.Y36(ya),l.Y36(l.R0b),l.Y36(Bf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Wg,useExisting:n}]),l.qOj,l.TTD]}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Af],imports:[M_,ms,ii,M_,ms]}),n})();const jA=["mat-button",""],zC=["*"],WC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Kg=a_(o_(nC(class{constructor(n){this._elementRef=n}})));let Zg=(()=>{class n extends Kg{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of WC)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Rg),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(Tf,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:jA,ngContentSelectors:zC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Tf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ng,ii,ii]}),n})();const R_=["*",[["mat-toolbar-row"]]],Xg=["*","mat-toolbar-row"],YC=a_(class{constructor(n){this._elementRef=n}});let KC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),ZC=(()=>{class n extends YC{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Be),l.Y36(ee))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,KC,5),2&e){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:Xg,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(R_),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ii,ii]}),n})();function k_(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const Jg="inline",jf=["row","column","row-reverse","column-reverse"];function O_(n){let[t,e,i]=XC(n);return function qA(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function XC(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return jf.find(r=>r===t)||(t=jf[0]),e===Jg&&(e=i!==Jg?i:"",i=Jg),[t,zA(e),!!i]}function Gf(n){let[t]=XC(n);return t.indexOf("row")>-1}function zA(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function ml(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const YA={provide:l.tb,useFactory:function WA(n,t){return()=>{if(Ar(t)){const e=Array.from(n.querySelectorAll(`[class*=${JC}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${JC}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ee,l.Lbi],multi:!0},JC="flex-layout-";let F_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YA]}),n})();class vu{constructor(t=!1,e="all",i="",r="",a=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=a,this.property=""}clone(){return new vu(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let KA=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const a=this.stylesheet.get(e);a?a.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let a="";if(r){const u=r.get(i);("number"==typeof u||"string"==typeof u)&&(a=u+"")}return a}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Mo=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>P_}),zd=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),N_=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function e0(n,t){return n=n?n.clone():new vu,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class ri{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Tn=(()=>{class n{constructor(e,i,r,a){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=a}applyStyleToElement(e,i,r=null){let a={};"string"==typeof i&&(a[i]=r,i=a),a=this.layoutConfig.disableVendorPrefixes?i:k_(i),this._applyMultiValueStyleToElement(a,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:k_(e);i.forEach(a=>{this._applyMultiValueStyleToElement(r,a)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Nn(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Ar(this._platformId)?e.style.getPropertyValue(i):function t0(n,t){return L_(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let a="";return e&&((a=this.lookupInlineStyle(e,i))||(Ar(this._platformId)?r||(a=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(e,i)))),a?a.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const a=e[r],u=Array.isArray(a)?a:[a];u.sort();for(let h of u)h=h?h+"":"",Ar(this._platformId)||!this._serverModuleLoaded?Ar(this._platformId)?i.style.setProperty(r,h):n0(i,r,h):this._serverStylesheet.addStyleToElement(i,r,h)})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(KA),l.LFG(zd),l.LFG(l.Lbi),l.LFG(Mo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=L_(n);i[t]=e??"",function r0(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function L_(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const a=i[r].trim();if(a.length>0){const u=a.indexOf(":");if(-1===u)throw new Error(`Invalid CSS style: ${a}`);t[a.substr(0,u).trim()]=a.substr(u+1).trim()}}}return t}function qd(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function s0(n,t){return(n.priority||0)-(t.priority||0)}let em=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new _n(new vu(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Hi(u=>!i||e.indexOf(u.mediaQuery)>-1)),a=new qn.y(u=>{const h=this.registerQuery(e);if(h.length){const y=h.pop();h.forEach(w=>{u.next(w)}),this.source.next(y)}u.complete()});return(0,ma.T)(a,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function B_(n,t){const e=n.filter(i=>!V_[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(a=>V_[a]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(a=>{const u=y=>{this._zone.run(()=>this.source.next(new vu(y.matches,a)))};let h=this.registry.get(a);h||(h=this.buildMQL(a),h.addListener(u),this.pendingRemoveListenerFns.push(()=>h.removeListener(u)),this.registry.set(a,h)),h.matches&&r.push(new vu(!0,a))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function U_(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Ar(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V_={},wu=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],o0="(orientation: portrait) and (max-width: 599.98px)",a0="(orientation: landscape) and (max-width: 959.98px)",bu="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ZA="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",tm="(orientation: portrait) and (min-width: 840px)",QA="(orientation: landscape) and (min-width: 1280px)",wa={HANDSET:`${o0}, ${a0}`,TABLET:`${bu} , ${ZA}`,WEB:`${tm}, ${QA} `,HANDSET_PORTRAIT:`${o0}`,TABLET_PORTRAIT:`${bu} `,WEB_PORTRAIT:`${tm}`,HANDSET_LANDSCAPE:`${a0}`,TABLET_LANDSCAPE:`${ZA}`,WEB_LANDSCAPE:`${QA}`},l0=[{alias:"handset",priority:2e3,mediaQuery:wa.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:wa.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:wa.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:wa.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:wa.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:wa.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:wa.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:wa.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:wa.WEB_PORTRAIT,overlapping:!0}],SP=/(\.|-|_)/g;function bt(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Wd=new l.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,l.f3M)(N_),t=(0,l.f3M)(Mo),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function eI(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?ml(e[i.alias],i):e[i.alias]=i}),function JA(n){return n.forEach(t=>{t.suffix||(t.suffix=function XA(n){return n.replace(SP,"|").split("|").map(bt).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:wu).concat(t.addOrientationBps?l0:[]),e)}});let H_=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(s0)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yl="print",nm={alias:yl,mediaQuery:yl,priority:1e3};let si=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new AP,this.deactivations=[]}withPrintQuery(e){return[...e,yl]}isPrintEvent(e){return e.mediaQuery.startsWith(yl)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(qd)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),e0(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new vu(!0,yl))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const a=this.formerActivations&&this.formerActivations.includes(r),u=!this.formerActivations&&e.activatedBreakpoints.includes(r);(a||u)&&(this.deactivations.push(r),this.deactivations.sort(qd))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(H_),l.LFG(Mo),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AP{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(nm),t.sort(qd),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function c0(n){return n?.mediaQuery.startsWith(yl)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let kn=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new xt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=e0(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(qd),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(qd),this.updateStyles())}}init(e,i,r,a,u=[]){u0(this.updateMap,e,i,r),u0(this.clearMap,e,i,a),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,u)}getValue(e,i,r){const a=this.elementMap.get(e);if(a){const u=void 0!==r?a.get(r):this.getActivatedValues(a,i);if(u)return u.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const a=this.getActivatedValues(r,i);if(a)return void 0!==a.get(i)||!1}return!1}setValue(e,i,r,a){let u=this.elementMap.get(e);if(u){const y=(u.get(a)??new Map).set(i,r);u.set(a,y),this.elementMap.set(e,u)}else u=(new Map).set(a,(new Map).set(i,r)),this.elementMap.set(e,u);const h=this.getValue(e,i);void 0!==h&&this.updateElement(e,i,h)}trackValue(e,i){return this.subject.asObservable().pipe(Hi(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let a=this.getActivatedValues(e);a&&a.forEach((u,h)=>{this.updateElement(i,h,u),r.delete(h)}),r.forEach(u=>{if(a=this.getActivatedValues(e,u),a){const h=a.get(u);this.updateElement(i,u,h)}else this.clearElement(i,u)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const a=r.get(i);a&&(a(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const a=this.updateMap.get(e);if(a){const u=a.get(i);u&&(u(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(a=>a.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((a,u)=>r.delete(u)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const a=this.getActivatedValues(r,i);a&&(i?this.updateElement(e,i,a.get(i)):a.forEach((u,h)=>this.updateElement(e,h,u)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let a=this.watcherMap.get(e);if(a||(a=new Map,this.watcherMap.set(e,a)),!a.get(i)){const h=(0,ma.T)(...r).subscribe(()=>{const y=this.getValue(e,i);this.updateElement(e,i,y)});a.set(i,h)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let a=0;a<this.activatedBreakpoints.length;a++){const h=e.get(this.activatedBreakpoints[a].alias);if(h&&(void 0===i||h.has(i)&&null!=h.get(i)))return h}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,In.b)(this.hook.interceptEvents(this)),Hi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(em),l.LFG(H_),l.LFG(si))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u0(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Bn=(()=>{class n{constructor(e,i,r,a){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new xt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,a=r.shouldCache;let u=this.styleCache.get(e);(!u||!a)&&(u=r.buildStyles(e,i),a&&this.styleCache.set(e,u)),this.mru={...u},this.applyStyleToElement(u),r.sideEffect(e,u,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,a]=this.styler.getFlowDirection(e);if(!a&&i){const u=O_(r);this.styler.applyStyleToElements(u,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ri),l.Y36(Tn),l.Y36(kn))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();function zf(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}let g0=(()=>{class n extends ri{buildStyles(e,{display:i}){const r=O_(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m0=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let qf=(()=>{class n extends Bn{constructor(e,i,r,a,u){super(e,r,i,a),this._config=u,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=y0.get(r)??new Map,y0.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Tn),l.Y36(g0),l.Y36(kn),l.Y36(Mo))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),Cu=(()=>{class n extends qf{constructor(){super(...arguments),this.inputs=m0}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.qOj]}),n})();const y0=new Map,_0={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let nI=(()=>{class n extends ri{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(j_)?function PP(n,t){const[e,i]=n.split(" "),a=w=>`-${w}`;let u="0px",h=a(i??e),y="0px";return"rtl"===t?y=a(e):u=a(e),{margin:`0px ${u} ${h} ${y}`}}(e=zf(e=e.slice(0,e.indexOf(j_)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const a=r.items;if(e.endsWith(j_)){const u=function FP(n,t){const[e,i]=n.split(" ");let a="0px",h="0px";return"rtl"===t?h=e:a=e,{padding:`0px ${a} ${i??e} ${h}`}}(e=zf(e=e.slice(0,e.indexOf(j_)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(u,r.items)}else{e=zf(e,this._config.multiplier),e=this.addFallbackUnit(e);const u=a.pop(),h=function rm(n,t){const e=G_(t.directionality,t.layout),i={..._0};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(h,a),this._styler.applyStyleToElements(_0,[u])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Tn),l.LFG(Mo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v0=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let w0=(()=>{class n extends Bn{constructor(e,i,r,a,u,h){super(e,u,a,h),this.zone=i,this.directionality=r,this.styleUtils=a,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new xt.x;const y=[this.directionality.change,this.observerSubject.asObservable()];this.init(y),this.marshal.trackValue(this.nativeElement,"layout").pipe(tn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],jf.find(a=>a===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,a)=>{const u=+this.styler.lookupStyle(r,"order"),h=+this.styler.lookupStyle(a,"order");return isNaN(u)||isNaN(h)||u===h?0:u>h?1:-1});if(i.length>0){const r=this.directionality.value,a=this.layout;"row"===a&&"rtl"===r?this.styleCache=C0:"row"===a&&"rtl"!==r?this.styleCache=sI:"column"===a&&"rtl"===r?this.styleCache=rI:"column"===a&&"rtl"!==r&&(this.styleCache=OP),this.addStyles(e,{directionality:r,items:i,layout:a})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":G_(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ac),l.Y36(Tn),l.Y36(nI),l.Y36(kn))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),b0=(()=>{class n extends w0{constructor(){super(...arguments),this.inputs=v0}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[l.qOj]}),n})();const C0=new Map,rI=new Map,sI=new Map,OP=new Map,j_=" grid";function G_(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let SI=(()=>{class n extends ri{buildStyles(e,i){const r={},[a,u]=e.split(" ");switch(a){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(u){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return ml(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===u?Gf(i.layout)?null:"100%":null,"max-height":"stretch"===u&&Gf(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AI=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let II=(()=>{class n extends Bn{constructor(e,i,r,a){super(e,r,i,a),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(tn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=RI:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=OI:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=kI:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=q_:"column-reverse"===i&&!r&&(this.styleCache=R0):this.styleCache=TI:this.styleCache=MI:this.styleCache=M0,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),jf.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Tn),l.Y36(SI),l.Y36(kn))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),sm=(()=>{class n extends II{constructor(){super(...arguments),this.inputs=AI}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[l.qOj]}),n})();const M0=new Map,TI=new Map,MI=new Map,R0=new Map,RI=new Map,kI=new Map,OI=new Map,q_=new Map;let W_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[F_,gu]]}),n})(),NI=(()=>{class n extends Bn{constructor(e,i,r,a,u,h,y){super(e,null,i,r),this.ngClassInstance=y,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Ts(a,u,e,h)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Tn),l.Y36(kn),l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.Qsj),l.Y36(Ts,10))},n.\u0275dir=l.lG2({type:n,inputs:{klass:["class","klass"]},features:[l.qOj]}),n})();const F0=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let P0=(()=>{class n extends NI{constructor(){super(...arguments),this.inputs=F0}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[l.qOj]}),n})(),Yf=(()=>{class n extends ri{buildStyles(e,i){return{display:"true"===e?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eu=(()=>{class n extends Bn{constructor(e,i,r,a,u,h,y){super(e,i,r,a),this.layoutConfig=u,this.platformId=h,this.serverModuleLoaded=y,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let r=0;r<e.length;r++)if(this.marshal.hasValue(e[r],"flex")){this.hasFlexChild=!0;break}om.has(this.nativeElement)?this.display=om.get(this.nativeElement):(this.display=this.getDisplayStyle(),om.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),a=r.slice(1).join("."),u=e[i].currentValue;let h=""===u||0!==u&&on(u);"fxHide"===r[0]&&(h=!h),this.setValue(h,a)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(tn(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const i=Nn(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Yf),l.Y36(Tn),l.Y36(kn),l.Y36(Mo),l.Y36(l.Lbi),l.Y36(zd))},n.\u0275dir=l.lG2({type:n,features:[l.qOj,l.TTD]}),n})();const om=new WeakMap,LI=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let N0=(()=>{class n extends Eu{constructor(){super(...arguments),this.inputs=LI}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[l.qOj]}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[F_]]}),n})();const Du=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function lm(n){return new qn.y(t=>{(0,Li.Xf)(n()).subscribe(t)})}function X_(){return(0,Ui.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Vn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class U0 extends qn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ui.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Js.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Vn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Js.w0.EMPTY)}return t}refCount(){return X_()(this)}}function Si(n,t){return(0,Ui.e)((e,i)=>{let r=null,a=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Vn.x)(i,y=>{r?.unsubscribe();let w=0;const D=a++;(0,Li.Xf)(n(y,D)).subscribe(r=(0,Vn.x)(i,A=>i.next(t?t(y,A,D,w++):A),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function $I(n,t,e,i,r){return(a,u)=>{let h=e,y=t,w=0;a.subscribe((0,Vn.x)(u,D=>{const A=w++;y=h?n(y,D,A):(h=!0,D),i&&u.next(y)},r&&(()=>{h&&u.next(y),u.complete()})))}}function cm(n,t){return(0,Ui.e)($I(n,t,arguments.length>=2,!0))}function J_(n){return n<=0?()=>_u.E:(0,Ui.e)((t,e)=>{let i=[];t.subscribe((0,Vn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function H0(n=j0){return(0,Ui.e)((t,e)=>{let i=!1;t.subscribe((0,Vn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function j0(){return new Du}function Kf(n){return(0,Ui.e)((t,e)=>{let i=!1;t.subscribe((0,Vn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ba(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hi((r,a)=>n(r,a,i)):wf.y,(0,Jr.q)(1),e?Kf(t):H0(()=>new Du))}class _l{constructor(t,e){this.id=t,this.url=e}}class ev extends _l{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xd extends _l{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tv extends _l{constructor(t,e,i){super(t,e),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WI extends _l{constructor(t,e,i){super(t,e),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YI extends _l{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KI extends _l{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZI extends _l{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class QI extends _l{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XI extends _l{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JI{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eT{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zf{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $0{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z0{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nv{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class nT{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qf(n){return new nT(n)}const iv="ngNavigationCancelingError";function um(n){const t=Error("NavigationCancelingError: "+n);return t[iv]=!0,t}function rT(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],h=n[a];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function es(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!q0(n[r],t[r]))return!1;return!0}function q0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function dm(n){return Array.prototype.concat.apply([],n)}function Ro(n){return n.length>0?n[n.length-1]:null}function wi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Nr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,sn.D)(Promise.resolve(n)):at(n)}const aT={exact:function Y0(n,t,e){if(!vl(n.segments,t.segments)||!Jd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Y0(n.children[i],t.children[i],e))return!1;return!0},subset:rv},W0={exact:function hm(n,t){return es(n,t)},subset:function lT(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>q0(n[e],t[e]))},ignored:()=>!0};function Xf(n,t,e){return aT[e.paths](n.root,t.root,e.matrixParams)&&W0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rv(n,t,e){return sv(n,t,t.segments,e)}function sv(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!vl(r,e)||t.hasChildren()||!Jd(r,e,i))}if(n.segments.length===e.length){if(!vl(n.segments,e)||!Jd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!rv(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(vl(n.segments,r)&&Jd(n.segments,r,i)&&n.children[Bt])&&sv(n.children[Bt],t,a,i)}}function Jd(n,t,e){return t.every((i,r)=>W0[e](n[r].parameters,i.parameters))}class dc{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qf(this.queryParams)),this._queryParamMap}toString(){return lv.serialize(this)}}class Yt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pm(this)}}class Jf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qf(this.parameters)),this._parameterMap}toString(){return uv(this)}}function vl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class av{}class fm{parse(t){const e=new eh(t);return new dc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ep(t.root,!0)}`,i=function cT(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${gm(e)}=${gm(r)}`).join("&"):`${gm(e)}=${gm(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Z0(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lv=new fm;function pm(n){return n.segments.map(t=>uv(t)).join("/")}function ep(n,t){if(!n.hasChildren())return pm(n);if(t){const e=n.children[Bt]?ep(n.children[Bt],!1):"",i=[];return wi(n.children,(r,a)=>{a!==Bt&&i.push(`${a}:${ep(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ov(n,t){let e=[];return wi(n.children,(i,r)=>{r===Bt&&(e=e.concat(t(i,r)))}),wi(n.children,(i,r)=>{r!==Bt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Bt?[ep(n.children[Bt],!1)]:[`${r}:${ep(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${pm(n)}/${e[0]}`:`${pm(n)}/(${e.join("//")})`}}function K0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gm(n){return K0(n).replace(/%3B/gi,";")}function tp(n){return K0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function np(n){return decodeURIComponent(n)}function cv(n){return np(n.replace(/\+/g,"%20"))}function uv(n){return`${tp(n.path)}${function Q0(n){return Object.keys(n).map(t=>`;${tp(t)}=${tp(n[t])}`).join("")}(n.parameters)}`}const X0=/^[^\/()?;=#]+/;function ip(n){const t=n.match(X0);return t?t[0]:""}const uT=/^[^=?&#]+/,dT=/^[^&#]+/;class eh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Bt]=new Yt(t,e)),i}parseSegment(){const t=ip(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jf(np(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ip(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ip(this.remaining);r&&(i=r,this.capture(i))}t[np(e)]=np(i)}parseQueryParam(t){const e=function J0(n){const t=n.match(uT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Lr(n){const t=n.match(dT);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=cv(e),a=cv(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ip(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Bt);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[Bt]:new Yt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class eE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=dv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=dv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tE(t,this._root).map(e=>e.value)}}function dv(n,t){if(n===t.value)return t;for(const e of t.children){const i=dv(n,e);if(i)return i}return null}function tE(n,t){if(n===t.value)return[t];for(const e of t.children){const i=tE(n,e);if(i.length)return i.unshift(t),i}return[]}class hc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hv extends eE{constructor(t,e){super(t),this.snapshot=e,pc(this,t)}toString(){return this.snapshot.toString()}}function th(n,t){const e=function hT(n,t){const u=new mm([],{},{},"",{},Bt,t,null,n.root,-1,{});return new rE("",new hc(u,[]))}(n,t),i=new _n([new Jf("",{})]),r=new _n({}),a=new _n({}),u=new _n({}),h=new _n(""),y=new fc(i,r,u,h,a,Bt,t,e.root);return y.snapshot=e.root,new hv(new hc(y,[]),e)}class fc{constructor(t,e,i,r,a,u,h,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>Qf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>Qf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function iE(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mm{constructor(t,e,i,r,a,u,h,y,w,D,A,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=O??D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rE extends eE{constructor(t,e){super(e),this.url=t,pc(this,e)}toString(){return sE(this._root)}}function pc(n,t){t.value._routerState=n,t.children.forEach(e=>pc(n,e))}function sE(n){const t=n.children.length>0?` { ${n.children.map(sE).join(", ")} } `:"";return`${n.value}${t}`}function rp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,es(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),es(t.params,e.params)||n.params.next(e.params),function sT(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!es(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),es(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ym(n,t){const e=es(n.params,t.params)&&function GP(n,t){return vl(n,t)&&n.every((e,i)=>es(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ym(n.parent,t.parent))}function gc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fv(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gc(n,i,r);return gc(n,i)})}(n,t,e);return new hc(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>gc(n,h)),u}}const i=function $P(n){return new fc(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>gc(n,a));return new hc(i,r)}}function _m(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nh(n){return"object"==typeof n&&null!=n&&n.outlets}function mc(n,t,e,i,r){let a={};if(i&&wi(i,(h,y)=>{a[y]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),n===t)return new dc(e,a,r);const u=lE(n,t,e);return new dc(u,a,r)}function lE(n,t,e){const i={};return wi(n.children,(r,a)=>{i[a]=r===t?e:lE(r,t,e)}),new Yt(n.segments,i)}class pv{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_m(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(nh);if(r&&r!==Ro(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function uE(n,t,e){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return vm(n,t,e);const i=function dE(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const u=n.segments[r],h=e[i];if(nh(h))break;const y=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!yv(y,w,u))return a;i+=2}else{if(!yv(y,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Yt(n.segments.slice(0,i.pathIndex),{});return a.children[Bt]=new Yt(n.segments.slice(i.pathIndex),n.children),vm(a,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?wm(n,t,e):i.match?vm(n,0,r):wm(n,t,e)}function vm(n,t,e){if(0===e.length)return new Yt(n.segments,{});{const i=function pT(n){return nh(n[0])?n[0].outlets:{[Bt]:n}}(e),r={};return wi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=uE(n.children[u],t,a))}),wi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Yt(n.segments,r)}}function wm(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(nh(a)){const y=gT(a.outlets);return new Yt(i,y)}if(0===r&&_m(e[0])){i.push(new Jf(n.segments[t].path,mv(e[0]))),r++;continue}const u=nh(a)?a.outlets[Bt]:`${a}`,h=r<e.length-1?e[r+1]:null;u&&h&&_m(h)?(i.push(new Jf(u,mv(h))),r+=2):(i.push(new Jf(u,{})),r++)}return new Yt(i,{})}function gT(n){const t={};return wi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=wm(new Yt([],{}),0,e))}),t}function mv(n){const t={};return wi(n,(e,i)=>t[i]=`${e}`),t}function yv(n,t,e){return n==e.path&&es(t,e.parameters)}class mT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new sp,this.attachRef=null}}class sp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mT,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let bm=(()=>{class n{constructor(e,i,r,a,u){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new yT(e,h,r.injector);if(i&&function hE(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,y)}else this.activated=r.createComponent(u,{index:r.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(sp),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class yT{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===fc?this.route:t===sp?this.childContexts:this.parent.get(t,e)}}let _v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[bm],encapsulation:2}),n})();function vv(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function fE(n){const t=n.children&&n.children.map(fE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=_v),e}function ko(n){return n.outlet||Bt}function vT(n,t){const e=n.filter(i=>ko(i)===t);return e.push(...n.filter(i=>ko(i)!==t)),e}function wT(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Em{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),rp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=xu(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),wi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=xu(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=xu(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=xu(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new z0(a.value.snapshot))}),t.children.length&&this.forwardEvent(new G0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(rp(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),rp(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=wT(r.snapshot),y=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=y,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function Su(n){return"function"==typeof n}function Ca(n){return n instanceof dc}const ih=Symbol("INITIAL_VALUE");function op(){return Si(n=>Rd(n.map(t=>t.pipe((0,Jr.q)(1),hl(ih)))).pipe(cm((t,e)=>{let i=!1;return e.reduce((r,a,u)=>r!==ih?r:(a===ih&&(i=!0),i||!1!==a&&u!==e.length-1&&!Ca(a)?r:a),t)},ih),Hi(t=>t!==ih),(0,st.U)(t=>Ca(t)?t:!0===t),(0,Jr.q)(1)))}const bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...bv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||rT)(e,n,t);if(!r)return{...bv};const a={};wi(r.posParams,(h,y)=>{a[y]=h.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Dm(n,t,e,i,r="corrected"){if(e.length>0&&function xm(n,t,e){return e.some(i=>Ev(n,t,i)&&ko(i)!==Bt)}(n,e,i)){const u=new Yt(t,function CT(n,t,e,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&ko(a)!==Bt){const u=new Yt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ko(a)]=u}return r}(n,t,i,new Yt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function ET(n,t,e){return e.some(i=>Ev(n,t,i))}(n,e,i)){const u=new Yt(n.segments,function bT(n,t,e,i,r,a){const u={};for(const h of i)if(Ev(n,e,h)&&!r[ko(h)]){const y=new Yt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[ko(h)]=y}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Yt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Ev(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function DT(n,t,e,i){return!!(ko(n)===i||i!==Bt&&Ev(t,e,n))&&("**"===n.path||Cv(t,n,e).matched)}function xT(n,t,e){return 0===t.length&&!n.children[e]}class Sm{constructor(t){this.segmentGroup=t||null}}class yE{constructor(t){this.urlTree=t}}function ap(n){return lc(new Sm(n))}function ST(n){return lc(new yE(n))}class ys{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=Dm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Bt).pipe((0,st.U)(a=>this.createUrlTree(lp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pa(a=>{if(a instanceof yE)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Sm?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Bt).pipe((0,st.U)(r=>this.createUrlTree(lp(r),t.queryParams,t.fragment))).pipe(pa(r=>{throw r instanceof Sm?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Yt([],{[Bt]:t}):t;return new dc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,st.U)(a=>new Yt([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,sn.D)(r).pipe(Vd(a=>{const u=i.children[a],h=vT(e,a);return this.expandSegmentGroup(t,h,u,a).pipe((0,st.U)(y=>({segment:y,outlet:a})))}),cm((a,u)=>(a[u.outlet]=u.segment,a),{}),function zI(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hi((r,a)=>n(r,a,i)):wf.y,J_(1),e?Kf(t):H0(()=>new Du))}())}expandSegment(t,e,i,r,a,u){return(0,sn.D)(i).pipe(Vd(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,a,u).pipe(pa(w=>{if(w instanceof Sm)return at(null);throw w}))),ba(h=>!!h),pa((h,y)=>{if(h instanceof Du||"EmptyError"===h.name)return xT(e,r,a)?at(new Yt([],{})):ap(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,a,u,h){return DT(r,e,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u):ap(e):ap(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ST(a):this.lineralizeSegments(i,a).pipe((0,Ji.z)(u=>{const h=new Yt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){const{matched:h,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=Cv(e,r,a);if(!h)return ap(e);const A=this.applyRedirectCommands(y,r.redirectTo,D);return r.redirectTo.startsWith("/")?ST(A):this.lineralizeSegments(r,A).pipe((0,Ji.z)(O=>this.expandSegment(t,e,i,O.concat(w),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){if("**"===i.path)return t=vv(i,t),i.loadChildren?(i._loadedRoutes?at({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,st.U)(A=>(i._loadedRoutes=A.routes,i._loadedInjector=A.injector,new Yt(r,{})))):at(new Yt(r,{}));const{matched:u,consumedSegments:h,remainingSegments:y}=Cv(e,i,r);return u?(t=vv(i,t),this.getChildConfig(t,i,r).pipe((0,Ji.z)(D=>{const A=D.injector??t,O=D.routes,{segmentGroup:V,slicedSegments:B}=Dm(e,h,y,O),X=new Yt(V.segments,V.children);if(0===B.length&&X.hasChildren())return this.expandChildren(A,O,X).pipe((0,st.U)(vt=>new Yt(h,vt)));if(0===O.length&&0===B.length)return at(new Yt(h,{}));const de=ko(i)===a;return this.expandSegment(A,X,O,B,de?Bt:a,!0).pipe((0,st.U)(tt=>new Yt(h.concat(tt.segments),tt.children)))}))):ap(e)}getChildConfig(t,e,i){return e.children?at({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?at({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(t,e,i).pipe((0,Ji.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,In.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function Dv(n){return lc(um(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):at({routes:[],injector:t})}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?at(r.map(u=>{const h=t.get(u);let y;if(function gE(n){return n&&Su(n.canLoad)}(h))y=h.canLoad(e,i);else{if(!Su(h))throw new Error("Invalid CanLoad guard");y=h(e,i)}return Nr(y)})).pipe(op(),(0,In.b)(u=>{if(!Ca(u))return;const h=um(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,st.U)(u=>!0===u)):at(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return at(i);if(r.numberOfChildren>1||!r.children[Bt])return lc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new dc(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return wi(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=e[h]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let u={};return wi(e.children,(h,y)=>{u[y]=this.createSegmentGroup(t,h,i,r)}),new Yt(a,u)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function lp(n){const t={};for(const i of Object.keys(n.children)){const a=lp(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function TT(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new Yt(n.segments.concat(t.segments),t.children)}return n}(new Yt(n.segments,t))}class _E{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rh{constructor(t,e){this.component=t,this.route=e}}function vE(n,t,e){const i=n._root;return sh(i,t?t._root:null,e,[i.value])}function Am(n,t,e){return(wT(t)??e).get(n)}function sh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=xu(t);return n.children.forEach(u=>{(function bE(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const y=function RT(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!vl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!vl(n.url,t.url)||!es(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ym(n,t)||!es(n.queryParams,t.queryParams);default:return!ym(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new _E(i)):(a.data=u.data,a._resolvedData=u._resolvedData),sh(n,t,a.component?h?h.children:null:e,i,r),y&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new rh(h.outlet.component,u))}else u&&oh(t,h,r),r.canActivateChecks.push(new _E(i)),sh(n,null,a.component?h?h.children:null:e,i,r)})(u,a[u.value.outlet],e,i.concat([u.value]),r),delete a[u.value.outlet]}),wi(a,(u,h)=>oh(u,e.getContext(h),r)),r}function oh(n,t,e){const i=xu(n),r=n.value;wi(i,(a,u)=>{oh(a,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new rh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class FT{}function xE(n){return new qn.y(t=>t.error(n))}class SE{constructor(t,e,i,r,a,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const t=Dm(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Bt);if(null===e)return null;const i=new mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hc(i,e),a=new rE(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,i=nE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const a of Object.keys(e.children)){const u=e.children[a],h=vT(t,a),y=this.processSegmentGroup(h,u,a);if(null===y)return null;i.push(...y)}const r=Sv(i);return function eN(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const a of t){const u=this.processSegmentAgainstRoute(a,e,i,r);if(null!==u)return u}return xT(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!DT(t,e,i,r))return null;let a,u=[],h=[];if("**"===t.path){const V=i.length>0?Ro(i).parameters:{},B=Av(e)+i.length;a=new mm(i,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IE(t),ko(t),t.component??t._loadedComponent??null,t,Im(e),B,Tv(t),B)}else{const V=Cv(e,t,i);if(!V.matched)return null;u=V.consumedSegments,h=V.remainingSegments;const B=Av(e)+u.length;a=new mm(u,V.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IE(t),ko(t),t.component??t._loadedComponent??null,t,Im(e),B,Tv(t),B)}const y=function AE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:w,slicedSegments:D}=Dm(e,u,h,y.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===D.length&&w.hasChildren()){const V=this.processChildren(y,w);return null===V?null:[new hc(a,V)]}if(0===y.length&&0===D.length)return[new hc(a,[])];const A=ko(t)===r,O=this.processSegment(y,w,D,A?Bt:r);return null===O?null:[new hc(a,O)]}}function NT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Sv(n){const t=[],e=new Set;for(const i of n){if(!NT(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Sv(i.children);t.push(new hc(i.value,r))}return t.filter(i=>!e.has(i))}function Im(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Av(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function IE(n){return n.data||{}}function Tv(n){return n.resolve||{}}const ah=Symbol("RouteTitle");function OE(n){return"string"==typeof n.title||null===n.title}function Mv(n){return Si(t=>{const e=n(t);return e?(0,sn.D)(e).pipe((0,st.U)(()=>t)):at(t)})}class FE extends class nN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Rv=new l.OlP("ROUTES");let kv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return at(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Nr(e.loadComponent()).pipe((0,In.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),Rf(()=>{this.componentLoaders.delete(e)})),r=new U0(i,()=>new xt.x).pipe(X_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return at({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,st.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,w,D=!1;Array.isArray(h)?w=h:(y=h.create(e).injector,w=dm(y.get(Rv,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(fE),injector:y}}),Rf(()=>{this.childrenLoaders.delete(i)})),u=new U0(a,()=>new xt.x).pipe(X_());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Nr(e()).pipe((0,Ji.z)(i=>i instanceof l.YKP||Array.isArray(i)?at(i):(0,sn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oN(n){throw n}function aN(n,t,e){return t.parse("/")}const VT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _s=(()=>{class n{constructor(e,i,r,a,u,h,y){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.x,this.errorHandler=oN,this.malformedUriErrorHandler=aN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new rN,this.routeReuseStrategy=new FE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(kv),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new eT(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new JI(O)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const A=u.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function oT(){return new dc(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=th(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Hi(r=>0!==r.id),(0,st.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Si(r=>{let a=!1,u=!1;return at(r).pipe((0,In.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Si(h=>{const y=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ov(h.source)&&(this.browserUrlTree=h.extractedUrl),at(h).pipe(Si(A=>{const O=this.transitions.getValue();return i.next(new ev(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?_u.E:Promise.resolve(A)}),function MT(n,t,e,i){return Si(r=>function IT(n,t,e,i,r){return new ys(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,st.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,In.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects}}),function TE(n,t,e,i,r){return(0,Ji.z)(a=>function PT(n,t,e,i,r="emptyOnly",a="legacy"){try{const u=new SE(n,t,e,i,r,a).recognize();return null===u?xE(new FT):at(u)}catch(u){return xE(u)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),i,r).pipe((0,st.U)(u=>({...a,targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,In.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(V,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new YI(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(O)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:V,source:B,restoredState:X,extras:de}=h,Fe=new ev(O,this.serializeUrl(V),B,X);i.next(Fe);const tt=th(V,this.rootComponentType).snapshot;return at({...h,targetSnapshot:tt,urlAfterRedirects:V,extras:{...de,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),_u.E}),(0,In.b)(h=>{const y=new KI(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(y)}),(0,st.U)(h=>({...h,guards:vE(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function kT(n,t){return(0,Ji.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?at({...e,guardsResult:!0}):function xv(n,t,e,i){return(0,sn.D)(n).pipe((0,Ji.z)(r=>function JP(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?at(a.map(h=>{const y=Am(h,t,r);let w;if(function wv(n){return n&&Su(n.canDeactivate)}(y))w=Nr(y.canDeactivate(n,t,e,i));else{if(!Su(y))throw new Error("Invalid CanDeactivate guard");w=Nr(y(n,t,e,i))}return w.pipe(ba())})).pipe(op()):at(!0)}(r.component,r.route,e,t,i)),ba(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ji.z)(h=>h&&function pE(n){return"boolean"==typeof n}(h)?function yc(n,t,e,i){return(0,sn.D)(t).pipe(Vd(r=>Qy(function EE(n,t){return null!==n&&t&&t(new Zf(n)),at(!0)}(r.route.parent,i),function CE(n,t){return null!==n&&t&&t(new $0(n)),at(!0)}(r.route,i),function OT(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function wE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>lm(()=>at(u.guards.map(y=>{const w=Am(y,u.node,e);let D;if(function XP(n){return n&&Su(n.canActivateChild)}(w))D=Nr(w.canActivateChild(i,n));else{if(!Su(w))throw new Error("Invalid CanActivateChild guard");D=Nr(w(i,n))}return D.pipe(ba())})).pipe(op())));return at(a).pipe(op())}(n,r.path,e),function Ea(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return at(!0);const r=i.map(a=>lm(()=>{const u=Am(a,t,e);let h;if(function mE(n){return n&&Su(n.canActivate)}(u))h=Nr(u.canActivate(t,n));else{if(!Su(u))throw new Error("Invalid CanActivate guard");h=Nr(u(t,n))}return h.pipe(ba())}));return at(r).pipe(op())}(n,r.route,e))),ba(r=>!0!==r,!0))}(i,a,n,t):at(h)),(0,st.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,In.b)(h=>{if(Ca(h.guardsResult)){const w=um(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw w.url=h.guardsResult,w}const y=new ZI(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(y)}),Hi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Mv(h=>{if(h.guards.canActivateChecks.length)return at(h).pipe((0,In.b)(y=>{const w=new QI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Si(y=>{let w=!1;return at(y).pipe(function Tm(n,t){return(0,Ji.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return at(e);let a=0;return(0,sn.D)(r).pipe(Vd(u=>function ME(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!OE(r)&&(a[ah]=r.title),function LT(n,t,e,i){const r=function RE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return at({});const a={};return(0,sn.D)(r).pipe((0,Ji.z)(u=>function kE(n,t,e,i){const r=Am(n,t,i);return Nr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(ba(),(0,In.b)(h=>{a[u]=h}))),J_(1),function qI(n){return(0,st.U)(()=>n)}(a),pa(u=>u instanceof Du?_u.E:lc(u)))}(a,n,t,i).pipe((0,st.U)(u=>(n._resolvedData=u,n.data=nE(n,e).resolve,r&&OE(r)&&(n.data[ah]=r.title),null)))}(u.route,i,n,t)),(0,In.b)(()=>a++),J_(1),(0,Ji.z)(u=>a===r.length?at(e):_u.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,In.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,In.b)(y=>{const w=new XI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),Mv(()=>this.afterPreactivation()),Mv(h=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,In.b)(A=>{w.component=A}),(0,st.U)(()=>{})));for(const A of w.children)D.push(...y(A));return D};return Rd(y(h.targetSnapshot.root)).pipe(Kf(),(0,Jr.q)(1))}),(0,st.U)(h=>{const y=function oE(n,t,e){const i=gc(n,t._root,e?e._root:void 0);return new hv(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return{...h,targetRouterState:y}}),(0,In.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(i=>(new Em(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,In.b)({next(){a=!0},complete(){a=!0}}),Rf(()=>{a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),pa(h=>{if(u=!0,function iT(n){return n&&n[iv]}(h)){const y=Ca(h.url);y||(this.navigated=!0,this.restoreHistory(r,!0));const w=new tv(r.id,this.serializeUrl(r.extractedUrl),h.message);if(i.next(w),y){const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ov(r.source)};this.scheduleNavigation(D,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new WI(r.id,this.serializeUrl(r.extractedUrl),h);i.next(y);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return _u.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(fE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:y}=i,w=r||this.routerState.root,D=y?this.currentUrlTree.fragment:u;let A=null;switch(h){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function aE(n,t,e,i,r){if(0===e.length)return mc(t.root,t.root,t.root,i,r);const a=function gv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pv(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return wi(a.outlets,(y,w)=>{h[w]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((h,y)=>{0==y&&"."===h||(0==y&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new pv(e,t,i)}(e);return a.toRoot()?mc(t.root,t.root,new Yt([],{}),i,r):function u(y){const w=function fT(n,t,e,i){return n.isAbsolute?new cE(t.root,!0,0):-1===i?new cE(e,e===t.root,0):function zP(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new cE(i,!1,r-a)}(e,i+(_m(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,y),D=w.processChildren?vm(w.segmentGroup,w.index,a.commands):uE(w.segmentGroup,w.index,a.commands);return mc(t.root,w.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}(w,this.currentUrlTree,e,A,D??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ca(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function BT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...VT}:!1===i?{...Mm}:i,Ca(e))return Xf(this.currentUrlTree,e,r);const a=this.parseUrl(e);return Xf(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Xd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let h,y,w;u?(h=u.resolve,y=u.reject,w=u.promise):w=new Promise((O,V)=>{h=O,y=V});const D=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),A=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:D,targetPageId:A,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:h,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new tv(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ov(n){return"imperative"!==n}class NE{buildTitle(t){let e,i=t.root;for(;void 0!==i;)e=this.getResolvedTitleForRoute(i)??e,i=i.children.find(r=>r.outlet===Bt);return e}getResolvedTitleForRoute(t){return t.data[ah]}}let Nv=(()=>{class n extends NE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class km{}class UT{preload(t,e){return at(null)}}let HT=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(e=>e instanceof Xd),Vd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,e,`Route: ${a.path}`));const u=a._injector??e,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,sn.D)(r).pipe((0,Dg.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):at(null);const a=r.pipe((0,Ji.z)(u=>null===u?at(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,sn.D)([a,u]).pipe((0,Dg.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_s),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(km),l.LFG(kv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LE=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nv&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new nv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=new l.OlP("ROUTER_CONFIGURATION"),VE=new l.OlP("ROUTER_FORROOT_GUARD"),jT=[ve,{provide:av,useClass:fm},{provide:_s,useFactory:function $T(n,t,e,i,r,a,u={},h,y,w,D){const A=new _s(null,n,t,e,i,r,dm(a));return w&&(A.urlHandlingStrategy=w),D&&(A.routeReuseStrategy=D),A.titleStrategy=y??h,function $E(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,A),A},deps:[av,sp,ve,l.zs3,l.Sil,Rv,_c,Nv,[NE,new l.FiY],[class iN{},new l.FiY],[class tN{},new l.FiY]]},sp,{provide:fc,useFactory:function Lv(n){return n.routerState.root},deps:[_s]},HT,UT,class Om{preload(t,e){return e().pipe(pa(()=>at(null)))}},{provide:_c,useValue:{enableTracing:!1}},kv];function GT(){return new l.PXZ("Router",_s)}let BE=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[jT,GE(e),{provide:VE,useFactory:jE,deps:[[_s,new l.FiY,new l.tp0]]},{provide:_c,useValue:i||{}},{provide:pe,useFactory:HE,deps:[ue,[new l.tBr(qe),new l.FiY],_c]},{provide:LE,useFactory:UE,deps:[_s,Yo,_c]},{provide:km,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:UT},{provide:l.PXZ,multi:!0,useFactory:GT},[zE,{provide:l.ip1,multi:!0,useFactory:qE,deps:[zE]},{provide:WE,useFactory:Vv,deps:[zE]},{provide:l.tb,multi:!0,useExisting:WE}]]}}static forChild(e){return{ngModule:n,providers:[GE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(VE,8),l.LFG(_s,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function UE(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new LE(n,t,e)}function HE(n,t,e={}){return e.useHash?new Se(n,t):new Qe(n,t)}function jE(n){return"guarded"}function GE(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Rv,multi:!0,useValue:n}]}let zE=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),a=this.injector.get(_s),u=this.injector.get(_c);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabledBlocking"===u.initialNavigation?(a.afterPreactivation=()=>this.initNavigation?at(void 0):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(_c),r=this.injector.get(HT),a=this.injector.get(LE),u=this.injector.get(_s),h=this.injector.get(l.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qE(n){return n.appInitializer.bind(n)}function Vv(n){return n.bootstrapListener.bind(n)}const WE=new l.OlP("Router Initializer");function lN(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"section")(1,"mat-form-field",7)(2,"input",8),l.NdJ("ngModelChange",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a.username=r)})("ngModelChange",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.checkUsername())})("blur",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.toggleEditUsername())}),l.qZA()(),l.TgZ(3,"button",9),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.setUsername())}),l.TgZ(4,"mat-icon"),l._uU(5,"check"),l.qZA()()()}if(2&n){const e=l.oxw();l.Q6J("@fadeIn",void 0),l.xp6(2),l.Q6J("ngModel",e.username)}}function qT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"section",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"button",9),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.toggleEditUsername())}),l.TgZ(4,"mat-icon"),l._uU(5,"edit"),l.qZA()()()}if(2&n){const e=l.oxw();l.Q6J("@fadeIn",void 0),l.xp6(2),l.Oqu(e.username)}}let WT=(()=>{class n{constructor(e){this._sessionService=e,this.title="fibonaccicalculator",this.username="",this.guestname="",this.editingUsername=!1}ngOnInit(){this.guestname=this.username="Guest"+Xu.i.create().toString().substring(0,6),this.setUsername()}toggleEditUsername(){this.editingUsername=!this.editingUsername}setUsername(){this._sessionService.setUsername(this.username)}checkUsername(){(""===this.username||null==this.username)&&(this.username=this.guestname)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ka))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fibo-root"]],decls:12,vars:2,consts:[["color","primary","fxLayout","row","fxLayoutAlign","space-between center"],["fxHide.lt-md",""],["fxShow.lt-md",""],["fxLayout","row","fxLayoutAlign","flex-end center"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","flex-start center",4,"ngIf"],[1,"app-section"],[1,"username"],["matInput","",3,"ngModel","ngModelChange","blur"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","flex-start center"]],template:function(e,i){1&e&&(l.TgZ(0,"mat-toolbar",0)(1,"div",1),l._uU(2,"Fibonacci Calculator"),l.qZA(),l.TgZ(3,"div",2),l._uU(4,"FC"),l.qZA(),l.TgZ(5,"div",3),l.YNc(6,lN,6,2,"section",4),l.YNc(7,qT,6,2,"section",5),l.TgZ(8,"mat-icon"),l._uU(9,"face"),l.qZA()()(),l.TgZ(10,"section",6),l._UZ(11,"router-outlet"),l.qZA()),2&e&&(l.xp6(6),l.Q6J("ngIf",i.editingUsername),l.xp6(1),l.Q6J("ngIf",!i.editingUsername))},dependencies:[$c,yt,gd,zo,$g,Uf,Vf,Yg,Zg,ZC,Cu,sm,N0,bm],styles:[".app-section[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 64px);overflow-x:hidden}"],data:{animation:[Gl,la]}}),n})(),vN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[F_]]}),n})(),kj=(()=>{class n{constructor(e,i){Nn(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Mo,useValue:{...P_,...e}},{provide:N_,useValue:i,multi:!0},{provide:zd,useValue:!0}]:[{provide:Mo,useValue:{...P_,...e}},{provide:N_,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zd),l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[W_,Qd,vN],W_,Qd,vN]}),n})();function ZT(n){return n&&"function"==typeof n.connect}class wN{applyChanges(t,e,i,r,a){t.forEachOperation((u,h,y)=>{let w,D;if(null==u.previousIndex){const A=i(u,h,y);w=e.createEmbeddedView(A.templateRef,A.context,A.index),D=1}else null==y?(e.remove(h),D=3):(w=e.get(h),e.move(w,y),D=2);a&&a({context:w?.context,operation:D,record:u})})}detach(){}}class Fj{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new xt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Wv=new l.OlP("_ViewRepeater");var CN=P(4408);const Yv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Yv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Js.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Yv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Yv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var EN=P(7565);new class Nj extends EN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Pj extends CN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Yv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Yv.cancelAnimationFrame(e),t._scheduled=void 0)}});let QT,Vj=1;const ZE={};function DN(n){return n in ZE&&(delete ZE[n],!0)}const Bj={setImmediate(n){const t=Vj++;return ZE[t]=!0,QT||(QT=Promise.resolve()),QT.then(()=>DN(t)&&n()),t},clearImmediate(n){DN(n)}},{setImmediate:Uj,clearImmediate:Hj}=Bj,QE={setImmediate(...n){const{delegate:t}=QE;return(t?.setImmediate||Uj)(...n)},clearImmediate(n){const{delegate:t}=QE;return(t?.clearImmediate||Hj)(n)},delegate:void 0};new class Gj extends EN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class jj extends CN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=QE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(QE.clearImmediate(e),t._scheduled=void 0)}});var qj=P(3532);function xN(n,t=Eg.z){return function zj(n){return(0,Ui.e)((t,e)=>{let i=!1,r=null,a=null,u=!1;const h=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},y=()=>{a=null,u&&e.complete()};t.subscribe((0,Vn.x)(e,w=>{i=!0,r=w,a||(0,Li.Xf)(n(w)).subscribe(a=(0,Vn.x)(e,h,y))},()=>{u=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>function Yj(n=0,t,e=Eg.P){let i=-1;return null!=t&&((0,qj.K)(t)?e=t:i=t),new qn.y(r=>{let a=function Wj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,t))}let SN=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(xN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Hi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=rc(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Be),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new xt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(xN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Be),l.LFG(l.R0b),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),XT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gu,JE,gu,JE]}),n})();const Xj=[[["caption"]],[["colgroup"],["col"]]],Jj=["caption","colgroup, col"];function JT(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=on(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Fm=new l.OlP("CDK_TABLE");let Pm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Nm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),eD=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class iG{}const rG=JT(iG);let Au=(()=>{class n extends rG{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=on(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,Pm,5),l.Suo(r,Nm,5),l.Suo(r,eD,5)),2&e){let a;l.iGM(a=l.CRH())&&(i.cell=a.first),l.iGM(a=l.CRH())&&(i.headerCell=a.first),l.iGM(a=l.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class eM{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let tM=(()=>{class n extends eM{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Au),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),nM=(()=>{class n extends eM{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Au),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class IN{constructor(){this.tasks=[],this.endTasks=[]}}const iM=new l.OlP("_COALESCED_STYLE_SCHEDULER");let TN=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new xt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new IN,this._getScheduleObservable().pipe(tn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new IN;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,sn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Jr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rM=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Kv?e.headerCell.template:this instanceof Zv?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class sG extends rM{}const oG=JT(sG);let Kv=(()=>{class n extends oG{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class aG extends rM{}const lG=JT(aG);let Zv=(()=>{class n extends lG{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),tD=(()=>{class n extends rM{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Iu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),sM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Iu],encapsulation:2}),n})(),aM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Iu],encapsulation:2}),n})(),nD=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const MN=["top","bottom","left","right"];class cG{constructor(t,e,i,r,a=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let a=0;a<r.children.length;a++)i.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=t[0],u=a.children.length,h=this._getCellWidths(a,r),y=this._getStickyStartColumnPositions(h,e),w=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),A=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,V=O?"right":"left",B=O?"left":"right";for(const X of t)for(let de=0;de<u;de++){const Fe=X.children[de];e[de]&&this._addStickyStyle(Fe,V,y[de],de===D),i[de]&&this._addStickyStyle(Fe,B,w[de],de===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((X,de)=>e[de]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:h.slice(A).map((X,de)=>i[de+A]?X:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,a="bottom"===i?e.slice().reverse():e,u=[],h=[],y=[];for(let D=0,A=0;D<r.length;D++){if(!a[D])continue;u[D]=A;const O=r[D];y[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const V=O.getBoundingClientRect().height;A+=V,h[D]=V}const w=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let D=0;D<r.length;D++){if(!a[D])continue;const A=u[D],O=D===w;for(const V of y[D])this._addStickyStyle(V,i,A,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:y}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:y})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);MN.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of MN)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let a=0;a<r.length;a++)i.push(r[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let a=0;a<t.length;a++)e[a]&&(i[a]=r,r+=t[a]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let a=t.length;a>0;a--)e[a]&&(i[a]=r,r+=t[a]);return i}}const lM=new l.OlP("CDK_SPL");let iD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),rD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),sD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),oD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),aD=(()=>{class n{constructor(e,i,r,a,u,h,y,w,D,A,O,V){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=y,this._viewRepeater=w,this._coalescedStyleScheduler=D,this._viewportRuler=A,this._stickyPositioningListener=O,this._ngZone=V,this._onDestroy=new xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new _n({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=on(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=on(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(tn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ZT(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,a,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Jr.q)(1),tn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===a&&u.push(i[h]);this._addStickyColumnStyles(u,a)}),r.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r];const u=this._getRenderRowsForData(a,r,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let h=0;h<u.length;h++){let y=u[h];const w=this._cachedRenderRowsMap.get(y.data);w.has(y.rowDef)?w.get(y.rowDef).push(y):w.set(y.rowDef,[y]),e.push(y)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const y=h.shift();return y.dataIndex=i,y}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),lD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=lD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=lD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=lD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||r||a}_switchDataSource(e){this._data=[],ZT(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ZT(this.dataSource)?e=this.dataSource.connect(this):function Qj(n){return!!n&&(n instanceof qn.y||(0,Io.m)(n.lift)&&(0,Io.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=at(this.dataSource)),this._renderChangeSubscription=e.pipe(tn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),a=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const a=e.viewContainer.get(r);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;a&&r.push(a)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,a={}){const u=e.viewContainer.createEmbeddedView(i.template,a,r);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Iu.mostRecentCellOutlet&&Iu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const a=this._document.createElement(r.tag);a.setAttribute("role","rowgroup");for(const u of r.outlets)a.appendChild(u.elementRef.nativeElement);e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new cG(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:at()).pipe(tn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const a=r.createEmbeddedView(e.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(ac,8),l.Y36(ee),l.Y36(Be),l.Y36(Wv),l.Y36(iM),l.Y36(XE),l.Y36(lM,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,nD,5),l.Suo(r,Au,5),l.Suo(r,tD,5),l.Suo(r,Kv,5),l.Suo(r,Zv,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._noDataRow=a.first),l.iGM(a=l.CRH())&&(i._contentColumnDefs=a),l.iGM(a=l.CRH())&&(i._contentRowDefs=a),l.iGM(a=l.CRH())&&(i._contentHeaderRowDefs=a),l.iGM(a=l.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(iD,7),l.Gf(rD,7),l.Gf(sD,7),l.Gf(oD,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:Fm,useExisting:n},{provide:Wv,useClass:wN},{provide:iM,useClass:TN},{provide:lM,useValue:null}])],ngContentSelectors:Jj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(Xj),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[iD,rD,sD,oD],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function lD(n,t){return n.concat(Array.from(t))}let dG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XT]}),n})();const hG=[[["caption"]],[["colgroup"],["col"]]],fG=["caption","colgroup, col"];let kN=(()=>{class n extends aD{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Wv,useClass:wN},{provide:aD,useExisting:n},{provide:Fm,useExisting:n},{provide:iM,useClass:TN},{provide:lM,useValue:null}]),l.qOj],ngContentSelectors:fG,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(hG),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[iD,rD,sD,oD],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),cM=(()=>{class n extends Pm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Pm,useExisting:n}]),l.qOj]}),n})(),uM=(()=>{class n extends Nm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Nm,useExisting:n}]),l.qOj]}),n})(),dM=(()=>{class n extends Au{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Au,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),hM=(()=>{class n extends tM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),fM=(()=>{class n extends nM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),ON=(()=>{class n extends Kv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:Kv,useExisting:n}]),l.qOj]}),n})(),FN=(()=>{class n extends tD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:tD,useExisting:n}]),l.qOj]}),n})(),PN=(()=>{class n extends sM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:sM,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Iu],encapsulation:2}),n})(),NN=(()=>{class n extends aM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:aM,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Iu],encapsulation:2}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dG,ii,ii]}),n})();class LN extends class xG extends class Oj{}{constructor(t=[]){super(),this._renderData=new _n([]),this._filter=new _n(""),this._internalPageChanges=new xt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(Wy(r)){const a=Number(r);return a<9007199254740991?a:r}return r},this.sortData=(e,i)=>{const r=i.active,a=i.direction;return r&&""!=a?e.sort((u,h)=>{let y=this.sortingDataAccessor(u,r),w=this.sortingDataAccessor(h,r);const D=typeof y,A=typeof w;D!==A&&("number"===D&&(y+=""),"number"===A&&(w+=""));let O=0;return null!=y&&null!=w?y>w?O=1:y<w&&(O=-1):null!=y?O=1:null!=w&&(O=-1),O*("asc"==a?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),a=i.trim().toLowerCase();return-1!=r.indexOf(a)},this._data=new _n(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,ma.T)(this._sort.sortChange,this._sort.initialized):at(null),e=this._paginator?(0,ma.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):at(null),r=Rd([this._data,this._filter]).pipe((0,st.U)(([h])=>this._filterData(h))),a=Rd([r,t]).pipe((0,st.U)(([h])=>this._orderData(h))),u=Rd([a,e]).pipe((0,st.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}var bl=P(2011);class pM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class cD extends pM{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class gM extends pM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class SG extends pM{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class mM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof cD?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof gM?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof SG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AG extends mM{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,y=this._document.createComment("dom-portal");h.parentNode.insertBefore(y,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(h,y)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let VN=(()=>{class n extends mM{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ee))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),BN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const UN=uu();class TG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ni(-this._previousScrollPosition.left),t.style.top=ni(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UN&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class MG{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HN{enable(){}disable(){}attach(){}}function yM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class RG{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();yM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kG=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new HN,this.close=u=>new MG(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new TG(this._viewportRuler,this._document),this.reposition=u=>new RG(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(SN),l.LFG(XE),l.LFG(l.R0b),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _M{constructor(t){if(this.scrollStrategy=new HN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class OG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let GN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FG=(()=>{class n extends GN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const h=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PG=(()=>{class n extends GN{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=gs(a)},this._clickListener=a=>{const u=gs(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const D=y[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const A=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee),l.LFG(Be),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$N=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||hu()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(e),hu()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee),l.LFG(Be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NG{constructor(t,e,i,r,a,u,h,y,w,D=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=h,this._location=y,this._outsideClickDispatcher=w,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new xt.x,this._attachments=new xt.x,this._detachments=new xt.x,this._locationChanges=Js.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new xt.x,this._outsidePointerEvents=new xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ni(this._config.width),t.height=ni(this._config.height),t.minWidth=ni(this._config.minWidth),t.minHeight=ni(this._config.minHeight),t.maxWidth=ni(this._config.maxWidth),t.maxHeight=ni(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=bf(e||[]).filter(a=>!!a);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(tn((0,ma.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zN="cdk-overlay-connected-position-bounding-box",LG=/([A-Za-z%]+)$/;class VG{constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.x,this._resizeSubscription=Js.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(zN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let h of this._preferredPositions){let y=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(y,e,h),D=this._getOverlayFit(w,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,y);this._canFitWithFlexibleDimensions(D,w,i)?a.push({position:h,origin:y,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(y,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:y,position:h,overlayRect:e})}if(a.length){let h=null,y=-1;for(const w of a){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>y&&(y=D,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,a;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=WN(e);let{x:u,y:h}=t,y=this._getOffset(r,"x"),w=this._getOffset(r,"y");y&&(u+=y),w&&(h+=w);let O=0-h,V=h+a.height-i.height,B=this._subtractOverflows(a.width,0-u,u+a.width-i.width),X=this._subtractOverflows(a.height,O,V),de=B*X;return{visibleArea:de,isCompletelyWithinViewport:a.width*a.height===de,fitsInViewportVertically:X===a.height,fitsInViewportHorizontally:B==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,u=qN(this._overlayRef.getConfig().minHeight),h=qN(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=a;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=WN(e),a=this._viewportRect,u=Math.max(t.x+r.width-a.width,0),h=Math.max(t.y+r.height-a.height,0),y=Math.max(a.top-i.top-t.y,0),w=Math.max(a.left-i.left-t.x,0);let D=0,A=0;return D=r.width<=a.width?w||-u:t.x<this._viewportMargin?a.left-i.left-t.x:0,A=r.height<=a.height?y||-h:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:D,y:A},{x:t.x+D,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new OG(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,u,h,D,A,O;if("top"===e.overlayY)u=t.y,a=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,a=i.height-h+this._viewportMargin;else{const V=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;a=2*V,u=t.y-V,a>B&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)A=t.x,D=i.right-t.x;else{const V=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;D=2*V,A=t.x-V,D>B&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-B/2)}return{top:u,left:A,bottom:h,right:O,width:D,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ni(i.height),r.top=ni(i.top),r.bottom=ni(i.bottom),r.width=ni(i.width),r.left=ni(i.left),r.right=ni(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ni(a)),u&&(r.maxWidth=ni(u))}this._lastBoundingBoxSize=i,cp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();cp(i,this._getExactOverlayY(e,t,D)),cp(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",y=this._getOffset(e,"x"),w=this._getOffset(e,"y");y&&(h+=`translateX(${y}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=ni(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ni(u.maxWidth):a&&(i.maxWidth="")),cp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ni(a.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ni(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jN(t,i),isOriginOutsideView:yM(t,i),isOverlayClipped:jN(e,i),isOverlayOutsideView:yM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bf(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function cp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function qN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(LG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function WN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YN="cdk-global-overlay-wrapper";class BG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:h}=i,y=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),D=this._xPosition,A=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let V="",B="",X="";y?X="flex-start":"center"===D?(X="center",O?B=A:V=A):O?"left"===D||"end"===D?(X="flex-end",V=A):("right"===D||"start"===D)&&(X="flex-start",B=A):"left"===D||"start"===D?(X="flex-start",V=A):("right"===D||"end"===D)&&(X="flex-end",B=A),t.position=this._cssPosition,t.marginLeft=y?"0":V,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=y?"0":B,e.justifyContent=X,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(YN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let UG=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new BG}flexibleConnectedTo(e){return new VG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(XE),l.LFG(ee),l.LFG(Be),l.LFG($N))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HG=0,ch=(()=>{class n{constructor(e,i,r,a,u,h,y,w,D,A,O,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=h,this._ngZone=y,this._document=w,this._directionality=D,this._location=A,this._outsideClickDispatcher=O,this._animationsModuleType=V}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new _M(e);return u.direction=u.direction||this._directionality.value,new NG(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HG++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new AG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(kG),l.LFG($N),l.LFG(l._Vd),l.LFG(UG),l.LFG(FG),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ee),l.LFG(ac),l.LFG(ve),l.LFG(PG),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jG=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],KN=new l.OlP("cdk-connected-overlay-scroll-strategy");let ZN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),QN=(()=>{class n{constructor(e,i,r,a,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Js.w0.EMPTY,this._attachSubscription=Js.w0.EMPTY,this._detachSubscription=Js.w0.EMPTY,this._positionSubscription=Js.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new gM(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=on(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=on(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=on(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=on(e)}get push(){return this._push}set push(e){this._push=on(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jG);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Id(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new _M({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ZN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function IG(n,t=!1){return(0,Ui.e)((e,i)=>{let r=0;e.subscribe((0,Vn.x)(i,a=>{const u=n(a,r++);(u||t)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ch),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(KN),l.Y36(ac,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const $G={provide:KN,deps:[ch],useFactory:function GG(n){return()=>n.scrollStrategies.reposition()}};let vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ch,$G],imports:[gu,BN,XT,XT]}),n})();const zG=["trigger"],qG=["panel"];function WG(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function YG(n,t){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function KG(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function ZG(n,t){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,YG,2,1,"span",10),l.YNc(2,KG,1,0,"ng-content",11),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function QG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(e);const a=l.oxw();return l.KtG(a._handleKeydown(r))}),l.Hsn(3,1),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",e._getPanelTheme(),""),l.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),l.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const XG=[[["mat-select-trigger"]],"*"],JG=["mat-select-trigger","*"],XN={transformPanelWrap:Rr("transformPanelWrap",[cr("* => void",xi("@transformPanel",[sa()],{optional:!0}))]),transformPanel:Rr("transformPanel",[Hs("void",Sn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Hs("showing",Sn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Hs("showing-multiple",Sn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),cr("void => *",Di("120ms cubic-bezier(0, 0, 0.2, 1)")),cr("* => void",Di("100ms 25ms linear",Sn({opacity:0})))])};let JN=0;const t1=new l.OlP("mat-select-scroll-strategy"),i$=new l.OlP("MAT_SELECT_CONFIG"),r$={provide:t1,deps:[ch],useFactory:function n$(n){return()=>n.scrollStrategies.reposition()}};class s${constructor(t,e){this.source=t,this.value=e}}const o$=nC(l_(o_(c_(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new xt.x}})))),a$=new l.OlP("MatSelectTrigger");let l$=(()=>{class n extends o${constructor(e,i,r,a,u,h,y,w,D,A,O,V,B,X){super(u,a,y,w,A),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=B,this._defaultOptions=X,this._panelOpen=!1,this._compareWith=(de,Fe)=>de===Fe,this._uid="mat-select-"+JN++,this._triggerAriaLabelledBy=null,this._destroy=new xt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+JN++,this._panelDoneAnimatingStream=new xt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=lm(()=>{const de=this.options;return de?de.changes.pipe(hl(de),Si(()=>(0,ma.T)(...de.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe((0,Jr.q)(1),Si(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Hi(de=>de),(0,st.U)(()=>{})),this._closedStream=this.openedChange.pipe(Hi(de=>!de),(0,st.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=X?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(e){this._required=on(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=on(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=on(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=dl(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Fj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(qy(),tn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(tn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(hl(null),tn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!Id(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const y=this.selected;y&&h!==y&&this._liveAnnouncer.announce(y.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Id(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(y=>!y.disabled&&!y.selected);this.options.forEach(y=>{y.disabled||(h?y.select():y.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&a&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Jr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Ig(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(tn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(tn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ma.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(tn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ma.T)(...this.options.map(i=>i._stateChanges)).pipe(tn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(XE),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Af),l.Y36(l.SBq),l.Y36(ac,8),l.Y36(iu,8),l.Y36(ec,8),l.Y36(Bf,8),l.Y36(Q,10),l.$8M("tabindex"),l.Y36(t1),l.Y36(n_),l.Y36(i$,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(zG,5),l.Gf(qG,5),l.Gf(QN,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),c$=(()=>{class n extends l${constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*e-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(tn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Mf(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function _A(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new s$(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let w=this._selectionModel.selected[0]||this.options.first;u=w&&w.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?a:0)),y=e.right+u-i.width+(r?0:a);h>0?u+=h+8:y>0&&(u-=y+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,h=Math.floor(256/a);let y;return this.disableOptionCentering?0:(y=0===this._scrollTop?e*a:this._scrollTop===r?(e-(this._getItemCount()-h))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*y-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;w>u?this._adjustPanelUp(w,u):h>a?this._adjustPanelDown(h,a,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const a=Math.round(e-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=Mf(h,this.options,this.optionGroups);const y=r/2;this._scrollTop=this._calculateOverlayScroll(h,y,u),this._offsetY=this._calculateOverlayOffsetY(h,y,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,a$,5),l.Suo(r,fa,5),l.Suo(r,d_,5)),2&e){let a;l.iGM(a=l.CRH())&&(i.customTrigger=a.first),l.iGM(a=l.CRH())&&(i.options=a),l.iGM(a=l.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:Wg,useExisting:n},{provide:mA,useExisting:n}]),l.qOj],ngContentSelectors:JG,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(l.F$t(XG),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,WG,2,1,"span",3),l.YNc(5,ZG,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,QG,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Ts,co,uo,xr,QN,ZN],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[XN.transformPanelWrap,XN.transformPanel]},changeDetection:0}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[r$],imports:[Fi,vM,dC,ii,JE,ms,dC,ii]}),n})();const d$=["tooltip"],n1="tooltip-panel",r1=ic({passive:!0}),s1=new l.OlP("mat-tooltip-scroll-strategy"),g$={provide:s1,deps:[ch],useFactory:function p$(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},m$=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function y$(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let _$=(()=>{class n{constructor(e,i,r,a,u,h,y,w,D,A,O,V){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=a,this._ngZone=u,this._platform=h,this._ariaDescriber=y,this._focusMonitor=w,this._dir=A,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xt.x,this._scrollStrategy=D,this._document=V,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),A.change.pipe(tn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=on(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=dl(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=dl(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(tn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,r1)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new cD(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(tn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(tn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${n1}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(tn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(tn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(tn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Id(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...a.main}),this._addOffset({...r.fallback,...a.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:a,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:a,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:a,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:a,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1),tn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:a}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===a?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const y=`${this._cssClassPrefix}-${n1}-`;h.removePanelClass(y+this._currentPosition),h.addPanelClass(y+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,r1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),v$=(()=>{class n extends _${constructor(e,i,r,a,u,h,y,w,D,A,O,V){super(e,i,r,a,u,h,y,w,D,A,O,V),this._tooltipComponent=b$}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ch),l.Y36(l.SBq),l.Y36(SN),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(Be),l.Y36(zF),l.Y36(Rg),l.Y36(s1),l.Y36(ac,8),l.Y36(m$,8),l.Y36(ee))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[l.qOj]}),n})(),w$=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(e?a:r),i.classList.add(e?r:a),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n}),n})(),b$=(()=>{class n extends w${constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(Cf),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&l.Gf(d$,7),2&e){let r;l.iGM(r=l.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("mouseleave",function(a){return i._handleMouseLeave(a)}),2&e&&l.Udp("zoom",i.isVisible()?1:null)},features:[l.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(a){return i._handleAnimationEnd(a)}),l.ALo(2,"async"),l._uU(3),l.qZA()),2&e){let r;l.ekj("mat-tooltip-handset",null==(r=l.lcZ(2,4,i._isHandset))?null:r.matches),l.Q6J("ngClass",i.tooltipClass),l.xp6(3),l.Oqu(i.message)}},dependencies:[Ts,Mc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[g$],imports:[Pd,Fi,vM,ii,ii,JE]}),n})();function E$(n,t){if(1&n&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}function D$(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(r){l.CHM(e);const a=l.oxw(2);return l.KtG(a._changePageSize(r.value))}),l.YNc(2,E$,2,2,"mat-option",18),l.qZA()()}if(2&n){const e=l.oxw(2);l.Q6J("appearance",e._formFieldAppearance)("color",e.color),l.xp6(1),l.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),l.xp6(1),l.Q6J("ngForOf",e._displayedPageSizeOptions)}}function x$(n,t){if(1&n&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.pageSize)}}function S$(n,t){if(1&n&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,D$,3,8,"mat-form-field",14),l.YNc(4,x$,2,1,"div",15),l.qZA()),2&n){const e=l.oxw();l.xp6(2),l.hij(" ",e._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",e._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function A$(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),l.uIk("aria-label",e._intl.firstPageLabel)}}function I$(n,t){if(1&n){const e=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),l.uIk("aria-label",e._intl.lastPageLabel)}}let dD=(()=>{class n{constructor(){this.changes=new xt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const a=e*i;return`${a+1} \u2013 ${a<(r=Math.max(r,0))?Math.min(a+i,r):a+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M$={provide:dD,deps:[[new l.FiY,new l.tp0,dD]],useFactory:function T$(n){return n||new dD}},k$=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),O$=o_(oA(class{}));let F$=(()=>{class n extends O${constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:a,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:y}=r;null!=a&&(this._pageSize=a),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=y&&(this._showFirstLastButtons=y)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(dl(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=dl(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(dl(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>dl(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=on(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=on(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[l.qOj]}),n})(),o1=(()=>{class n extends F${constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dD),l.Y36(l.sBO),l.Y36(k$,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,S$,5,3,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,A$,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return i.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return i.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,I$,3,5,"button",11),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("ngIf",!i.hidePageSize),l.xp6(3),l.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l.xp6(1),l.Q6J("ngIf",i.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),l.uIk("aria-label",i._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),l.uIk("aria-label",i._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[$o,zo,Zg,Uf,c$,fa,v$],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[M$],imports:[Fi,Qg,u$,C$,ii]}),n})();function N$(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(2),l.Oqu(e.data.action)}}function L$(n,t){}const a1=new l.OlP("MatSnackBarData");class hD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const V$=Math.pow(2,31)-1;class wM{constructor(t,e){this._overlayRef=e,this._afterDismissed=new xt.x,this._afterOpened=new xt.x,this._onAction=new xt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,V$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let B$=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(wM),l.Y36(a1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,N$,3,1,"div",1)),2&e&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[zo,Zg],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const U$={snackBarState:Rr("state",[Hs("void, hidden",Sn({transform:"scale(0.8)",opacity:0})),Hs("visible",Sn({transform:"scale(1)",opacity:1})),cr("* => visible",Di("150ms cubic-bezier(0, 0, 0.2, 1)")),cr("* => void, * => hidden",Di("75ms cubic-bezier(0.4, 0.0, 1, 1)",Sn({opacity:0})))])};let H$=(()=>{class n extends mM{constructor(e,i,r,a,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new xt.x,this._onExit=new xt.x,this._onEnter=new xt.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const y=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),y},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Be),l.Y36(hD))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(VN,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),j$=(()=>{class n extends H${_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&l.WFA("@state.done",function(a){return i.onAnimationEnd(a)}),2&e&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,L$,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&e&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[VN],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[U$.snackBarState]}}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[vM,BN,Fi,Qg,ii,ii]}),n})();const c1=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function G$(){return new hD}});let $$=(()=>{class n{constructor(e,i,r,a,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const a={...this._defaultConfig,...r};return a.data={message:e,action:i},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const a=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:hD,useValue:i}]}),u=new cD(this.snackBarContainerComponent,i.viewContainerRef,a),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new hD,...this._defaultConfig,...i},a=this._createOverlay(r),u=this._attachSnackBarContainer(a,r),h=new wM(u,a);if(e instanceof l.Rgc){const y=new gM(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(y)}else{const y=this._createInjector(r,h),w=new cD(e,void 0,y),D=u.attachComponentPortal(w);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(tn(a.detachments())).subscribe(y=>{a.overlayElement.classList.toggle(this.handsetCssClass,y.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new _M;i.direction=e.direction;let r=this._overlay.position().global();const a="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return l.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wM,useValue:i},{provide:a1,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ch),l.LFG(n_),l.LFG(l.zs3),l.LFG(Cf),l.LFG(n,12),l.LFG(c1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),z$=(()=>{class n extends $${constructor(e,i,r,a,u,h){super(e,i,r,a,u,h),this.simpleSnackBarComponent=B$,this.snackBarContainerComponent=j$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ch),l.LFG(n_),l.LFG(l.zs3),l.LFG(Cf),l.LFG(n,12),l.LFG(c1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:l1}),n})();var Vr=P(5813);function bM(){return(0,Ui.e)((n,t)=>{let e,i=!1;n.subscribe((0,Vn.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}P(9916);var it,q$=P(3942),be=P(5861),up=P(9681),fD=P(4859),uh=P(1877),Kt=P(2090),W$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tu={},CM=CM||{},Pt=W$||self;function pD(){}function EM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Xv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var DM="closure_uid_"+(1e9*Math.random()>>>0),K$=0;function Z$(n,t,e){return n.call.apply(n.bind,arguments)}function Q$(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Br(n,t,e){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z$:Q$).apply(null,arguments)}function gD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ur(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function dh(){this.s=this.s,this.o=this.o}var J$={};dh.prototype.s=!1,dh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Y$(n){return Object.prototype.hasOwnProperty.call(n,DM)&&n[DM]||(n[DM]=++K$)}(this);delete J$[n]}},dh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u1=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},d1=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function h1(n){return Array.prototype.concat.apply([],arguments)}function xM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function mD(n){return/^[\s\xa0]*$/.test(n)}var ws,f1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vs(n,t){return-1!=n.indexOf(t)}function SM(n,t){return n<t?-1:n>t?1:0}e:{var p1=Pt.navigator;if(p1){var g1=p1.userAgent;if(g1){ws=g1;break e}}ws=""}function AM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function m1(n){const t={};for(const e in n)t[e]=n[e];return t}var y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _1(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<y1.length;a++)e=y1[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function IM(n){return IM[" "](n),n}IM[" "]=pD;var yD,n,n3=vs(ws,"Opera"),Vm=vs(ws,"Trident")||vs(ws,"MSIE"),v1=vs(ws,"Edge"),TM=v1||Vm,w1=vs(ws,"Gecko")&&!(vs(ws.toLowerCase(),"webkit")&&!vs(ws,"Edge"))&&!(vs(ws,"Trident")||vs(ws,"MSIE"))&&!vs(ws,"Edge"),i3=vs(ws.toLowerCase(),"webkit")&&!vs(ws,"Edge");function b1(){var n=Pt.document;return n?n.documentMode:void 0}e:{var MM="",RM=(n=ws,w1?/rv:([^\);]+)(\)|;)/.exec(n):v1?/Edge\/([\d\.]+)/.exec(n):Vm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):i3?/WebKit\/(\S+)/.exec(n):n3?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RM&&(MM=RM?RM[1]:""),Vm){var kM=b1();if(null!=kM&&kM>parseFloat(MM)){yD=String(kM);break e}}yD=MM}var r3={};var o3=Pt.document&&Vm&&(b1()||parseInt(yD,10))||void 0,a3=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",pD,t),Pt.removeEventListener("test",pD,t)}catch{}return n}();function ts(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Jv(n,t){if(ts.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(w1){e:{try{IM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:l3[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jv.Z.h.call(this)}}ts.prototype.h=function(){this.defaultPrevented=!0},Ur(Jv,ts);var l3={2:"touch",3:"pen",4:"mouse"};Jv.prototype.h=function(){Jv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ew="closure_listenable_"+(1e6*Math.random()|0),c3=0;function u3(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++c3,this.ca=this.fa=!1}function _D(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vD(n){this.src=n,this.g={},this.h=0}function FM(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=u1(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(_D(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function PM(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}vD.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=PM(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new u3(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var NM="closure_lm_"+(1e6*Math.random()|0),LM={};function E1(n,t,e,i,r){if(i&&i.once)return x1(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)E1(n,t[a],e,i,r);return null}return e=HM(e),n&&n[ew]?n.N(t,e,Xv(i)?!!i.capture:!!i,r):D1(n,t,e,!1,i,r)}function D1(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var u=Xv(r)?!!r.capture:!!r,h=BM(n);if(h||(n[NM]=h=new vD(n)),(e=h.add(t,e,i,u,a)).proxy)return e;if(i=function d3(){var t=h3;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)a3||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(A1(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function x1(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)x1(n,t[a],e,i,r);return null}return e=HM(e),n&&n[ew]?n.O(t,e,Xv(i)?!!i.capture:!!i,r):D1(n,t,e,!0,i,r)}function S1(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)S1(n,t[a],e,i,r);else i=Xv(i)?!!i.capture:!!i,e=HM(e),n&&n[ew]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=PM(a=n.g[t],e,i,r))&&(_D(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=BM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=PM(t,e,i,r)),(e=-1<n?t[n]:null)&&VM(e))}function VM(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ew])FM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(A1(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=BM(t))?(FM(e,n),0==e.h&&(e.src=null,t[NM]=null)):_D(n)}}}function A1(n){return n in LM?LM[n]:LM[n]="on"+n}function h3(n,t){if(n.ca)n=!0;else{t=new Jv(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&VM(n),n=e.call(i,t)}return n}function BM(n){return(n=n[NM])instanceof vD?n:null}var UM="__closure_events_fn_"+(1e9*Math.random()>>>0);function HM(n){return"function"==typeof n?n:(n[UM]||(n[UM]=function(t){return n.handleEvent(t)}),n[UM])}function hr(){dh.call(this),this.i=new vD(this),this.P=this,this.I=null}function Hr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ts(t,n);else if(t instanceof ts)t.target=t.target||n;else{var r=t;_1(t=new ts(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];r=wD(u,i,!0,t)&&r}if(r=wD(u=t.g=n,i,!0,t)&&r,r=wD(u,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=wD(u=t.g=e[a],i,!1,t)&&r}function wD(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var h=u.listener,y=u.ia||u.src;u.fa&&FM(n.i,u),r=!1!==h.call(y,i)&&r}}return r&&!i.defaultPrevented}Ur(hr,dh),hr.prototype[ew]=!0,hr.prototype.removeEventListener=function(n,t,e,i){S1(this,n,t,e,i)},hr.prototype.M=function(){if(hr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)_D(e[i]);delete n.g[t],n.h--}}this.I=null},hr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},hr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var jM=Pt.JSON.stringify;function f3(){var n=T1;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var $M,I1=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new g3,n=>n.reset());class g3{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function m3(n){Pt.setTimeout(()=>{throw n},0)}function GM(n,t){$M||function y3(){var n=Pt.Promise.resolve(void 0);$M=function(){n.then(_3)}}(),zM||($M(),zM=!0),T1.add(n,t)}var zM=!1,T1=new class p3{constructor(){this.h=this.g=null}add(t,e){const i=I1.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function _3(){for(var n;n=f3();){try{n.h.call(n.g)}catch(e){m3(e)}var t=I1;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}zM=!1}function bD(n,t){hr.call(this),this.h=n||1,this.g=t||Pt,this.j=Br(this.kb,this),this.l=Date.now()}function qM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function WM(n,t,e){if("function"==typeof n)e&&(n=Br(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Br(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pt.setTimeout(n,t||0)}function M1(n){n.g=WM(()=>{n.g=null,n.i&&(n.i=!1,M1(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ur(bD,hr),(it=bD.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hr(this,"tick"),this.da&&(qM(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){bD.Z.M.call(this),qM(this),delete this.g};class v3 extends dh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:M1(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tw(n){dh.call(this),this.h=n,this.g={}}Ur(tw,dh);var R1=[];function k1(n,t,e,i){Array.isArray(e)||(e&&(R1[0]=e.toString()),e=R1);for(var r=0;r<e.length;r++){var a=E1(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function O1(n){AM(n.g,function(t,e){this.g.hasOwnProperty(e)&&VM(t)},n),n.g={}}function CD(){this.g=!0}function Bm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function E3(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return jM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}tw.prototype.M=function(){tw.Z.M.call(this),O1(this)},tw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},CD.prototype.Aa=function(){this.g=!1},CD.prototype.info=function(){};var dp={},F1=null;function ED(){return F1=F1||new hr}function P1(n){ts.call(this,dp.Ma,n)}function nw(n){const t=ED();Hr(t,new P1(t,n))}function N1(n,t){ts.call(this,dp.STAT_EVENT,n),this.stat=t}function bs(n){const t=ED();Hr(t,new N1(t,n))}function L1(n,t){ts.call(this,dp.Na,n),this.size=t}function iw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},t)}dp.Ma="serverreachability",Ur(P1,ts),dp.STAT_EVENT="statevent",Ur(N1,ts),dp.Na="timingevent",Ur(L1,ts);var DD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},V1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function YM(){}function U1(){}YM.prototype.h=null;var QM,rw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function KM(){ts.call(this,"d")}function ZM(){ts.call(this,"c")}function xD(){}function sw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new tw(this),this.P=D3,this.W=new bD(n=TM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new H1}function H1(){this.i=null,this.g="",this.h=!1}Ur(KM,ts),Ur(ZM,ts),Ur(xD,YM),xD.prototype.g=function(){return new XMLHttpRequest},xD.prototype.i=function(){return{}},QM=new xD;var D3=45e3,XM={},SD={};function JM(n,t,e){n.K=1,n.v=RD(Mu(t)),n.s=e,n.U=!0,j1(n,null)}function j1(n,t){n.F=Date.now(),ow(n),n.A=Mu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Q1(e.h,"t",i),n.C=0,e=n.l.H,n.h=new H1,n.g=wL(n.l,e?t:null,!n.s),0<n.O&&(n.L=new v3(Br(n.Ia,n,n.g),n.O)),k1(n.V,n.g,"readystatechange",n.gb),t=n.H?m1(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),nw(1),function w3(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),y=0;y<h.length;y++){var w=h[y].split("=");if(1<w.length){var D=w[0];w=w[1];var A=D.split("_");u=2<=A.length&&"type"==A[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function G1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function $1(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=x3(n,e),r==SD){4==t&&(n.o=4,bs(14),i=!1),Bm(n.j,n.m,null,"[Incomplete Response]");break}if(r==XM){n.o=4,bs(15),Bm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Bm(n.j,n.m,r,null),eR(n,r)}G1(n)&&r!=SD&&r!=XM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,bs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),dR(t),t.L=!0,bs(11))):(Bm(n.j,n.m,e,"[Invalid Chunked Response]"),hp(n),aw(n))}function x3(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?SD:(e=Number(t.substring(e,i)),isNaN(e)?XM:(i+=1)+e>t.length?SD:(t=t.substr(i,e),n.C=i+e,t))}function ow(n){n.Y=Date.now()+n.P,z1(n,n.P)}function z1(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=iw(Br(n.eb,n),t)}function AD(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function aw(n){0==n.l.G||n.I||mL(n.l,n)}function hp(n){AD(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,qM(n.W),O1(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function eR(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||iR(e.i,n)))if(e.I=n.N,!n.J&&iR(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;LD(e),PD(e)}uR(e),bs(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=iw(Br(e.ab,e),6e3));if(1>=eL(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else gp(e,11)}else if((n.J||e.g==n)&&LD(e),!mD(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const D=w[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));const A=w[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const O=w[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const V=n.g;if(V){const B=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var a=i.i;!a.g&&(vs(B,"spdy")||vs(B,"quic")||vs(B,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(rR(a,a.h),a.h=null))}if(i.D){const X=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.sa=X,oi(i.F,i.D,X))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=vL(i,i.H?i.la:null,i.W),u.J){tL(i.i,u);var h=u,y=i.K;y&&h.setTimeout(y),h.B&&(AD(h),ow(h)),i.g=u}else pL(i);0<e.l.length&&ND(e)}else"stop"!=w[0]&&"close"!=w[0]||gp(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?gp(e,7):lR(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}nw(4)}catch{}}function tR(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(EM(n)||"string"==typeof n)d1(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(EM(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function S3(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(EM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function Um(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Um)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function nR(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];fp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)fp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function fp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(it=sw.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const t=this.L;t&&3==Ru(n)?t.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const D=Ru(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>D)&&(3!=D||TM||this.g&&(this.h.h||this.g.ga()||cL(this.g)))){this.I||4!=D||7==t||nw(8==t||0>=A?3:2),AD(this);var e=this.g.ba();this.N=e;t:if(G1(this)){var i=cL(this.g);n="";var r=i.length,a=4==Ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hp(this),aw(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function b3(n,t,e,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,y=this.g;if((h=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mD(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,bs(12),hp(this),aw(this);break e}Bm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eR(this,e)}this.U?($1(this,D,u),TM&&this.i&&3==D&&(k1(this.V,this.W,"tick",this.fb),this.W.start())):(Bm(this.j,this.m,u,null),eR(this,u)),4==D&&hp(this),this.i&&!this.I&&(4==D?mL(this.l,this):(this.i=!1,ow(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),hp(this),aw(this)}}}catch{}},it.fb=function(){if(this.g){var n=Ru(this.g),t=this.g.ga();this.C<t.length&&(AD(this),$1(this,n,t),this.i&&4!=n&&ow(this))}},it.cancel=function(){this.I=!0,hp(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function C3(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(nw(3),bs(17)),hp(this),this.o=2,aw(this)):z1(this,this.Y-n)},(it=Um.prototype).R=function(){nR(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},it.T=function(){return nR(this),this.g.concat()},it.get=function(n,t){return fp(this.h,n)?this.h[n]:t},it.set=function(n,t){fp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},it.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var q1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof pp){this.g=void 0!==t?t:n.g,ID(this,n.j),this.s=n.s,TD(this,n.i),MD(this,n.m),this.l=n.l,t=n.h;var e=new uw;e.i=t.i,t.g&&(e.g=new Um(t.g),e.h=t.h),W1(this,e),this.o=n.o}else n&&(e=String(n).match(q1))?(this.g=!!t,ID(this,e[1]||"",!0),this.s=lw(e[2]||""),TD(this,e[3]||"",!0),MD(this,e[4]),this.l=lw(e[5]||"",!0),W1(this,e[6]||"",!0),this.o=lw(e[7]||"")):(this.g=!!t,this.h=new uw(null,this.g))}function Mu(n){return new pp(n)}function ID(n,t,e){n.j=e?lw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function TD(n,t,e){n.i=e?lw(t,!0):t}function MD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function W1(n,t,e){t instanceof uw?(n.h=t,function P3(n,t){t&&!n.j&&(hh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(K1(this,i),Q1(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=cw(t,O3)),n.h=new uw(t,n.g))}function oi(n,t,e){n.h.set(t,e)}function RD(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,M3),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function M3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}pp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(cw(t,Y1,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(cw(t,Y1,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(cw(e,"/"==e.charAt(0)?k3:R3,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",cw(e,F3)),n.join("")};var Y1=/[#\/\?@]/g,R3=/[#\?:]/g,k3=/[#\?]/g,O3=/[#\?@]/g,F3=/#/g;function uw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function hh(n){n.g||(n.g=new Um,n.h=0,n.i&&function A3(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function K1(n,t){hh(n),t=Hm(n,t),fp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,fp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&nR(n)))}function Z1(n,t){return hh(n),t=Hm(n,t),fp(n.g.h,t)}function Q1(n,t,e){K1(n,t),0<e.length&&(n.i=null,n.g.set(Hm(n,t),xM(e)),n.h+=e.length)}function Hm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function X1(n){this.l=n||L3,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=uw.prototype).add=function(n,t){hh(this),this.i=null,n=Hm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},it.forEach=function(n,t){hh(this),this.g.forEach(function(e,i){d1(e,function(r){n.call(t,r,i,this)},this)},this)},it.T=function(){hh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},it.R=function(n){hh(this);var t=[];if("string"==typeof n)Z1(this,n)&&(t=h1(t,this.g.get(Hm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=h1(t,n[e])}return t},it.set=function(n,t){return hh(this),this.i=null,Z1(this,n=Hm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},it.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var L3=10;function J1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eL(n){return n.h?1:n.g?n.g.size:0}function iR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function rR(n,t){n.g?n.g.add(t):n.h=t}function tL(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function nL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return xM(n.i)}function sR(){}function V3(){this.g=new sR}function B3(n,t,e){const i=e||"";try{tR(n,function(r,a){let u=r;Xv(r)&&(u=jM(r)),t.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function kD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function dw(n){this.l=n.$b||null,this.j=n.ib||!1}function OD(n,t){hr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=oR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}X1.prototype.cancel=function(){if(this.i=nL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sR.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},sR.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},Ur(dw,YM),dw.prototype.g=function(){return new OD(this.l,this.j)},dw.prototype.i=function(n){return function(){return n}}({}),Ur(OD,hr);var oR=0;function iL(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fw(n)}function fw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=OD.prototype).open=function(n,t){if(this.readyState!=oR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,fw(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hw(this)),this.readyState=oR},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fw(this)),this.g&&(this.readyState=3,fw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iL(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?hw(this):fw(this),3==this.readyState&&iL(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,hw(this))},it.Ta=function(n){this.g&&(this.response=n,hw(this))},it.ha=function(){this.g&&hw(this)},it.setRequestHeader=function(n,t){this.v.append(n,t)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(OD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var H3=Pt.JSON.parse;function $i(n){hr.call(this),this.headers=new Um,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rL,this.K=this.L=!1}Ur($i,hr);var rL="",j3=/^https?$/i,G3=["POST","PUT"];function z3(n){return"content-type"==n.toLowerCase()}function sL(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,oL(n),FD(n)}function oL(n){n.D||(n.D=!0,Hr(n,"complete"),Hr(n,"error"))}function aL(n){if(n.h&&typeof CM<"u"&&(!n.C[1]||4!=Ru(n)||2!=n.ba()))if(n.v&&4==Ru(n))WM(n.Fa,0,n);else if(Hr(n,"readystatechange"),4==Ru(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(q1)[1]||null;if(!r&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;r=a.substr(0,a.length-1)}i=!j3.test(r?r.toLowerCase():"")}e=i}if(e)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var u=2<Ru(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",oL(n)}}finally{FD(n)}}}function FD(n,t){if(n.g){lL(n);const e=n.g,i=n.C[0]?pD:null;n.g=null,n.C=null,t||Hr(n,"ready");try{e.onreadystatechange=i}catch{}}}function lL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Ru(n){return n.g?n.g.readyState:0}function cL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function q3(n){let t="";return AM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):oi(n,t,e))}function pw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function uL(n){this.za=0,this.l=[],this.h=new CD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pw("baseRetryDelayMs",5e3,n),this.$a=pw("retryDelaySeedMs",1e4,n),this.Ya=pw("forwardChannelMaxRetries",2,n),this.ra=pw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new X1(n&&n.concurrentRequestLimit),this.Ca=new V3,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function lR(n){if(dL(n),3==n.G){var t=n.V++,e=Mu(n.F);oi(e,"SID",n.J),oi(e,"RID",t),oi(e,"TYPE","terminate"),gw(n,e),(t=new sw(n,n.h,t,void 0)).K=2,t.v=RD(Mu(e)),e=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(e=Pt.navigator.sendBeacon(t.v.toString(),"")),!e&&Pt.Image&&((new Image).src=t.v,e=!0),e||(t.g=wL(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ow(t)}_L(n)}function PD(n){n.g&&(dR(n),n.g.cancel(),n.g=null)}function dL(n){PD(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),LD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function cR(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&ND(n)}function ND(n){J1(n.i)||n.m||(n.m=!0,GM(n.Ha,n),n.C=0)}function hL(n,t){var e;e=t?t.m:n.V++;const i=Mu(n.F);oi(i,"SID",n.J),oi(i,"RID",e),oi(i,"AID",n.U),gw(n,i),n.o&&n.s&&aR(i,n.o,n.s),e=new sw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=fL(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),rR(n.i,e),JM(e,i,t)}function gw(n,t){n.j&&tR({},function(e,i){oi(t,i,e)})}function fL(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Br(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let y=0;y<e;y++){let w=r[y].h;const D=r[y].g;if(w-=a,0>w)a=Math.max(0,r[y].h-100),h=!1;else try{B3(D,u,"req"+w+"_")}catch{i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function pL(n){n.g||n.u||(n.Y=1,GM(n.Ga,n),n.A=0)}function uR(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=iw(Br(n.Ga,n),yL(n,n.A)),n.A++,0))}function dR(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function gL(n){n.g=new sw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Mu(n.oa);oi(t,"RID","rpc"),oi(t,"SID",n.J),oi(t,"CI",n.N?"0":"1"),oi(t,"AID",n.U),gw(n,t),oi(t,"TYPE","xmlhttp"),n.o&&n.s&&aR(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=RD(Mu(t)),e.s=null,e.U=!0,j1(e,n)}function LD(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function mL(n,t){var e=null;if(n.g==t){LD(n),dR(n),n.g=null;var i=2}else{if(!iR(n.i,t))return;e=t.D,tL(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Hr(i=ED(),new L1(i,e,t,r)),ND(n)}else pL(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function W3(n,t){return!(eL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=iw(Br(n.Ha,n,t),yL(n,n.C)),n.C++,0)))}(n,t)||2==i&&uR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:gp(n,5);break;case 4:gp(n,10);break;case 3:gp(n,6);break;default:gp(n,2)}}function yL(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function gp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Br(n.jb,n);e||(e=new pp("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||ID(e,"https"),RD(e)),function U3(n,t){const e=new CD;if(Pt.Image){const i=new Image;i.onload=gD(kD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=gD(kD,e,i,"TestLoadImage: error",!1,t),i.onabort=gD(kD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=gD(kD,e,i,"TestLoadImage: timeout",!1,t),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else bs(2);n.G=0,n.j&&n.j.va(t),_L(n),dL(n)}function _L(n){n.G=0,n.I=-1,n.j&&((0!=nL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xM(n.l),n.l.length=0),n.j.ua())}function vL(n,t,e){let i=function I3(n){return n instanceof pp?Mu(n):new pp(n,void 0)}(e);if(""!=i.i)t&&TD(i,t+"."+i.i),MD(i,i.m);else{const r=Pt.location;i=function T3(n,t,e,i){var r=new pp(null,void 0);return n&&ID(r,n),t&&TD(r,t),e&&MD(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&AM(n.aa,function(r,a){oi(i,a,r)}),e=n.sa,(t=n.D)&&e&&oi(i,t,e),oi(i,"VER",n.ma),gw(n,i),i}function wL(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new $i(e&&n.Ba&&!n.qa?new dw({ib:!0}):n.qa)).L=n.H,t}function bL(){}function VD(){if(Vm&&!(10<=Number(o3)))throw Error("Environmental error: no available transport.")}function Oo(n,t){hr.call(this),this.g=new uL(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!mD(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mD(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new jm(this)}function CL(n){KM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function EL(){ZM.call(this),this.status=1}function jm(n){this.g=n}(it=$i.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():QM.g(),this.C=function B1(n){return n.h||(n.h=n.i())}(this.u?this.u:QM),this.g.onreadystatechange=Br(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void sL(this,a)}n=e||"";const r=new Um(this.headers);i&&tR(i,function(a,u){r.set(u,a)}),i=function e3(n){e:{var t=z3;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Pt.FormData&&n instanceof Pt.FormData,!(0<=u1(G3,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lL(this),0<this.B&&((this.K=function $3(n){return Vm&&function s3(){return function t3(n){var t=r3;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=f1(String(yD)).split("."),e=f1("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",a=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=SM(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||SM(0==r[2].length,0==a[2].length)||SM(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.pa,this)):this.A=WM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){sL(this,a)}},it.pa=function(){typeof CM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),FD(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),FD(this,!0)),$i.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?aL(this):this.cb())},it.cb=function(){aL(this)},it.ba=function(){try{return 2<Ru(this)?this.g.status:-1}catch{return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),H3(t)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=uL.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new sw(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=m1(a),_1(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=fL(this,r,t),oi(e=Mu(this.F),"RID",n),oi(e,"CVER",22),this.D&&oi(e,"X-HTTP-Session-Id",this.D),gw(this,e),this.o&&a&&aR(e,this.o,a),rR(this.i,r),this.Ra&&oi(e,"TYPE","init"),this.ja?(oi(e,"$req",t),oi(e,"SID","null"),r.$=!0,JM(r,e,null)):JM(r,e,t),this.G=2}}else 3==this.G&&(n?hL(this,n):0==this.l.length||J1(this.i)||hL(this))},it.Ga=function(){if(this.u=null,gL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=iw(Br(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bs(10),PD(this),gL(this))},it.ab=function(){null!=this.v&&(this.v=null,PD(this),uR(this),bs(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),bs(2)):(this.h.info("Failed to ping google.com"),bs(1))},(it=bL.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},VD.prototype.g=function(n,t){return new Oo(n,t)},Ur(Oo,hr),Oo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),GM(Br(n.hb,n,t))),bs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=vL(n,null,n.W),ND(n)},Oo.prototype.close=function(){lR(this.g)},Oo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,cR(this.g,t)}else this.v?((t={}).__data__=jM(n),cR(this.g,t)):cR(this.g,n)},Oo.prototype.M=function(){this.g.j=null,delete this.j,lR(this.g),delete this.g,Oo.Z.M.call(this)},Ur(CL,KM),Ur(EL,ZM),Ur(jm,bL),jm.prototype.xa=function(){Hr(this.g,"a")},jm.prototype.wa=function(n){Hr(this.g,new CL(n))},jm.prototype.va=function(n){Hr(this.g,new EL(n))},jm.prototype.ua=function(){Hr(this.g,"b")},VD.prototype.createWebChannel=VD.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,DD.NO_ERROR=0,DD.TIMEOUT=8,DD.HTTP_ERROR=6,V1.COMPLETE="complete",U1.EventType=rw,rw.OPEN="a",rw.CLOSE="b",rw.ERROR="c",rw.MESSAGE="d",hr.prototype.listen=hr.prototype.N,$i.prototype.listenOnce=$i.prototype.O,$i.prototype.getLastError=$i.prototype.La,$i.prototype.getLastErrorCode=$i.prototype.Da,$i.prototype.getStatus=$i.prototype.ba,$i.prototype.getResponseJson=$i.prototype.Qa,$i.prototype.getResponseText=$i.prototype.ga,$i.prototype.send=$i.prototype.ea;var Y3=Tu.createWebChannelTransport=function(){return new VD},K3=Tu.getStatEventTarget=function(){return ED()},hR=Tu.ErrorCode=DD,Z3=Tu.EventType=V1,Q3=Tu.Event=dp,DL=Tu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},X3=Tu.FetchXmlHttpFactory=dw,BD=Tu.WebChannel=U1,J3=Tu.XhrIo=$i;const xL="@firebase/firestore";class fr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let Gm="9.8.3";const fh=new uh.Yd("@firebase/firestore");function fR(){return fh.logLevel}function Le(n,...t){if(fh.logLevel<=uh.in.DEBUG){const e=t.map(pR);fh.debug(`Firestore (${Gm}): ${n}`,...e)}}function zi(n,...t){if(fh.logLevel<=uh.in.ERROR){const e=t.map(pR);fh.error(`Firestore (${Gm}): ${n}`,...e)}}function mw(n,...t){if(fh.logLevel<=uh.in.WARN){const e=t.map(pR);fh.warn(`Firestore (${Gm}): ${n}`,...e)}}function pR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const t=`FIRESTORE (${Gm}) INTERNAL ASSERTION FAILED: `+n;throw zi(t),new Error(t)}function kt(n,t){n||ot()}function Xe(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Kt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class SL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(fr.UNAUTHENTICATED))}shutdown(){}}class iz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rz{constructor(t){this.t=t,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,t.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,be.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},y=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt("string"==typeof i.accessToken),new SL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kt(null===t||"string"==typeof t),new fr(t)}}class sz{constructor(t,e,i){this.type="FirstParty",this.user=fr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class oz{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new sz(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class az{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kt("string"==typeof e.token),this.p=e.token,new AL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lz(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class IL{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=lz(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function $m(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function TL(n){return n+"\0"}class ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ai.fromMillis(Date.now())}static fromDate(t){return ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ai(0,0))}static max(){return new Tt(new ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yw{constructor(t,e,i){void 0===e?e=0:e>t.length&&ot(),void 0===i?i=t.length-e:i>t.length-e&&ot(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===yw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof yw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),u=e.get(r);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class un extends yw{construct(t,e,i){return new un(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new un(e)}static emptyPath(){return new un([])}}const cz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends yw{construct(t,e,i){return new Ai(t,e,i)}static isValidIdentifier(t){return cz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)}static emptyPath(){return new Ai([])}}class Ke{constructor(t){this.path=t}static fromPath(t){return new Ke(un.fromString(t))}static fromName(t){return new Ke(un.fromString(t).popFirst(5))}static empty(){return new Ke(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ke(new un(t.slice()))}}class UD{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function gR(n){return n.fields.find(t=>2===t.kind)}function mp(n){return n.fields.filter(t=>2!==t.kind)}UD.UNKNOWN_ID=-1;class HD{constructor(t,e){this.fieldPath=t,this.kind=e}}class _w{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new _w(0,Fo.min())}}function ML(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new ai(e+1,0):new ai(e,i));return new Fo(r,Ke.empty(),t)}function RL(n){return new Fo(n.readTime,n.key,-1)}class Fo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Fo(Tt.min(),Ke.empty(),-1)}static max(){return new Fo(Tt.max(),Ke.empty(),-1)}}function mR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ke.comparator(n.documentKey,t.documentKey),0!==e?e:Ut(n.largestBatchId,t.largestBatchId))}const kL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ph(n){return yR.apply(this,arguments)}function yR(){return yR=(0,be.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==kL)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),yR.apply(this,arguments)}class le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new le((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof le?e:le.resolve(e)}catch(e){return le.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):le.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):le.reject(e)}static resolve(t){return new le((e,i)=>{e(t)})}static reject(t){return new le((e,i)=>{i(t)})}static waitFor(t){return new le((e,i)=>{let r=0,a=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++a,u&&a===r&&e()},y=>i(y))}),u=!0,a===r&&e()})}static or(t){let e=le.resolve(!1);for(const i of t)e=e.next(r=>r?le.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new le((i,r)=>{const a=t.length,u=new Array(a);let h=0;for(let y=0;y<a;y++){const w=y;e(t[w]).next(D=>{u[w]=D,++h,h===a&&i(u)},D=>r(D))}})}static doWhile(t,e){return new le((i,r)=>{const a=()=>{!0===t()?e().next(()=>{a()},r):i()};a()})}}class jD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new pr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new vw(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=_R(i.target.error);this.T.reject(new vw(t,r))}}static open(t,e,i,r){try{return new jD(e,t.transaction(r,i))}catch(a){throw new vw(e,a)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new dz(e)}}class Cl{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Cl.v((0,Kt.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),yp(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,Kt.hl)())return!1;if(Cl.S())return!0;const t=(0,Kt.z$)(),e=Cl.v(t),i=0<e&&e<10,r=Cl.D(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,be.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new vw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new vw(t,h))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.O(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,be.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{a.db=yield a.k(t);const y=jD.open(a.db,t,u?"readonly":"readwrite",i),w=r(y).next(D=>(y.R(),D)).catch(D=>(y.abort(D),le.reject(D))).toPromise();return w.catch(()=>{}),yield y.A,w}catch(y){const w="FirebaseError"!==y.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),a.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uz{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return yp(this.$.delete())}}class vw extends Oe{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function gh(n){return"IndexedDbTransactionError"===n.name}class dz{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),yp(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),yp(this.store.add(t))}get(t){return yp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),yp(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),yp(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(u,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new le((a,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new le((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(a,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new le((i,r)=>{e.onerror=a=>{const u=_R(a.target.error);r(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new le((r,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const y=new uz(h),w=e(h.primaryKey,h.value,y);if(w instanceof le){const D=w.catch(A=>(y.done(),le.reject(A)));i.push(D)}y.isDone?r():null===y.U?h.continue():h.continue(y.U)}}).next(()=>le.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yp(n){return new le((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=_R(i.target.error);e(r)}})}let FL=!1;function _R(n){const t=Cl.v((0,Kt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FL||(FL=!0,setTimeout(()=>{throw i},0)),i}}return n}class hz{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Le("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Le("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){gh(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ph(i)}yield e.Z(1)}))}}class fz{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,a=!0;return le.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});a=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,a)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,a)=>{const u=RL(a);mR(u,i)>0&&(i=u)}),new Fo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class io{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function PL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function _p(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function NL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}io.ot=-1;class bi{constructor(t,e){this.comparator=t,this.root=e||jr.EMPTY}insert(t,e){return new bi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(t){return new bi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new GD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new GD(this.root,t,this.comparator,!1)}getReverseIterator(){return new GD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new GD(this.root,t,this.comparator,!0)}}class GD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??jr.RED,this.left=r??jr.EMPTY,this.right=a??jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new jr(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1,jr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,t,e,i,r){return this}insert(n,t,e){return new jr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(t){this.comparator=t,this.data=new bi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new LL(this.data.getIterator())}getIteratorFrom(t){return new LL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Mn(this.comparator);return e.data=t,e}}class LL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zm(n){return n.hasNext()?n.getNext():void 0}class Po{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new Po([])}unionWith(t){let e=new Mn(Ai.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Po(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $m(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class er{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new er(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new er(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}er.EMPTY_BYTE_STRING=new er("");const gz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mh(n){if(kt(!!n),"string"==typeof n){let t=0;const e=gz.exec(n);if(kt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ci(n.seconds),nanos:Ci(n.nanos)}}function Ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vp(n){return"string"==typeof n?er.fromBase64String(n):er.fromUint8Array(n)}function vR(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function VL(n){const t=n.mapValue.fields.__previous_value__;return vR(t)?VL(t):t}function ww(n){const t=mh(n.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}class mz{constructor(t,e,i,r,a,u,h,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=y}}class ku{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ku&&t.projectId===this.projectId&&t.database===this.database}}function bw(n){return null==n}function Cw(n){return 0===n&&1/n==-1/0}function BL(n){return"number"==typeof n&&Number.isInteger(n)&&!Cw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$D={nullValue:"NULL_VALUE"};function wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vR(n)?4:GL(n)?9007199254740991:10:ot()}function vc(n,t){if(n===t)return!0;const e=wp(n);if(e!==wp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ww(n).isEqual(ww(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=mh(i.timestampValue),u=mh(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,vp(n.bytesValue).isEqual(vp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ci(i.geoPointValue.latitude)===Ci(r.geoPointValue.latitude)&&Ci(i.geoPointValue.longitude)===Ci(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ci(i.integerValue)===Ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ci(i.doubleValue),u=Ci(r.doubleValue);return a===u?Cw(a)===Cw(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return $m(n.arrayValue.values||[],t.arrayValue.values||[],vc);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(PL(a)!==PL(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!vc(a[h],u[h])))return!1;return!0}(n,t);default:return ot()}var r}function Ew(n,t){return void 0!==(n.values||[]).find(e=>vc(e,t))}function _h(n,t){if(n===t)return 0;const e=wp(n),i=wp(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return function(r,a){const u=Ci(r.integerValue||r.doubleValue),h=Ci(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return UL(n.timestampValue,t.timestampValue);case 4:return UL(ww(n),ww(t));case 5:return Ut(n.stringValue,t.stringValue);case 6:return function(r,a){const u=vp(r),h=vp(a);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const u=r.split("/"),h=a.split("/");for(let y=0;y<u.length&&y<h.length;y++){const w=Ut(u[y],h[y]);if(0!==w)return w}return Ut(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const u=Ut(Ci(r.latitude),Ci(a.latitude));return 0!==u?u:Ut(Ci(r.longitude),Ci(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const u=r.values||[],h=a.values||[];for(let y=0;y<u.length&&y<h.length;++y){const w=_h(u[y],h[y]);if(w)return w}return Ut(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===yh.mapValue&&a===yh.mapValue)return 0;if(r===yh.mapValue)return 1;if(a===yh.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),y=a.fields||{},w=Object.keys(y);h.sort(),w.sort();for(let D=0;D<h.length&&D<w.length;++D){const A=Ut(h[D],w[D]);if(0!==A)return A;const O=_h(u[h[D]],y[w[D]]);if(0!==O)return O}return Ut(h.length,w.length)}(n.mapValue,t.mapValue);default:throw ot()}}function UL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ut(n,t);const e=mh(n),i=mh(t),r=Ut(e.seconds,i.seconds);return 0!==r?r:Ut(e.nanos,i.nanos)}function qm(n){return wR(n)}function wR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=mh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vp(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=wR(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const h of r)u?u=!1:a+=",",a+=`${h}:${wR(i.fields[h])}`;return a+"}"}(n.mapValue):ot();var t}function bp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function bR(n){return!!n&&"integerValue"in n}function Dw(n){return!!n&&"arrayValue"in n}function HL(n){return!!n&&"nullValue"in n}function jL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zD(n){return!!n&&"mapValue"in n}function xw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return _p(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=xw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=xw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function GL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yz(n){return"nullValue"in n?$D:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bp(ku.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function _z(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bp(ku.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yh:ot()}function $L(n,t){const e=_h(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function zL(n,t){const e=_h(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Gr{constructor(t){this.value=t}static empty(){return new Gr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!zD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xw(e)}setAll(t){let e=Ai.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const y=this.getFieldsMap(e);this.applyChanges(y,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=xw(u):r.push(h.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());zD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];zD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){_p(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Gr(xw(this.value))}}function qL(n){const t=[];return _p(n.fields,(e,i)=>{const r=new Ai([e]);if(zD(i)){const a=qL(i.mapValue).fields;if(0===a.length)t.push(r);else for(const u of a)t.push(r.child(u))}else t.push(r)}),new Po(t)}class Un{constructor(t,e,i,r,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Un(t,0,Tt.min(),Tt.min(),Gr.empty(),0)}static newFoundDocument(t,e,i){return new Un(t,1,e,Tt.min(),i,0)}static newNoDocument(t,e){return new Un(t,2,e,Tt.min(),Gr.empty(),0)}static newUnknownDocument(t,e){return new Un(t,3,e,Tt.min(),Gr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vz{constructor(t,e=null,i=[],r=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.ut=null}}function WL(n,t=null,e=[],i=[],r=null,a=null,u=null){return new vz(n,t,e,i,r,a,u)}function Cp(n){const t=Xe(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+qm(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),bw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>qm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>qm(i)).join(",")),t.ut=e}return t.ut}function Sw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Iz(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!vc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XL(n.startAt,t.startAt)&&XL(n.endAt,t.endAt)}function qD(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function WD(n,t){return n.filters.filter(e=>e instanceof $r&&e.field.isEqual(t))}function YL(n,t,e){let i=$D,r=!0;for(const a of WD(n,t)){let u=$D,h=!0;switch(a.op){case"<":case"<=":u=yz(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=$D}$L({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];$L({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function KL(n,t,e){let i=yh,r=!0;for(const a of WD(n,t)){let u=yh,h=!0;switch(a.op){case">=":case">":u=_z(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=yh}zL({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];zL({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class $r extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new bz(t,e,i):"array-contains"===e?new Dz(t,i):"in"===e?new xz(t,i):"not-in"===e?new Sz(t,i):"array-contains-any"===e?new Az(t,i):new $r(t,e,i)}static ct(t,e,i){return"in"===e?new Cz(t,i):new Ez(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(_h(e,this.value)):null!==e&&wp(this.value)===wp(e)&&this.at(_h(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bz extends $r{constructor(t,e,i){super(t,e,i),this.key=Ke.fromName(i.referenceValue)}matches(t){const e=Ke.comparator(t.key,this.key);return this.at(e)}}class Cz extends $r{constructor(t,e){super(t,"in",e),this.keys=ZL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ez extends $r{constructor(t,e){super(t,"not-in",e),this.keys=ZL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ZL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class Dz extends $r{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dw(e)&&Ew(e.arrayValue,this.value)}}class xz extends $r{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ew(this.value.arrayValue,e)}}class Sz extends $r{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ew(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ew(this.value.arrayValue,e)}}class Az extends $r{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ew(this.value.arrayValue,i))}}class vh{constructor(t,e){this.position=t,this.inclusive=e}}class Wm{constructor(t,e="asc"){this.field=t,this.dir=e}}function Iz(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function QL(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],u=n.position[r];if(i=a.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),e.key):_h(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function XL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!vc(n.position[e],t.position[e]))return!1;return!0}class Ou{constructor(t,e=null,i=[],r=[],a=null,u="F",h=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=y,this.lt=null,this.ft=null}}function JL(n,t,e,i,r,a,u,h){return new Ou(n,t,e,i,r,a,u,h)}function Ym(n){return new Ou(n)}function CR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ER(n){for(const t of n.filters)if(t.ht())return t.field;return null}function DR(n){return null!==n.collectionGroup}function Km(n){const t=Xe(n);if(null===t.lt){t.lt=[];const e=ER(t),i=CR(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new Wm(e)),t.lt.push(new Wm(Ai.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Wm(Ai.keyField(),a))}}}return t.lt}function Da(n){const t=Xe(n);if(!t.ft)if("F"===t.limitType)t.ft=WL(t.path,t.collectionGroup,Km(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Km(t))e.push(new Wm(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vh(t.startAt.position,t.startAt.inclusive):null;t.ft=WL(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function eV(n,t,e){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Aw(n,t){return Sw(Da(n),Da(t))&&n.limitType===t.limitType}function tV(n){return`${Cp(Da(n))}|lt:${n.limitType}`}function xR(n){return`Query(target=${function wz(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${qm(i.value)}`;var i}).join(", ")}]`),bw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>qm(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>qm(e)).join(",")),`Target(${t})`}(Da(n))}; limitType=${n.limitType})`}function SR(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ke.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,u){const h=QL(r,a,u);return r.inclusive?h<=0:h<0}(e.startAt,Km(e),i)||e.endAt&&!function(r,a,u){const h=QL(r,a,u);return r.inclusive?h>=0:h>0}(e.endAt,Km(e),i)));var e,i}function nV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iV(n){return(t,e)=>{let i=!1;for(const r of Km(n)){const a=Mz(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Mz(n,t,e){const i=n.field.isKeyField()?Ke.comparator(t.key,e.key):function(r,a,u){const h=a.data.field(r),y=u.data.field(r);return null!==h&&null!==y?_h(h,y):ot()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function rV(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cw(t)?"-0":t}}function sV(n){return{integerValue:""+n}}function oV(n,t){return BL(t)?sV(t):rV(n,t)}class YD{constructor(){this._=void 0}}function Rz(n,t,e){return n instanceof Zm?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof Ep?lV(n,t):n instanceof Dp?cV(n,t):function(i,r){const a=aV(i,r),u=uV(a)+uV(i._t);return bR(a)&&bR(i._t)?sV(u):rV(i.wt,u)}(n,t)}function kz(n,t,e){return n instanceof Ep?lV(n,t):n instanceof Dp?cV(n,t):e}function aV(n,t){return n instanceof Qm?bR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Zm extends YD{}class Ep extends YD{constructor(t){super(),this.elements=t}}function lV(n,t){const e=dV(t);for(const i of n.elements)e.some(r=>vc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Dp extends YD{constructor(t){super(),this.elements=t}}function cV(n,t){let e=dV(t);for(const i of n.elements)e=e.filter(r=>!vc(r,i));return{arrayValue:{values:e}}}class Qm extends YD{constructor(t,e){super(),this.wt=t,this._t=e}}function uV(n){return Ci(n.integerValue||n.doubleValue)}function dV(n){return Dw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Iw{constructor(t,e){this.field=t,this.transform=e}}class Fz{constructor(t,e){this.version=t,this.transformResults=e}}class fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function KD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZD{}function hV(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Jm(n.key,fi.none()):new Xm(n.key,n.data,fi.none());{const e=n.data,i=Gr.empty();let r=new Mn(Ai.comparator);for(let a of t.fields)if(!r.has(a)){let u=e.field(a);null===u&&a.length>1&&(a=a.popLast(),u=e.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Fu(n.key,i,new Po(r.toArray()),fi.none())}}function Pz(n,t,e){n instanceof Xm?function(i,r,a){const u=i.value.clone(),h=gV(i.fieldTransforms,r,a.transformResults);u.setAll(h),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Fu?function(i,r,a){if(!KD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=gV(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(pV(i)),h.setAll(u),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Tw(n,t,e,i){return n instanceof Xm?function(r,a,u,h){if(!KD(r.precondition,a))return u;const y=r.value.clone(),w=mV(r.fieldTransforms,h,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,t,e,i):n instanceof Fu?function(r,a,u,h){if(!KD(r.precondition,a))return u;const y=mV(r.fieldTransforms,h,a),w=a.data;return w.setAll(pV(r)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,KD(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Nz(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=aV(i.transform,r||null);null!=a&&(null===e&&(e=Gr.empty()),e.set(i.field,a))}return e||null}function fV(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&$m(e,i,(r,a)=>function Oz(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Ep&&i instanceof Ep||e instanceof Dp&&i instanceof Dp?$m(e.elements,i.elements,vc):e instanceof Qm&&i instanceof Qm?vc(e._t,i._t):e instanceof Zm&&i instanceof Zm);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Xm extends ZD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fu extends ZD{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pV(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function gV(n,t,e){const i=new Map;kt(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],u=a.transform,h=t.data.field(a.field);i.set(a.field,kz(u,h,e[r]))}return i}function mV(n,t,e){const i=new Map;for(const r of n){const a=r.transform,u=e.data.field(r.field);i.set(r.field,Rz(a,u,t))}return i}class Jm extends ZD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends ZD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lz{constructor(t){this.count=t}}var qi,dn;function yV(n){switch(n){default:return ot();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function _V(n){if(void 0===n)return zi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case qi.OK:return fe.OK;case qi.CANCELLED:return fe.CANCELLED;case qi.UNKNOWN:return fe.UNKNOWN;case qi.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qi.INTERNAL:return fe.INTERNAL;case qi.UNAVAILABLE:return fe.UNAVAILABLE;case qi.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qi.NOT_FOUND:return fe.NOT_FOUND;case qi.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qi.ABORTED:return fe.ABORTED;case qi.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qi.DATA_LOSS:return fe.DATA_LOSS;default:return ot()}}(dn=qi||(qi={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class wh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){_p(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return NL(this.inner)}size(){return this.innerSize}}const Vz=new bi(Ke.comparator);function ro(){return Vz}const vV=new bi(Ke.comparator);function Mw(...n){let t=vV;for(const e of n)t=t.insert(e.key,e);return t}function wV(n){let t=vV;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function wc(){return Rw()}function bV(){return Rw()}function Rw(){return new wh(n=>n.toString(),(n,t)=>n.isEqual(t))}const Bz=new bi(Ke.comparator),Uz=new Mn(Ke.comparator);function Gt(...n){let t=Uz;for(const e of n)t=t.add(e);return t}const Hz=new Mn(Ut);function QD(){return Hz}class kw{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Ow.createSynthesizedTargetChangeForCurrentChange(t,e)),new kw(Tt.min(),i,QD(),ro(),Gt())}}class Ow{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Ow(er.EMPTY_BYTE_STRING,e,Gt(),Gt(),Gt())}}class XD{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class CV{constructor(t,e){this.targetId=t,this.It=e}}class EV{constructor(t,e,i=er.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class DV{constructor(){this.Tt=0,this.Et=SV(),this.At=er.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Gt(),e=Gt(),i=Gt();return this.Et.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new Ow(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=SV()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class jz{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=ro(),this.Bt=xV(),this.Lt=new Mn(Ut)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const a=r.target;if(qD(a))if(0===i){const u=new Ke(a.path);this.Kt(e,u,Un.newNoDocument(u,Tt.min()))}else kt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((a,u)=>{const h=this.Ht(u);if(h){if(a.current&&qD(h.target)){const y=new Ke(h.target.path);null!==this.$t.get(y)||this.Xt(u,y)||this.Kt(u,y,Un.newNoDocument(y,t))}a.vt&&(e.set(u,a.St()),a.Dt())}});let i=Gt();this.Bt.forEach((a,u)=>{let h=!0;u.forEachWhile(y=>{const w=this.Ht(y);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(t));const r=new kw(t,e,this.Lt,this.$t,i);return this.$t=ro(),this.Bt=xV(),this.Lt=new Mn(Ut),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new DV,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Mn(Ut),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new DV),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function xV(){return new bi(Ke.comparator)}function SV(){return new bi(Ke.comparator)}const Gz={asc:"ASCENDING",desc:"DESCENDING"},$z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zz{constructor(t,e){this.databaseId=t,this.dt=e}}function Fw(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AV(n,t){return n.dt?t.toBase64():t.toUint8Array()}function qz(n,t){return Fw(n,t.toTimestamp())}function gr(n){return kt(!!n),Tt.fromTimestamp(function(t){const e=mh(t);return new ai(e.seconds,e.nanos)}(n))}function IR(n,t){return(e=n,new un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function IV(n){const t=un.fromString(n);return kt(LV(t)),t}function Pw(n,t){return IR(n.databaseId,t.path)}function bc(n,t){const e=IV(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ke(MV(e))}function TR(n,t){return IR(n.databaseId,t)}function TV(n){const t=IV(n);return 4===t.length?un.emptyPath():MV(t)}function Nw(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MV(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RV(n,t,e){return{name:Pw(n,t),fields:e.value.mapValue.fields}}function kV(n,t,e){const i=bc(n,t.name),r=gr(t.updateTime),a=new Gr({mapValue:{fields:t.fields}}),u=Un.newFoundDocument(i,r,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Lw(n,t){let e;if(t instanceof Xm)e={update:RV(n,t.key,t.value)};else if(t instanceof Jm)e={delete:Pw(n,t.key)};else if(t instanceof Fu)e={update:RV(n,t.key,t.data),updateMask:t6(t.fieldMask)};else{if(!(t instanceof AR))return ot();e={verify:Pw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Zm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ep)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qm)return{fieldPath:a.field.canonicalString(),increment:u._t};throw ot()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:qz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),e;var r}function MR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?fi.updateTime(gr(r.updateTime)):void 0!==r.exists?fi.exists(r.exists):fi.none():fi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,u){let h=null;"setToServerValue"in u?(kt("REQUEST_TIME"===u.setToServerValue),h=new Zm):"appendMissingElements"in u?h=new Ep(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Dp(u.removeAllFromArray.values||[]):"increment"in u?h=new Qm(a,u.increment):ot();const y=Ai.fromServerFormat(u.fieldPath);return new Iw(y,h)}(n,r)):[];var r;if(t.update){const r=bc(n,t.update.name),a=new Gr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Po((t.updateMask.fieldPaths||[]).map(w=>Ai.fromServerFormat(w)));return new Fu(r,a,u,e,i)}return new Xm(r,a,e,i)}if(t.delete){const r=bc(n,t.delete);return new Jm(r,e)}if(t.verify){const r=bc(n,t.verify);return new AR(r,e)}return ot()}function OV(n,t){return{documents:[TR(n,t.path)]}}function FV(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=TR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=TR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const w=y.map(D=>function(A){if("=="===A.op){if(jL(A.value))return{unaryFilter:{field:ey(A.field),op:"IS_NAN"}};if(HL(A.value))return{unaryFilter:{field:ey(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(jL(A.value))return{unaryFilter:{field:ey(A.field),op:"IS_NOT_NAN"}};if(HL(A.value))return{unaryFilter:{field:ey(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ey(A.field),op:Xz(A.op),value:A.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:ey((D=w).field),direction:Qz(D.dir)};var D})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(w=t.limit,n.dt||bw(w)?w:{value:w});var w,h,y;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(y=t.endAt).inclusive,values:y.position}),e}function PV(n){let t=TV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){kt(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let a=[];e.where&&(a=NV(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Wm(ty((A=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let h=null;e.limit&&(h=function(D){let A;return A="object"==typeof D?D.value:D,bw(A)?null:A}(e.limit));let y=null;var D;e.startAt&&(y=new vh((D=e.startAt).values||[],!!D.before));let w=null;return e.endAt&&(w=function(D){return new vh(D.values||[],!D.before)}(e.endAt)),JL(t,r,u,a,h,"F",y,w)}function NV(n){return n?void 0!==n.unaryFilter?[e6(n)]:void 0!==n.fieldFilter?[Jz(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>NV(t)).reduce((t,e)=>t.concat(e)):ot():[]}function Qz(n){return Gz[n]}function Xz(n){return $z[n]}function ey(n){return{fieldPath:n.canonicalString()}}function ty(n){return Ai.fromServerFormat(n.fieldPath)}function Jz(n){return $r.create(ty(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function e6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ty(n.unaryFilter.field);return $r.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ty(n.unaryFilter.field);return $r.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ty(n.unaryFilter.field);return $r.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ty(n.unaryFilter.field);return $r.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function t6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function LV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=VV(t)),t=n6(n.get(e),t);return VV(t)}function n6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function VV(n){return n+"\x01\x01"}function Cc(n){const t=n.length;if(kt(t>=2),2===t)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&ot(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let y;0===r.length?y=h:(r+=h,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ot()}a=u+2}return new un(i)}const BV=["userId","batchId"];function JD(n,t){return[n,Cs(t)]}function UV(n,t,e){return[n,Cs(t),e]}const i6={},r6=["prefixPath","collectionGroup","readTime","documentId"],s6=["prefixPath","collectionGroup","documentId"],o6=["collectionGroup","readTime","prefixPath","documentId"],a6=["canonicalId","targetId"],l6=["targetId","path"],c6=["path","targetId"],u6=["collectionId","parent"],d6=["indexId","uid"],h6=["uid","sequenceNumber"],f6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],p6=["indexId","uid","orderedDocumentKey"],g6=["userId","collectionPath","documentId"],m6=["userId","collectionPath","largestBatchId"],y6=["userId","collectionGroup","largestBatchId"],HV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_6=[...HV,"documentOverlays"],jV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GV=jV,v6=[...GV,"indexConfiguration","indexState","indexEntries"];class RR extends OL{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function mr(n,t){const e=Xe(n);return Cl.N(e.ee,t)}class kR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&Pz(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Tw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Tw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bV();return this.mutations.forEach(r=>{const a=t.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=e.has(r.key)?null:h;const y=hV(u,h);null!==y&&i.set(r.key,y),u.isValidDocument()||u.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&$m(this.mutations,t.mutations,(e,i)=>fV(e,i))&&$m(this.baseMutations,t.baseMutations,(e,i)=>fV(e,i))}}class OR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){kt(t.mutations.length===i.length);let r=Bz;const a=t.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new OR(t,e,i,r)}}class FR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bh{constructor(t,e,i,r,a=Tt.min(),u=Tt.min(),h=er.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new bh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class $V{constructor(t){this.ne=t}}function zV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:ex(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Pw(r=n.ne,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Fw(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:xp(t.version)};else{if(!t.isUnknownDocument())return ot();i.unknownDocument={path:e.path.toArray(),version:xp(t.version)}}var r,a;return i}function ex(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function xp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sp(n){const t=new ai(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function Ap(n,t){const e=(t.baseMutations||[]).map(a=>MR(n.ne,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>MR(n.ne,a)),r=ai.fromMillis(t.localWriteTimeMs);return new kR(t.batchId,r,e,i)}function Vw(n){const t=Sp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):Tt.min();let i;var r;return void 0!==n.query.documents?(kt(1===(r=n.query).documents.length),i=Da(Ym(TV(r.documents[0])))):i=Da(PV(n.query)),new bh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,er.fromBase64String(n.resumeToken))}function qV(n,t){const e=xp(t.snapshotVersion),i=xp(t.lastLimboFreeSnapshotVersion);let r;r=qD(t.target)?OV(n.ne,t.target):FV(n.ne,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Cp(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function PR(n){const t=PV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eV(t,t.limit,"L"):t}function NR(n,t){return new FR(t.largestBatchId,MR(n.ne,t.overlayMutation))}function WV(n,t){const e=t.path.lastSegment();return[n,Cs(t.path.popLast()),e]}function YV(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:xp(i.readTime),documentKey:Cs(i.documentKey.path),largestBatchId:i.largestBatchId}}class b6{getBundleMetadata(t,e){return KV(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return KV(t).put({bundleId:(i=e).id,createTime:xp(gr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return ZV(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:PR(r.bundledQuery),readTime:Sp(r.readTime)};var r})}saveNamedQuery(t,e){return ZV(t).put({name:(i=e).name,readTime:xp(gr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function KV(n){return mr(n,"bundles")}function ZV(n){return mr(n,"namedQueries")}class tx{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new tx(t,e.uid||"")}getOverlay(t,e){return Bw(t).get(WV(this.userId,e)).next(i=>i?NR(this.wt,i):null)}getOverlays(t,e){const i=wc();return le.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((a,u)=>{const h=new FR(e,u);r.push(this.ie(t,h))}),le.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Cs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Bw(t).W("collectionPathOverlayIndex",h))}),le.waitFor(a)}getOverlaysForCollection(t,e,i){const r=wc(),a=Cs(e),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bw(t).K("collectionPathOverlayIndex",u).next(h=>{for(const y of h){const w=NR(this.wt,y);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=wc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Bw(t).J({index:"collectionGroupOverlayIndex",range:h},(y,w,D)=>{const A=NR(this.wt,w);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):D.done()}).next(()=>a)}ie(t,e){return Bw(t).put(function(i,r,a){const[u,h,y]=WV(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lw(i.ne,a.mutation)}}(this.wt,this.userId,e))}}function Bw(n){return mr(n,"documentOverlays")}class Ip{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Ci(t.integerValue));else if("doubleValue"in t){const i=Ci(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Cw(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(vp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?GL(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):ot()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Ke.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function C6(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function QV(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=C6(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}Ip.ye=new Ip;class E6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=QV(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=QV(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class D6{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class x6{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class Uw{constructor(){this.Me=new E6,this.Fe=new D6(this.Me),this.$e=new x6(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Tp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Tp(this.indexId,this.documentKey,this.arrayValue,i)}}function Mp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=XV(n.arrayValue,t.arrayValue),0!==e?e:(e=XV(n.directionalValue,t.directionalValue),0!==e?e:Ke.comparator(n.documentKey,t.documentKey)))}function XV(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class S6{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=gR(t);if(void 0!==e&&!this.Qe(e))return!1;const i=mp(t);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class A6{constructor(){this.ze=new LR}addToCollectionParentIndex(t,e){return this.ze.add(e),le.resolve()}getCollectionParents(t,e){return le.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return le.resolve()}deleteFieldIndex(t,e){return le.resolve()}getDocumentsMatchingTarget(t,e){return le.resolve(null)}getIndexType(t,e){return le.resolve(0)}getFieldIndexes(t,e){return le.resolve([])}getNextCollectionGroupToUpdate(t){return le.resolve(null)}getMinOffset(t,e){return le.resolve(Fo.min())}getMinOffsetFromCollectionGroup(t,e){return le.resolve(Fo.min())}updateCollectionGroup(t,e,i){return le.resolve()}updateIndexEntries(t,e){return le.resolve()}}class LR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Mn(un.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Mn(un.comparator)).toArray()}}const nx=new Uint8Array(0);class I6{constructor(t,e){this.user=t,this.databaseId=e,this.He=new LR,this.Je=new wh(i=>Cp(i),(i,r)=>Sw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const a={collectionId:i,parent:Cs(r)};return JV(t).put(a)}return le.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[TL(e),""],!1,!0);return JV(t).K(r).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(Cc(u.parent))}return i})}addFieldIndex(t,e){const i=ix(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const a=i.add(r);if(e.indexState){const u=jw(t);return a.next(h=>{u.put(YV(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const i=ix(t),r=jw(t),a=Hw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Hw(t);let r=!0;const a=new Map;return le.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),a.set(u,h)})).next(()=>{if(r){let u=Gt();const h=[];return le.forEach(a,(y,w)=>{var D;Le("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Cp(e)}`);const A=function(vt,lt){const Nt=gR(lt);if(void 0===Nt)return null;for(const Ht of WD(vt,Nt.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(w,y),O=function(vt,lt){const Nt=new Map;for(const Ht of mp(lt))for(const mn of WD(vt,Ht.fieldPath))switch(mn.op){case"==":case"in":Nt.set(Ht.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return Nt.set(Ht.fieldPath.canonicalString(),mn.value),Array.from(Nt.values())}return null}(w,y),V=function(vt,lt){const Nt=[];let Ht=!0;for(const mn of mp(lt)){const Ss=0===mn.kind?YL(vt,mn.fieldPath,vt.startAt):KL(vt,mn.fieldPath,vt.startAt);Nt.push(Ss.value),Ht&&(Ht=Ss.inclusive)}return new vh(Nt,Ht)}(w,y),B=function(vt,lt){const Nt=[];let Ht=!0;for(const mn of mp(lt)){const Ss=0===mn.kind?KL(vt,mn.fieldPath,vt.endAt):YL(vt,mn.fieldPath,vt.endAt);Nt.push(Ss.value),Ht&&(Ht=Ss.inclusive)}return new vh(Nt,Ht)}(w,y),X=this.Ze(y,w,V),de=this.Ze(y,w,B),Fe=this.tn(y,w,O),tt=this.en(y.indexId,A,X,V.inclusive,de,B.inclusive,Fe);return le.forEach(tt,vt=>i.j(vt,e.limit).next(lt=>{lt.forEach(Nt=>{const Ht=Ke.fromSegments(Nt.documentKey);u.has(Ht)||(u=u.add(Ht),h.push(Ht))})}))}).next(()=>h)}return le.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,a,u,h){const y=(null!=e?e.length:1)*Math.max(i.length,a.length),w=y/(null!=e?e.length:1),D=[];for(let A=0;A<y;++A){const O=e?this.nn(e[A/w]):nx,V=this.sn(t,O,i[A%w],r),B=this.rn(t,O,a[A%w],u),X=h.map(de=>this.sn(t,O,de,!0));D.push(...this.createRange(V,B,X))}return D}sn(t,e,i,r){const a=new Tp(t,Ke.empty(),e,i);return r?a:a.Le()}rn(t,e,i,r){const a=new Tp(t,Ke.empty(),e,i);return r?a.Le():a}Xe(t,e){const i=new S6(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{let u=null;for(const h of a)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return le.forEach(this.Ye(e),r=>this.Xe(t,r).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new Mn(Ai.comparator),y=!1;for(const w of u.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:h=h.add(D.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Uw;for(const r of mp(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const u=i.Be(r.kind);Ip.ye.re(a,u)}return i.Oe()}nn(t){const e=new Uw;return Ip.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new Uw;return Ip.ye.re(bp(this.databaseId,e),i.Be(function(r){const a=mp(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Uw);let a=0;for(const u of mp(t)){const h=i[a++];for(const y of r)if(this.cn(e,u.fieldPath)&&Dw(h))r=this.an(r,u,h);else{const w=y.Be(u.kind);Ip.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],a=[];for(const u of i.arrayValue.values||[])for(const h of r){const y=new Uw;y.seed(h.Oe()),Ip.ye.re(u,y.Be(e.kind)),a.push(y)}return a}cn(t,e){return!!t.filters.find(i=>i instanceof $r&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ix(t),r=jw(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(a=>{const u=[];return le.forEach(a,h=>r.get([h.indexId,this.uid]).next(y=>{u.push(function(w,D){const A=D?new _w(D.sequenceNumber,new Fo(Sp(D.readTime),new Ke(Cc(D.documentKey)),D.largestBatchId)):_w.empty(),O=w.fields.map(([V,B])=>new HD(Ai.fromServerFormat(V),B));return new UD(w.indexId,w.collectionGroup,O,A)}(h,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ut(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ix(t),a=jw(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>le.forEach(h,y=>a.put(YV(y.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return le.forEach(e,(r,a)=>{const u=i.get(r.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),le.forEach(h,y=>this.fn(t,r,y).next(w=>{const D=this.dn(a,y);return w.isEqual(D)?le.resolve():this._n(t,a,y,w,D)}))))})}wn(t,e,i,r){return Hw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return Hw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=Hw(t);let a=new Mn(Mp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{a=a.add(new Tp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>a)}dn(t,e){let i=new Mn(Mp);const r=this.on(e,t);if(null==r)return i;const a=gR(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Dw(u))for(const h of u.arrayValue.values||[])i=i.add(new Tp(e.indexId,t.key,this.nn(h),r))}else i=i.add(new Tp(e.indexId,t.key,nx,r));return i}_n(t,e,i,r,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,y,w,D,A){const O=h.getIterator(),V=y.getIterator();let B=zm(O),X=zm(V);for(;B||X;){let de=!1,Fe=!1;if(B&&X){const tt=w(B,X);tt<0?Fe=!0:tt>0&&(de=!0)}else null!=B?Fe=!0:de=!0;de?(D(X),X=zm(V)):Fe?(A(B),B=zm(O)):(B=zm(O),X=zm(V))}}(r,a,Mp,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),le.waitFor(u)}ln(t){let e=1;return jw(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Mp(u,h)).filter((u,h,y)=>!h||0!==Mp(u,y[h-1]));const r=[];r.push(t);for(const u of i){const h=Mp(u,t),y=Mp(u,e);if(0===h)r[0]=t.Le();else if(h>0&&y<0)r.push(u),r.push(u.Le());else if(y>0)break}r.push(e);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,nx,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,nx,[]]));return a}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(eB)}getMinOffset(t,e){return le.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||ot())).next(eB)}}function JV(n){return mr(n,"collectionParents")}function Hw(n){return mr(n,"indexEntries")}function ix(n){return mr(n,"indexConfiguration")}function jw(n){return mr(n,"indexState")}function eB(n){kt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;mR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Fo(t.readTime,t.documentKey,e)}const tB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new so(t,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let h=0;const y=i.J({range:u},(D,A,O)=>(h++,O.delete()));a.push(y.next(()=>{kt(1===h)}));const w=[];for(const D of e.mutations){const A=UV(t,D.key.path,e.batchId);a.push(r.delete(A)),w.push(D.key)}return le.waitFor(a).next(()=>w)}function rx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ot();t=n.noDocument}return JSON.stringify(t).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class sx{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){kt(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new sx(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).J({index:"userMutationsIndex",range:i},(r,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=ny(t),u=Ch(t);return u.add({}).next(h=>{kt("number"==typeof h);const y=new kR(h,e,i,r),w=function(O,V,B){const X=B.baseMutations.map(Fe=>Lw(O.ne,Fe)),de=B.mutations.map(Fe=>Lw(O.ne,Fe));return{userId:V,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:X,mutations:de}}(this.wt,this.userId,y),D=[];let A=new Mn((O,V)=>Ut(O.canonicalString(),V.canonicalString()));for(const O of r){const V=UV(this.userId,O.key.path,h);A=A.add(O.key.path.popLast()),D.push(u.put(w)),D.push(a.put(V,i6))}return A.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.gn[h]=y.keys()}),le.waitFor(D).next(()=>y)})}lookupMutationBatch(t,e){return Ch(t).get(e).next(i=>i?(kt(i.userId===this.userId),Ap(this.wt,i)):null)}yn(t,e){return this.gn[e]?le.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ch(t).J({index:"userMutationsIndex",range:r},(u,h,y)=>{h.userId===this.userId&&(kt(h.batchId>=i),a=Ap(this.wt,h)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ch(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).K("userMutationsIndex",e).next(i=>i.map(r=>Ap(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=JD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return ny(t).J({range:r},(u,h,y)=>{const[w,D,A]=u,O=Cc(D);if(w===this.userId&&e.path.isEqual(O))return Ch(t).get(A).next(V=>{if(!V)throw ot();kt(V.userId===this.userId),a.push(Ap(this.wt,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mn(Ut);const r=[];return e.forEach(a=>{const u=JD(this.userId,a.path),h=IDBKeyRange.lowerBound(u),y=ny(t).J({range:h},(w,D,A)=>{const[O,V,B]=w,X=Cc(V);O===this.userId&&a.path.isEqual(X)?i=i.add(B):A.done()});r.push(y)}),le.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=JD(this.userId,i),u=IDBKeyRange.lowerBound(a);let h=new Mn(Ut);return ny(t).J({range:u},(y,w,D)=>{const[A,O,V]=y,B=Cc(O);A===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(V)):D.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(a=>{r.push(Ch(t).get(a).next(u=>{if(null===u)throw ot();kt(u.userId===this.userId),i.push(Ap(this.wt,u))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return nB(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ny(t).J({range:i},(a,u,h)=>{if(a[0]===this.userId){const y=Cc(a[1]);r.push(y)}else h.done()}).next(()=>{kt(0===r.length)})})}containsKey(t,e){return iB(t,this.userId,e)}Tn(t){return rB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iB(n,t,e){const i=JD(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return ny(n).J({range:a,H:!0},(h,y,w)=>{const[D,A,O]=h;D===t&&A===r&&(u=!0),w.done()}).next(()=>u)}function Ch(n){return mr(n,"mutations")}function ny(n){return mr(n,"documentMutations")}function rB(n){return mr(n,"mutationQueues")}class Rp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Rp(0)}static Rn(){return new Rp(-1)}}class T6{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Rp(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Tt.fromTimestamp(new ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>iy(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(kt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return iy(t).J((u,h)=>{const y=Vw(h);y.sequenceNumber<=e&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(t,y)))}).next(()=>le.waitFor(a)).next(()=>r)}forEachTarget(t,e){return iy(t).J((i,r)=>{const a=Vw(r);e(a)})}bn(t){return sB(t).get("targetGlobalKey").next(e=>(kt(null!==e),e))}Pn(t,e){return sB(t).put("targetGlobalKey",e)}vn(t,e){return iy(t).put(qV(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Cp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return iy(t).J({range:r,index:"queryTargetsIndex"},(u,h,y)=>{const w=Vw(h);Sw(e,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=Eh(t);return e.forEach(u=>{const h=Cs(u.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),le.waitFor(r)}removeMatchingKeys(t,e,i){const r=Eh(t);return le.forEach(e,a=>{const u=Cs(a.path);return le.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=Eh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Eh(t);let a=Gt();return r.J({range:i,H:!0},(u,h,y)=>{const w=Cc(u[1]),D=new Ke(w);a=a.add(D)}).next(()=>a)}containsKey(t,e){const i=Cs(e.path),r=IDBKeyRange.bound([i],[TL(i)],!1,!0);let a=0;return Eh(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],y,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}te(t,e){return iy(t).get(e).next(i=>i?Vw(i):null)}}function iy(n){return mr(n,"targets")}function sB(n){return mr(n,"targetGlobal")}function Eh(n){return mr(n,"targetDocuments")}function oB([n,t],[e,i]){const r=Ut(n,e);return 0===r?Ut(t,i):r}class M6{constructor(t){this.Sn=t,this.buffer=new Mn(oB),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();oB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class R6{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){gh(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ph(i)}yield e.kn(3e5)}))}}class k6{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return le.resolve(io.ot);const i=new M6(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(tB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tB):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,a,u,h,y,w;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,h=Date.now(),this.removeTargets(t,i,e))).next(A=>(a=A,y=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(w=Date.now(),fR()<=uh.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(y-h)+`ms\n\tRemoved ${A} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class O6{constructor(t,e){this.db=t,this.garbageCollector=new k6(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return ox(t,i)}removeReference(t,e,i){return ox(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ox(t,e)}Un(t,e){return function(i,r){let a=!1;return rB(i).Y(u=>iB(i,u,r).next(h=>(h&&(a=!0),le.resolve(!h)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(t,(u,h)=>{if(h<=e){const y=this.Un(t,u).next(w=>{if(!w)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Tt.min()),Eh(t).delete([0,Cs(u.path)])))});r.push(y)}}).next(()=>le.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ox(t,e)}Ln(t,e){const i=Eh(t);let r,a=io.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:y,sequenceNumber:w})=>{0===u?(a!==io.ot&&e(new Ke(Cc(r)),a),a=w,r=y):a=io.ot}).next(()=>{a!==io.ot&&e(new Ke(Cc(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ox(n,t){return Eh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Cs(t.path),sequenceNumber:i}));var i}class aB{constructor(){this.changes=new wh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?le.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class F6{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return kp(t).put(i)}removeEntry(t,e,i){return kp(t).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ex(a),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=Un.newInvalidDocument(e);return kp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(e))},(r,a)=>{i=this.Kn(e,a)}).next(()=>i)}Gn(t,e){let i={size:0,document:Un.newInvalidDocument(e)};return kp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(e))},(r,a)=>{i={document:this.Kn(e,a),size:rx(a)}}).next(()=>i)}getEntries(t,e){let i=ro();return this.Qn(t,e,(r,a)=>{const u=this.Kn(r,a);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=ro(),r=new bi(Ke.comparator);return this.Qn(t,e,(a,u)=>{const h=this.Kn(a,u);i=i.insert(a,h),r=r.insert(a,rx(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return le.resolve();let r=new Mn(dB);e.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(Gw(r.first()),Gw(r.last())),u=r.getIterator();let h=u.getNext();return kp(t).J({index:"documentKeyIndex",range:a},(y,w,D)=>{const A=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&dB(h,A)<0;)i(h,null),h=u.getNext();h&&h.isEqual(A)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?D.q(Gw(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),ex(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kp(t).K(IDBKeyRange.bound(r,a,!0)).next(u=>{let h=ro();for(const y of u){const w=this.Kn(Ke.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let a=ro();const u=uB(e,i),h=uB(e,Fo.max());return kp(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(y,w,D)=>{const A=this.Kn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(t){return new P6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return cB(t).get("remoteDocumentGlobalKey").next(e=>(kt(!!e),e))}qn(t,e){return cB(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function w6(n,t){let e;if(t.document)e=kV(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ke.fromSegments(t.noDocument.path),r=Sp(t.noDocument.readTime);e=Un.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const i=Ke.fromSegments(t.unknownDocument.path),r=Sp(t.unknownDocument.version);e=Un.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ai(i[0],i[1]);return Tt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Tt.min()))return i}return Un.newInvalidDocument(t)}}function lB(n){return new F6(n)}class P6 extends aB{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new wh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Mn((a,u)=>Ut(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Hn.get(a);if(e.push(this.zn.removeEntry(t,a,h.readTime)),u.isValidDocument()){const y=zV(this.zn.wt,u);r=r.add(a.path.popLast()),i+=rx(y)-h.size,e.push(this.zn.addEntry(t,a,y))}else if(i-=h.size,this.trackRemovals){const y=zV(this.zn.wt,u.convertToNoDocument(Tt.min()));e.push(this.zn.addEntry(t,a,y))}}),r.forEach(a=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.zn.updateMetadata(t,i)),le.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function cB(n){return mr(n,"remoteDocumentGlobal")}function kp(n){return mr(n,"remoteDocumentsV14")}function Gw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uB(n,t){const e=t.documentKey.path.toArray();return[n,ex(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function dB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=Ut(e[a],i[a]),r)return r;return r=Ut(e.length,i.length),r||(r=Ut(e[e.length-2],i[i.length-2]),r||Ut(e[e.length-1],i[i.length-1]))}class N6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class hB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Tw(i.mutation,r,Po.empty(),ai.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Gt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Gt()){const r=wc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let u=Mw();return a.forEach((h,y)=>{u=u.insert(h,y.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=wc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Gt()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let a=ro();const u=Rw(),h=Rw();return e.forEach((y,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof Fu)?a=a.insert(w.key,w):void 0!==D&&(u.set(w.key,D.mutation.getFieldMask()),Tw(D.mutation,w,D.mutation.getFieldMask(),ai.now()))}),this.recalculateAndSaveOverlays(t,a).next(y=>(y.forEach((w,D)=>u.set(w,D)),e.forEach((w,D)=>{var A;return h.set(w,new N6(D,null!==(A=u.get(w))&&void 0!==A?A:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Rw();let r=new bi((u,h)=>u-h),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(y=>{const w=e.get(y);if(null===w)return;let D=i.get(y)||Po.empty();D=h.applyToLocalView(w,D),i.set(y,D);const A=(r.get(h.batchId)||Gt()).add(y);r=r.insert(h.batchId,A)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),w=y.key,D=y.value,A=bV();D.forEach(O=>{if(!a.has(O)){const V=hV(e.get(O),i.get(O));null!==V&&A.set(O,V),a=a.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,A))}return le.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ke.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):DR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):le.resolve(wc());let h=-1,y=a;return u.next(w=>le.forEach(w,(D,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),a.get(D)?le.resolve():this.getBaseDocument(t,D,A).next(O=>{y=y.insert(D,O)}))).next(()=>this.populateOverlays(t,w,a)).next(()=>this.computeViews(t,y,w,Gt())).next(D=>({batchId:h,changes:wV(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ke(e)).next(i=>{let r=Mw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let a=Mw();return this.indexManager.getCollectionParents(t,r).next(u=>le.forEach(u,h=>{const y=(w=e,D=h.child(r),new Ou(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(t,y,i).next(w=>{w.forEach((D,A)=>{a=a.insert(D,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(a=>{a.forEach((h,y)=>{const w=y.getKey();null===r.get(w)&&(r=r.insert(w,Un.newInvalidDocument(w)))});let u=Mw();return r.forEach((h,y)=>{const w=a.get(h);void 0!==w&&Tw(w.mutation,y,Po.empty(),ai.now()),SR(e,y)&&(u=u.insert(h,y))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):le.resolve(Un.newInvalidDocument(e))}}class L6{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return le.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:gr(i.createTime)}),le.resolve()}getNamedQuery(t,e){return le.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:PR(i.bundledQuery),readTime:gr(i.readTime)}),le.resolve();var i}}class V6{constructor(){this.overlays=new bi(Ke.comparator),this.Xn=new Map}getOverlay(t,e){return le.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wc();return le.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.ie(t,e,a)}),le.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),le.resolve()}getOverlaysForCollection(t,e,i){const r=wc(),a=e.length+1,u=new Ke(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const y=h.getNext().value,w=y.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return le.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new bi((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let D=a.get(w.largestBatchId);null===D&&(D=wc(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const h=wc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>h.set(w,D)),!(h.size()>=r)););return le.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new FR(e,i));let a=this.Xn.get(e);void 0===a&&(a=Gt(),this.Xn.set(e,a)),this.Xn.set(e,a.add(i.key))}}class VR{constructor(){this.Zn=new Mn(yr.ts),this.es=new Mn(yr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new yr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new yr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Ke(new un([])),i=new yr(e,t),r=new yr(e,t+1),a=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Ke(new un([])),i=new yr(e,t),r=new yr(e,t+1);let a=Gt();return this.es.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new yr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class yr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Ke.comparator(t.key,e.key)||Ut(t.ls,e.ls)}static ns(t,e){return Ut(t.ls,e.ls)||Ke.comparator(t.key,e.key)}}class B6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Mn(yr.ts)}checkEmpty(t){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const a=this.fs;this.fs++;const u=new kR(a,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new yr(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(t,e){return le.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),a=r<0?0:r;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new yr(e,0),r=new yr(e,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);a.push(h)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mn(Ut);return e.forEach(r=>{const a=new yr(r,0),u=new yr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],h=>{i=i.add(h.ls)})}),le.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const u=new yr(new Ke(a),0);let h=new Mn(Ut);return this.ds.forEachWhile(y=>{const w=y.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(y.ls)),!0)},u),le.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){kt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return le.forEach(e.mutations,r=>{const a=new yr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new yr(e,0),r=this.ds.firstAfterOrEqual(i);return le.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return le.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class U6{constructor(t){this.ps=t,this.docs=new bi(Ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return le.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(e))}getEntries(t,e){let i=ro();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Un.newInvalidDocument(r))}),le.resolve(i)}getAllFromCollection(t,e,i){let r=ro();const a=new Ke(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:y}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||mR(RL(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return le.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ot()}Is(t,e){return le.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new H6(this)}getSize(t){return le.resolve(this.size)}}class H6 extends aB{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),le.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class j6{constructor(t){this.persistence=t,this.Ts=new wh(e=>Cp(e),Sw),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Es=0,this.As=new VR,this.targetCount=0,this.Rs=Rp.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),le.resolve()}getLastRemoteSnapshotVersion(t){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return le.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),le.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Rp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,le.resolve()}updateTargetData(t,e){return this.vn(e),le.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,le.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),le.waitFor(a).next(()=>r)}getTargetCount(t){return le.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return le.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),le.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(u=>{a.push(r.markPotentiallyOrphaned(t,u))}),le.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),le.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return le.resolve(i)}containsKey(t,e){return le.resolve(this.As.containsKey(e))}}class fB{constructor(t,e){this.bs={},this.overlays={},this.Ps=new io(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new j6(this),this.indexManager=new A6,this.remoteDocumentCache=new U6(i=>this.referenceDelegate.Ss(i)),this.wt=new $V(e),this.Ds=new L6(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new V6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new B6(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new G6(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(t,e){return le.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class G6 extends OL{constructor(t){super(),this.currentSequenceNumber=t}}class ax{constructor(t){this.persistence=t,this.ks=new VR,this.Os=null}static Ms(t){return new ax(t)}get Fs(){if(this.Os)return this.Os;throw ot()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),le.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),le.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),le.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Fs,i=>{const r=Ke.fromPath(i);return this.$s(t,r).next(a=>{a||e.removeEntry(r,Tt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return le.or([()=>le.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class $6{constructor(t){this.wt=t}O(t,e,i,r){const a=new jD("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BV,{unique:!0}),h.createObjectStore("documentMutations"),pB(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=le.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),pB(t)),u=u.next(()=>function(h){const y=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,y){return y.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BV,{unique:!0});const D=y.store("mutations"),A=w.map(O=>D.put(O));return le.waitFor(A)})}(t,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(a))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(a)))),i<7&&r>=7&&(u=u.next(()=>this.Us(a))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,a))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(a))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const y=h.createObjectStore("documentOverlays",{keyPath:g6});y.createIndex("collectionPathOverlayIndex",m6,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",y6,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const y=h.createObjectStore("remoteDocumentsV14",{keyPath:r6});y.createIndex("documentKeyIndex",s6),y.createIndex("collectionGroupIndex",o6)}(t)).next(()=>this.Gs(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,a))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:d6}).createIndex("sequenceNumberIndex",h6,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:f6}).createIndex("documentKeyIndex",p6,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=rx(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>le.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>le.forEach(h,y=>{kt(y.userId===a.userId);const w=Ap(this.wt,y);return nB(t,a.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((u,h)=>{const y=new un(u),w=[0,Cs(y)];a.push(e.get(w).next(D=>D?le.resolve():e.put({targetId:0,path:Cs(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:u6});const i=e.store("collectionParents"),r=new LR,a=u=>{if(r.add(u)){const h=u.lastSegment(),y=u.popLast();return i.put({collectionId:h,parent:Cs(y)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const y=new un(u);return a(y.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,y],w)=>{const D=Cc(h);return a(D.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const a=Vw(r),u=qV(this.wt,a);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((a,u)=>{const h=e.store("remoteDocumentsV14"),y=(w=u,w.document?new Ke(un.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>le.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=lB(this.wt),a=new fB(ax.Ms,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(y=>{var w;let D=null!==(w=h.get(y.userId))&&void 0!==w?w:Gt();Ap(this.wt,y).keys().forEach(A=>D=D.add(A)),h.set(y.userId,D)}),le.forEach(h,(y,w)=>{const D=new fr(w),A=tx.se(this.wt,D),O=a.getIndexManager(D),V=sx.se(D,this.wt,O,a.referenceDelegate);return new hB(r,V,A,O).recalculateAndSaveOverlaysForDocumentKeys(new RR(e,io.ot),y).next()})})}}function pB(n){n.createObjectStore("targetDocuments",{keyPath:l6}).createIndex("documentTargetsIndex",c6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",a6,{unique:!0}),n.createObjectStore("targetGlobal")}const BR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class UR{constructor(t,e,i,r,a,u,h,y,w,D,A=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=a,this.window=u,this.document=h,this.Ws=w,this.zs=D,this.Hs=A,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!UR.V())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O6(this,r),this.ei=e+"main",this.wt=new $V(y),this.ni=new Cl(this.ei,this.Hs,new $6(this.wt)),this.Vs=new T6(this.referenceDelegate,this.wt),this.remoteDocumentCache=lB(this.wt),this.Ds=new b6,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===D&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,BR);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new io(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>lx(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(gh(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return $w(t).get("owner").next(e=>le.resolve(this.di(e)))}_i(t){return lx(t).delete(this.clientId)}wi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.K().next(a=>{const u=t.gi(a,18e5),h=a.filter(y=>-1===u.indexOf(y));return le.forEach(h,y=>r.delete(y.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?le.resolve(!0):$w(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,BR);return!1}}return!(!this.networkEnabled||!this.inForeground)||lx(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new RR(e,io.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>lx(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return sx.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new I6(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return tx.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=15===(u=this.Hs)?v6:14===u?GV:13===u?jV:12===u?_6:11===u?HV:void ot();var u;let h;return this.ni.runTransaction(t,r,a,y=>(h=new RR(y,this.Ps?this.Ps.next():io.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw zi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(fe.FAILED_PRECONDITION,kL);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(y=>(h.raiseOnCommittedEvent(),y))}bi(t){return $w(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,BR)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $w(t).put("owner",e)}static V(){return Cl.V()}li(t){const e=$w(t);return e.get("owner").next(i=>this.di(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):le.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(zi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){zi("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function $w(n){return mr(n,"owner")}function lx(n){return mr(n,"clientMetadata")}function HR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class jR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Gt(),r=Gt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new jR(t,e.fromCache,i,r)}}class gB{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(a=>a||this.xi(t,e,r,i)).next(a=>a||this.Ni(t,e))}Ci(t,e){return le.resolve(null)}xi(t,e,i,r){return function Tz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Tt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(a=>{const u=this.ki(e,a);return this.Oi(e,u,i,r)?this.Ni(t,e):(fR()<=uh.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xR(e)),this.Mi(t,u,e,ML(r,-1)))})}ki(t,e){let i=new Mn(iV(t));return e.forEach((r,a)=>{SR(t,a)&&(i=i.add(a))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(t,e){return fR()<=uh.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",xR(e)),this.Di.getDocumentsMatchingQuery(t,e,Fo.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(u=>{a=a.insert(u.key,u)}),a))}}class z6{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new bi(Ut),this.Bi=new wh(a=>Cp(a),Sw),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hB(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function mB(n,t,e,i){return new z6(n,t,e,i)}function yB(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,be.Z)(function*(n,t){const e=Xe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let y=Gt();for(const w of r){u.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){h.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return e.localDocuments.getDocuments(i,y).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),GR.apply(this,arguments)}function q6(n,t){const e=Xe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,y,w){const D=y.batch,A=D.keys();let O=le.resolve();return A.forEach(V=>{O=O.next(()=>w.getEntry(h,V)).next(B=>{const X=y.docVersions.get(V);kt(null!==X),B.version.compareTo(X)<0&&(D.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),w.addEntry(B)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Gt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(h=h.add(u.batch.mutations[y].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function _B(n){const t=Xe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function W6(n,t){const e=Xe(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((D,A)=>{const O=r.get(A);if(!O)return;h.push(e.Vs.removeMatchingKeys(a,D.removedDocuments,A).next(()=>e.Vs.addMatchingKeys(a,D.addedDocuments,A)));let V=O.withSequenceNumber(a.currentSequenceNumber);var B,X,de;t.targetMismatches.has(A)?V=V.withResumeToken(er.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):D.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(D.resumeToken,i)),r=r.insert(A,V),X=V,de=D,(0===(B=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(a,V))});let y=ro(),w=Gt();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(a,D))}),h.push(vB(a,u,t.documentUpdates).next(D=>{y=D.Gi,w=D.Qi})),!i.isEqual(Tt.min())){const D=e.Vs.getLastRemoteSnapshotVersion(a).next(A=>e.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(D)}return le.waitFor(h).next(()=>u.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(e.$i=r,a))}function vB(n,t,e){let i=Gt(),r=Gt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let u=ro();return e.forEach((h,y)=>{const w=a.get(h);y.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(h,y.readTime),u=u.insert(h,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(y),u=u.insert(h,y)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",y.version)}),{Gi:u,Qi:r}})}function Y6(n,t){const e=Xe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ry(n,t){const e=Xe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(a=>a?(r=a,le.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new bh(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function sy(n,t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=i.$i.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!gh(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),$R.apply(this,arguments)}function cx(n,t,e){const i=Xe(n);let r=Tt.min(),a=Gt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,y,w){const D=Xe(h),A=D.Bi.get(w);return void 0!==A?le.resolve(D.$i.get(A)):D.Vs.getTargetData(y,w)}(i,u,Da(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(y=>{a=y})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:Tt.min(),e?a:Gt())).next(h=>(CB(i,nV(t),h),{documents:h,ji:a})))}function wB(n,t){const e=Xe(n),i=Xe(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.te(a,t).next(u=>u?u.target:null))}function bB(n,t){const e=Xe(n),i=e.Li.get(t)||Tt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,ML(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CB(e,t,r),r))}function CB(n,t,e){let i=Tt.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(t,i)}function zR(){return zR=(0,be.Z)(function*(n,t,e,i){const r=Xe(n);let a=Gt(),u=ro();for(const w of e){const D=t.Wi(w.metadata.name);w.document&&(a=a.add(D));const A=t.zi(w);A.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(D,A)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),y=yield ry(r,(w=i,Da(Ym(un.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>vB(w,h,u).next(D=>(h.apply(w),D)).next(D=>r.Vs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>r.Vs.addMatchingKeys(w,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.Gi,D.Qi)).next(()=>D.Gi)))}),zR.apply(this,arguments)}function Z6(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,be.Z)(function*(n,t,e=Gt()){const i=yield ry(n,Da(PR(t.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=gr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(a,t);const h=i.withResumeToken(er.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(a,h).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,t))})}),qR.apply(this,arguments)}function EB(n,t){return`firestore_clients_${n}_${t}`}function DB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function WR(n,t){return`firestore_targets_${n}_${t}`}class ux{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Oe(r.error.code,r.error.message))),u?new ux(t,e,r.state,a):(zi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class zw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Oe(i.error.code,i.error.message))),a?new zw(t,i.state,r):(zi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=QD();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=BL(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new dx(t,a):(zi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class YR{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new YR(e.clientId,e.onlineState):(zi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class KR{constructor(){this.activeTargetIds=QD()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZR{constructor(t,e,i,r,a){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new bi(Ut),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=EB(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new KR),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const a=t.getItem(EB(t.persistenceKey,r));if(a){const u=dx.Ji(r,a);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(WR(this.persistenceKey,t));if(i){const r=zw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(WR(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(a){let u=io.ot;if(null!=a)try{const h=JSON.parse(a);kt("number"==typeof h),u=h}catch(h){zi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==io.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Nr(a)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new ux(this.currentUser,t,e,i),a=DB(this.persistenceKey,this.currentUser,t);this.setItem(a,r.Yi())}pr(t){const e=DB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=WR(this.persistenceKey,t),a=new zw(t,e,i);this.setItem(r,a.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return dx.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return ux.Ji(new fr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return zw.Ji(r,e)}wr(t){return YR.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),a=this.gr(i),u=[],h=[];return a.forEach(y=>{r.has(y)||u.push(y)}),r.forEach(y=>{a.has(y)||h.push(y)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=QD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class xB{constructor(){this.Fr=new KR,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new KR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Q6{Br(t){}shutdown(){}}class SB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class J6{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class eq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,a){const u=this.oo(t,e);Le("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,a),this.co(t,u,h,i).then(y=>(Le("RestConnection","Received: ",y),y),y=>{throw mw("RestConnection",`${t} failed with error: `,y,"url: ",u,"request:",i),y})}ao(t,e,i,r,a){return this.ro(t,e,i,r,a)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}oo(t,e){return`${this.so}/v1/${e}:${X6[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((a,u)=>{const h=new J3;h.listenOnce(Z3.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case hR.NO_ERROR:const w=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),a(w);break;case hR.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case hR.HTTP_ERROR:const D=h.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const A=h.getResponseJson().error;if(A&&A.status&&A.message){const O=function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(B)>=0?B:fe.UNKNOWN}(A.status);u(new Oe(O,A.message))}else u(new Oe(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const y=JSON.stringify(r);h.send(e,"POST",y,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Y3(),u=K3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new X3({})),this.uo(h.initMessageHeaders,e,i),(0,Kt.uI)()||(0,Kt.b$)()||(0,Kt.d)()||(0,Kt.w1)()||(0,Kt.Mn)()||(0,Kt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Le("Connection","Creating WebChannel: "+y,h);const w=a.createWebChannel(y,h);let D=!1,A=!1;const O=new J6({jr:B=>{A?Le("Connection","Not sending because WebChannel is closed:",B):(D||(Le("Connection","Opening WebChannel transport."),w.open(),D=!0),Le("Connection","WebChannel sending:",B),w.send(B))},Wr:()=>w.close()}),V=(B,X,de)=>{B.listen(X,Fe=>{try{de(Fe)}catch(tt){setTimeout(()=>{throw tt},0)}})};return V(w,BD.EventType.OPEN,()=>{A||Le("Connection","WebChannel transport opened.")}),V(w,BD.EventType.CLOSE,()=>{A||(A=!0,Le("Connection","WebChannel transport closed"),O.eo())}),V(w,BD.EventType.ERROR,B=>{A||(A=!0,mw("Connection","WebChannel transport errored:",B),O.eo(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),V(w,BD.EventType.MESSAGE,B=>{var X;if(!A){const de=B.data[0];kt(!!de);const Fe=de,tt=Fe.error||(null===(X=Fe[0])||void 0===X?void 0:X.error);if(tt){Le("Connection","WebChannel received error:",tt);const vt=tt.status;let lt=function(Ht){const mn=qi[Ht];if(void 0!==mn)return _V(mn)}(vt),Nt=tt.message;void 0===lt&&(lt=fe.INTERNAL,Nt="Unknown error status: "+vt+" with message "+tt.message),A=!0,O.eo(new Oe(lt,Nt)),w.close()}else Le("Connection","WebChannel received:",de),O.no(de)}}),V(u,Q3.STAT_EVENT,B=>{B.stat===DL.PROXY?Le("Connection","Detected buffering proxy"):B.stat===DL.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function AB(){return typeof window<"u"?window:null}function hx(){return typeof document<"u"?document:null}function qw(n){return new zz(n,!0)}class QR{constructor(t,e,i=1e3,r=1.5,a=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class IB{constructor(t,e,i,r,a,u,h,y){this.js=t,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new QR(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,be.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,be.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(zi(e.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,be.Z)(function*(){t.state=0,t.start()}))}qo(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tq extends IB{constructor(t,e,i,r,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=a}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function Yz(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(y=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ot(),r=t.targetChange.targetIds||[],a=function(y,w){return y.dt?(kt(void 0===w||"string"==typeof w),er.fromBase64String(w||"")):(kt(void 0===w||w instanceof Uint8Array),er.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(y){const w=void 0===y.code?fe.UNKNOWN:_V(y.code);return new Oe(w,y.message||"")}(u);e=new EV(i,r,a,h||null)}else if("documentChange"in t){const i=t.documentChange,r=bc(n,i.document.name),a=gr(i.document.updateTime),u=new Gr({mapValue:{fields:i.document.fields}}),h=Un.newFoundDocument(r,a,u);e=new XD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=bc(n,i.document),a=i.readTime?gr(i.readTime):Tt.min(),u=Un.newNoDocument(r,a);e=new XD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=bc(n,i.document);e=new XD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ot();{const i=t.filter,a=new Lz(i.count||0);e=new CV(i.targetId,a)}}var y;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Tt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Tt.min():a.readTime?gr(a.readTime):Tt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=Nw(this.wt),e.addTarget=function(r,a){let u;const h=a.target;return u=qD(h)?{documents:OV(r,h)}:{query:FV(r,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=AV(r,a.resumeToken):a.snapshotVersion.compareTo(Tt.min())>0&&(u.readTime=Fw(r,a.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function Zz(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=Nw(this.wt),e.removeTarget=t,this.Mo(e)}}class nq extends IB{constructor(t,e,i,r,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function Kz(n,t){return n&&n.length>0?(kt(void 0!==t),n.map(e=>function(i,r){let a=gr(i.updateTime?i.updateTime:r);return a.isEqual(Tt.min())&&(a=gr(r)),new Fz(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=gr(t.commitTime);return this.listener.Jo(i,e)}return kt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Nw(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Lw(this.wt,i))};this.Mo(e)}}class iq extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(fe.UNKNOWN,r.toString())})}ao(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ao(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(fe.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class rq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(zi(e),this.su=!1):Le("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class sq{constructor(t,e,i,r,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(h=>{i.enqueueAndForget((0,be.Z)(function*(){var y;Dh(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(w){const D=Xe(w);D.lu.add(4),yield oy(D),D._u.set("Unknown"),D.lu.delete(4),yield Ww(D)}),function(w){return y.apply(this,arguments)})(u))}))}),this._u=new rq(i,r)}}function Ww(n){return XR.apply(this,arguments)}function XR(){return XR=(0,be.Z)(function*(n){if(Dh(n))for(const t of n.fu)yield t(!0)}),XR.apply(this,arguments)}function oy(n){return JR.apply(this,arguments)}function JR(){return JR=(0,be.Z)(function*(n){for(const t of n.fu)yield t(!1)}),JR.apply(this,arguments)}function fx(n,t){const e=Xe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),nk(e)?tk(e):ly(e).Co()&&ek(e,t))}function Yw(n,t){const e=Xe(n),i=ly(e);e.hu.delete(t),i.Co()&&TB(e,t),0===e.hu.size&&(i.Co()?i.ko():Dh(e)&&e._u.set("Unknown"))}function ek(n,t){n.wu.Nt(t.targetId),ly(n).Qo(t)}function TB(n,t){n.wu.Nt(t),ly(n).jo(t)}function tk(n){n.wu=new jz({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),ly(n).start(),n._u.iu()}function nk(n){return Dh(n)&&!ly(n).Do()&&n.hu.size>0}function Dh(n){return 0===Xe(n).lu.size}function MB(n){n.wu=void 0}function oq(n){return ik.apply(this,arguments)}function ik(){return ik=(0,be.Z)(function*(n){n.hu.forEach((t,e)=>{ek(n,t)})}),ik.apply(this,arguments)}function aq(n,t){return rk.apply(this,arguments)}function rk(){return rk=(0,be.Z)(function*(n,t){MB(n),nk(n)?(n._u.uu(t),tk(n)):n._u.set("Unknown")}),rk.apply(this,arguments)}function lq(n,t,e){return sk.apply(this,arguments)}function sk(){return sk=(0,be.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof EV&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,a){const u=a.cause;for(const h of a.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield px(n,i)}else if(t instanceof XD?n.wu.Ut(t):t instanceof CV?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Tt.min()))try{const i=yield _B(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.Yt(a);return u.targetChanges.forEach((h,y)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(y);w&&r.hu.set(y,w.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const y=r.hu.get(h);if(!y)return;r.hu.set(h,y.withResumeToken(er.EMPTY_BYTE_STRING,y.snapshotVersion)),TB(r,h);const w=new bh(y.target,h,1,y.sequenceNumber);ek(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield px(n,i)}var i}),sk.apply(this,arguments)}function px(n,t,e){return ok.apply(this,arguments)}function ok(){return ok=(0,be.Z)(function*(n,t,e){if(!gh(t))throw t;n.lu.add(1),yield oy(n),n._u.set("Offline"),e||(e=()=>_B(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield Ww(n)}))}),ok.apply(this,arguments)}function RB(n,t){return t().catch(e=>px(n,e,t))}function ay(n){return ak.apply(this,arguments)}function ak(){return ak=(0,be.Z)(function*(n){const t=Xe(n),e=xh(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;cq(t);)try{const r=yield Y6(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,uq(t,r)}catch(r){yield px(t,r)}kB(t)&&OB(t)}),ak.apply(this,arguments)}function cq(n){return Dh(n)&&n.au.length<10}function uq(n,t){n.au.push(t);const e=xh(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function kB(n){return Dh(n)&&!xh(n).Do()&&n.au.length>0}function OB(n){xh(n).start()}function dq(n){return lk.apply(this,arguments)}function lk(){return lk=(0,be.Z)(function*(n){xh(n).Xo()}),lk.apply(this,arguments)}function hq(n){return ck.apply(this,arguments)}function ck(){return ck=(0,be.Z)(function*(n){const t=xh(n);for(const e of n.au)t.Ho(e.mutations)}),ck.apply(this,arguments)}function fq(n,t,e){return uk.apply(this,arguments)}function uk(){return uk=(0,be.Z)(function*(n,t,e){const i=n.au.shift(),r=OR.from(i,t,e);yield RB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ay(n)}),uk.apply(this,arguments)}function pq(n,t){return dk.apply(this,arguments)}function dk(){return dk=(0,be.Z)(function*(n,t){var e;t&&xh(n).zo&&(yield(e=(0,be.Z)(function*(i,r){if(yV(a=r.code)&&a!==fe.ABORTED){const u=i.au.shift();xh(i).No(),yield RB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ay(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),kB(n)&&OB(n)}),dk.apply(this,arguments)}function FB(n,t){return hk.apply(this,arguments)}function hk(){return hk=(0,be.Z)(function*(n,t){const e=Xe(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Dh(e);e.lu.add(3),yield oy(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield Ww(e)}),hk.apply(this,arguments)}function fk(n,t){return pk.apply(this,arguments)}function pk(){return pk=(0,be.Z)(function*(n,t){const e=Xe(n);t?(e.lu.delete(2),yield Ww(e)):t||(e.lu.add(2),yield oy(e),e._u.set("Unknown"))}),pk.apply(this,arguments)}function ly(n){return n.mu||(n.mu=function(t,e,i){const r=Xe(t);return r.tu(),new tq(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:oq.bind(null,n),Jr:aq.bind(null,n),Go:lq.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.mu.No(),nk(n)?tk(n):n._u.set("Unknown")):(yield n.mu.stop(),MB(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function xh(n){return n.gu||(n.gu=function(t,e,i){const r=Xe(t);return r.tu(),new nq(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:dq.bind(null,n),Jr:pq.bind(null,n),Yo:hq.bind(null,n),Jo:fq.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.gu.No(),yield ay(n)):(yield n.gu.stop(),n.au.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class gk{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,a){const u=Date.now()+i,h=new gk(t,e,u,r,a);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,t){if(zi("AsyncQueue",`${t}: ${n}`),gh(n))return new Oe(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class uy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ke.comparator(e.key,i.key):(e,i)=>Ke.comparator(e.key,i.key),this.keyedMap=Mw(),this.sortedSet=new bi(this.comparator)}static emptySet(t){return new uy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new uy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class PB{constructor(){this.yu=new bi(Ke.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ot():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class dy{constructor(t,e,i,r,a,u,h,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=y}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new dy(t,e,uy.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Aw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class gq{constructor(){this.Iu=void 0,this.listeners=[]}}class mq{constructor(){this.queries=new wh(t=>tV(t),Aw),this.onlineState="Unknown",this.Tu=new Set}}function mk(n,t){return yk.apply(this,arguments)}function yk(){return yk=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new gq),r)try{a.Iu=yield e.onListen(i)}catch(u){const h=cy(u,`Initialization of query '${xR(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,a),a.listeners.push(t),t.Eu(e.onlineState),a.Iu&&t.Au(a.Iu)&&wk(e)}),yk.apply(this,arguments)}function _k(n,t){return vk.apply(this,arguments)}function vk(){return vk=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),vk.apply(this,arguments)}function yq(n,t){const e=Xe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&wk(e)}function _q(n,t,e){const i=Xe(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function wk(n){n.Tu.forEach(t=>{t.next()})}class bk{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=dy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class vq{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class NB{constructor(t){this.wt=t}Wi(t){return bc(this.wt,t)}zi(t){return t.metadata.exists?kV(this.wt,t.document,!1):Un.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return gr(t)}}class wq{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LB(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=un.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new NB(this.wt);for(const r of t)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Gt()).add(a);e.set(u,h)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function K6(n,t,e,i){return zR.apply(this,arguments)}(t.localStore,new NB(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield Z6(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function LB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VB{constructor(t){this.key=t}}class BB{constructor(t){this.key=t}}class UB{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Gt(),this.mutatedKeys=Gt(),this.Lu=iV(t),this.Uu=new uy(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new PB,r=e?e.Uu:this.Uu;let a=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,A)=>{const O=r.get(D),V=SR(this.query,A)?A:null,B=!!O&&this.mutatedKeys.has(O.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let de=!1;O&&V?O.data.isEqual(V.data)?B!==X&&(i.track({type:3,doc:V}),de=!0):this.Qu(O,V)||(i.track({type:2,doc:V}),de=!0,(y&&this.Lu(V,y)>0||w&&this.Lu(V,w)<0)&&(h=!0)):!O&&V?(i.track({type:0,doc:V}),de=!0):O&&!V&&(i.track({type:1,doc:O}),de=!0,(y||w)&&(h=!0)),de&&(V?(u=u.add(V),a=X?a.add(D):a.delete(D)):(u=u.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{Uu:u,Gu:i,Oi:h,mutatedKeys:a}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const a=t.Gu.pu();a.sort((w,D)=>function(A,O){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return V(A)-V(O)}(w.type,D.type)||this.Lu(w.doc,D.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,y=h!==this.$u;return this.$u=h,0!==a.length||y?{snapshot:new dy(this.query,t.Uu,r,a,t.mutatedKeys,0===h,y,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new PB,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Gt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new BB(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new VB(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Gt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return dy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class bq{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Cq{constructor(t){this.key=t,this.Xu=!1}}class Eq{constructor(t,e,i,r,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new wh(h=>tV(h),Aw),this.ec=new Map,this.nc=new Set,this.sc=new bi(Ke.comparator),this.ic=new Map,this.rc=new VR,this.oc={},this.uc=new Map,this.cc=Rp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Dq(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,be.Z)(function*(n,t){const e=zk(n);let i,r;const a=e.tc.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield ry(e.localStore,Da(t));e.isPrimaryClient&&fx(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Ek(e,t,i,"current"===h)}return r}),Ck.apply(this,arguments)}function Ek(n,t,e,i){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,be.Z)(function*(n,t,e,i){n.hc=(D,A,O)=>{return(V=(0,be.Z)(function*(B,X,de,Fe){let tt=X.view.Ku(de);tt.Oi&&(tt=yield cx(B.localStore,X.query,!1).then(({documents:Nt})=>X.view.Ku(Nt,tt)));const vt=Fe&&Fe.targetChanges.get(X.targetId),lt=X.view.applyChanges(tt,B.isPrimaryClient,vt);return Fk(B,X.targetId,lt.zu),lt.snapshot}),function(B,X,de,Fe){return V.apply(this,arguments)})(n,D,A,O);var V};const r=yield cx(n.localStore,t,!0),a=new UB(t,r.ji),u=a.Ku(r.documents),h=Ow.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),y=a.applyChanges(u,n.isPrimaryClient,h);Fk(n,e,y.zu);const w=new bq(t,e,a);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),y.snapshot}),Dk.apply(this,arguments)}function xq(n,t){return xk.apply(this,arguments)}function xk(){return xk=(0,be.Z)(function*(n,t){const e=Xe(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(a=>!Aw(a,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Yw(e.remoteStore,i.targetId),hy(e,i.targetId)}).catch(ph))):(hy(e,i.targetId),yield sy(e.localStore,i.targetId,!0))}),xk.apply(this,arguments)}function Sk(){return Sk=(0,be.Z)(function*(n,t,e){const i=qk(n);try{const r=yield function(a,u){const h=Xe(a),y=ai.now(),w=u.reduce((O,V)=>O.add(V.key),Gt());let D,A;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=ro(),B=Gt();return h.Ui.getEntries(O,w).next(X=>{V=X,V.forEach((de,Fe)=>{Fe.isValidDocument()||(B=B.add(de))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,V)).next(X=>{D=X;const de=[];for(const Fe of u){const tt=Nz(Fe,D.get(Fe.key).overlayedDocument);null!=tt&&de.push(new Fu(Fe.key,tt,qL(tt.value.mapValue),fi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,y,de,u)}).next(X=>{A=X;const de=X.applyToLocalDocumentSet(D,B);return h.documentOverlayCache.saveOverlays(O,X.batchId,de)})}).then(()=>({batchId:A.batchId,changes:wV(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,h){let y=a.oc[a.currentUser.toKey()];y||(y=new bi(Ut)),y=y.insert(u,h),a.oc[a.currentUser.toKey()]=y}(i,r.batchId,e),yield Pu(i,r.changes),yield ay(i.remoteStore)}catch(r){const a=cy(r,"Failed to persist write");e.reject(a)}}),Sk.apply(this,arguments)}function HB(n,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,be.Z)(function*(n,t){const e=Xe(n);try{const i=yield W6(e.localStore,t);t.targetChanges.forEach((r,a)=>{const u=e.ic.get(a);u&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?kt(u.Xu):r.removedDocuments.size>0&&(kt(u.Xu),u.Xu=!1))}),yield Pu(e,i,t)}catch(i){yield ph(i)}}),Ak.apply(this,arguments)}function jB(n,t,e){const i=Xe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((a,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(a,u){const h=Xe(a);h.onlineState=u;let y=!1;h.queries.forEach((w,D)=>{for(const A of D.listeners)A.Eu(u)&&(y=!0)}),y&&wk(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Aq(n,t,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,be.Z)(function*(n,t,e){const i=Xe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),a=r&&r.key;if(a){let u=new bi(Ke.comparator);u=u.insert(a,Un.newNoDocument(a,Tt.min()));const h=Gt().add(a),y=new kw(Tt.min(),new Map,new Mn(Ut),u,h);yield HB(i,y),i.sc=i.sc.remove(a),i.ic.delete(t),Pk(i)}else yield sy(i.localStore,t,!1).then(()=>hy(i,t,e)).catch(ph)}),Ik.apply(this,arguments)}function Iq(n,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.batch.batchId;try{const r=yield q6(e.localStore,t);Ok(e,i,null),kk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Pu(e,r)}catch(r){yield ph(r)}}),Tk.apply(this,arguments)}function Tq(n,t,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,be.Z)(function*(n,t,e){const i=Xe(n);try{const r=yield function(a,u){const h=Xe(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return h.mutationQueue.lookupMutationBatch(y,u).next(D=>(kt(null!==D),w=D.keys(),h.mutationQueue.removeMutationBatch(y,D))).next(()=>h.mutationQueue.performConsistencyCheck(y)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(y,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>h.localDocuments.getDocuments(y,w))})}(i.localStore,t);Ok(i,t,e),kk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Pu(i,r)}catch(r){yield ph(r)}}),Mk.apply(this,arguments)}function Rk(){return Rk=(0,be.Z)(function*(n,t){const e=Xe(n);Dh(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Xe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=cy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Rk.apply(this,arguments)}function kk(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function Ok(n,t,e){const i=Xe(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function hy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||GB(n,i)})}function GB(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Yw(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),Pk(n))}function Fk(n,t,e){for(const i of e)i instanceof VB?(n.rc.addReference(i.key,t),Rq(n,i)):i instanceof BB?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||GB(n,i.key)):ot()}function Rq(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.nc.add(i),Pk(n))}function Pk(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Ke(un.fromString(t)),i=n.cc.next();n.ic.set(i,new Cq(e)),n.sc=n.sc.insert(e,i),fx(n.remoteStore,new bh(Da(Ym(e.path)),i,2,io.ot))}}function Pu(n,t,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=[],a=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,y)=>{u.push(i.hc(y,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),r.push(w);const D=jR.Vi(y.targetId,w);a.push(D)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,be.Z)(function*(y,w){const D=Xe(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>le.forEach(w,O=>le.forEach(O.Pi,V=>D.persistence.referenceDelegate.addReference(A,O.targetId,V)).next(()=>le.forEach(O.vi,V=>D.persistence.referenceDelegate.removeReference(A,O.targetId,V)))))}catch(A){if(!gh(A))throw A;Le("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const O=A.targetId;if(!A.fromCache){const V=D.$i.get(O),X=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.$i=D.$i.insert(O,X)}}}),function(y,w){return h.apply(this,arguments)})(i.localStore,a))}),Nk.apply(this,arguments)}function kq(n,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,be.Z)(function*(n,t){const e=Xe(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield yB(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Pu(e,i.Ki)}var r}),Lk.apply(this,arguments)}function Oq(n,t){const e=Xe(n),i=e.ic.get(t);if(i&&i.Xu)return Gt().add(i.key);{let r=Gt();const a=e.ec.get(t);if(!a)return r;for(const u of a){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function Fq(n,t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,be.Z)(function*(n,t){const e=Xe(n),i=yield cx(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&Fk(e,t.targetId,r.zu),r}),Vk.apply(this,arguments)}function Pq(n,t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,be.Z)(function*(n,t){const e=Xe(n);return bB(e.localStore,t).then(i=>Pu(e,i))}),Bk.apply(this,arguments)}function Nq(n,t,e,i){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,be.Z)(function*(n,t,e,i){const r=Xe(n),a=yield function(u,h){const y=Xe(u),w=Xe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.yn(D,h).next(A=>A?y.localDocuments.getDocuments(D,A):le.resolve(null)))}(r.localStore,t);var h;null!==a?("pending"===e?yield ay(r.remoteStore):"acknowledged"===e||"rejected"===e?(Ok(r,t,i||null),kk(r,t),h=t,Xe(Xe(r.localStore).mutationQueue).In(h)):ot(),yield Pu(r,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),Uk.apply(this,arguments)}function Hk(){return Hk=(0,be.Z)(function*(n,t){const e=Xe(n);if(zk(e),qk(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield $B(e,i.toArray());e.ac=!0,yield fk(e.remoteStore,!0);for(const a of r)fx(e.remoteStore,a)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(hy(e,u),sy(e.localStore,u,!0))),Yw(e.remoteStore,u)}),yield r,yield $B(e,i),function(a){const u=Xe(a);u.ic.forEach((h,y)=>{Yw(u.remoteStore,y)}),u.rc.cs(),u.ic=new Map,u.sc=new bi(Ke.comparator)}(e),e.ac=!1,yield fk(e.remoteStore,!1)}}),Hk.apply(this,arguments)}function $B(n,t,e){return jk.apply(this,arguments)}function jk(){return jk=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=[],a=[];for(const u of t){let h;const y=i.ec.get(u);if(y&&0!==y.length){h=yield ry(i.localStore,Da(y[0]));for(const w of y){const D=i.tc.get(w),A=yield Fq(i,D);A.snapshot&&a.push(A.snapshot)}}else{const w=yield wB(i.localStore,u);h=yield ry(i.localStore,w),yield Ek(i,zB(w),u,!1)}r.push(h)}return i.Zu.Go(a),r}),jk.apply(this,arguments)}function zB(n){return JL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vq(n){const t=Xe(n);return Xe(Xe(t.localStore).persistence).Ri()}function Bq(n,t,e,i){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,be.Z)(function*(n,t,e,i){const r=Xe(n);if(r.ac)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield bB(r.localStore,nV(a[0])),h=kw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Pu(r,u,h);break}case"rejected":yield sy(r.localStore,t,!0),hy(r,t,i);break;default:ot()}}),Gk.apply(this,arguments)}function Uq(n,t,e){return $k.apply(this,arguments)}function $k(){return $k=(0,be.Z)(function*(n,t,e){const i=zk(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const a=yield wB(i.localStore,r),u=yield ry(i.localStore,a);yield Ek(i,zB(a),u.targetId,!1),fx(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield sy(i.localStore,r,!1).then(()=>{Yw(i.remoteStore,r),hy(i,r)}).catch(ph))}}),$k.apply(this,arguments)}function zk(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Aq.bind(null,t),t.Zu.Go=yq.bind(null,t.eventManager),t.Zu.lc=_q.bind(null,t.eventManager),t}function qk(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Iq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tq.bind(null,t),t}class qB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.wt=qw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return mB(this.persistence,new gB,t.initialUser,this.wt)}_c(t){return new fB(ax.Ms,this.wt)}dc(t){return new xB}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class WB extends qB{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield qk(i.yc.syncEngine),yield ay(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return mB(this.persistence,new gB,t.initialUser,this.wt)}mc(t,e){return new R6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new fz(e,this.persistence);return new hz(t.asyncQueue,i)}_c(t){const e=HR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new UR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,AB(),hx(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new xB}}class jq extends WB{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof ZR&&(i.sharedClientState.syncEngine={kr:Nq.bind(null,r),Or:Bq.bind(null,r),Mr:Uq.bind(null,r),Ri:Vq.bind(null,r),Nr:Pq.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,be.Z)(function*(u){yield function Lq(n,t){return Hk.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(t){const e=AB();if(!ZR.V(e))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=HR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ZR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Wk{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>jB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=kq.bind(null,i.syncEngine),yield fk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new mq}createDatastore(t){const e=qw(t.databaseInfo.databaseId),i=new eq(t.databaseInfo);return new iq(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=h=>jB(this.syncEngine,h,0),u=SB.V()?new SB:new Q6,new sq(e,i,r,a,u);var e,i,r,a,u}createSyncEngine(t,e){return function(i,r,a,u,h,y,w){const D=new Eq(i,r,a,u,h,y);return w&&(D.ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=Xe(e);Le("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield oy(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function YB(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Gq{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new pr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,be.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const a=yield t.vc(r);return new vq(JSON.parse(a),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,be.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class $q{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,u){const h=Xe(a),y=Nw(h.wt)+"/documents",w={documents:u.map(V=>Pw(h.wt,V))},D=yield h.ao("BatchGetDocuments",y,w),A=new Map;D.forEach(V=>{const B=function Wz(n,t){return"found"in t?function(e,i){kt(!!i.found);const r=bc(e,i.found.name),a=gr(i.found.updateTime),u=new Gr({mapValue:{fields:i.found.fields}});return Un.newFoundDocument(r,a,u)}(n,t):"missing"in t?function(e,i){kt(!!i.missing),kt(!!i.readTime);const r=bc(e,i.missing),a=gr(i.readTime);return Un.newNoDocument(r,a)}(n,t):ot()}(h.wt,V);A.set(B.key.toString(),B)});const O=[];return u.forEach(V=>{const B=A.get(V.toString());kt(!!B),O.push(B)}),O}),function(a,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Jm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Ke.fromPath(r);t.mutations.push(new AR(a,t.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const u=Xe(r),h=Nw(u.wt)+"/documents",y={writes:a.map(w=>Lw(u.wt,w))};yield u.ro("Commit",h,y)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ot();e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?fi.updateTime(e):fi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(e)}return fi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class zq{constructor(t,e,i,r,a){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new QR(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,be.Z)(function*(){const e=new $q(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Nc(a)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!bw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!yV(e)}return!1}}class qq{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=fr.UNAUTHENTICATED,this.clientId=IL.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,be.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function KB(n,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield yB(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Yk.apply(this,arguments)}function ZB(n,t){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Zk(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>FB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>FB(t.remoteStore,a)),n.onlineComponents=t}),Kk.apply(this,arguments)}function Zk(n){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,be.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield KB(n,new qB)),n.offlineComponents}),Qk.apply(this,arguments)}function mx(n){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,be.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield ZB(n,new Wk)),n.onlineComponents}),Xk.apply(this,arguments)}function QB(n){return Zk(n).then(t=>t.persistence)}function Jk(n){return Zk(n).then(t=>t.localStore)}function XB(n){return mx(n).then(t=>t.remoteStore)}function eO(n){return mx(n).then(t=>t.syncEngine)}function fy(n){return tO.apply(this,arguments)}function tO(){return tO=(0,be.Z)(function*(n){const t=yield mx(n),e=t.eventManager;return e.onListen=Dq.bind(null,t.syncEngine),e.onUnlisten=xq.bind(null,t.syncEngine),e}),tO.apply(this,arguments)}function JB(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,h,y){const w=new gx({next:A=>{a.enqueueAndForget(()=>_k(r,D));const O=A.docs.has(u);!O&&A.fromCache?y.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&h&&"server"===h.source?y.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),D=new bk(Ym(u.path),w,{includeMetadataChanges:!0,Du:!0});return mk(r,D)}(yield fy(n),n.asyncQueue,t,e,i)})),i.promise}function e2(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,h,y){const w=new gx({next:A=>{a.enqueueAndForget(()=>_k(r,D)),A.fromCache&&"server"===h.source?y.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),D=new bk(u,w,{includeMetadataChanges:!0,Du:!0});return mk(r,D)}(yield fy(n),n.asyncQueue,t,e,i)})),i.promise}const t2=new Map;function nO(n,t,e){if(!e)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function n2(n,t,e,i){if(!0===t&&!0===i)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function r2(n){if(!Ke.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s2(n){if(Ke.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ot()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yx(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function o2(n,t){if(t<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class a2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,n2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1,t instanceof ku?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(r.options.projectId)}(t))}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new nz;switch(e.type){case"gapi":const i=e.client;return kt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new oz(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=t2.get(t);e&&(Le("ComponentProvider","Removing Datastore"),t2.delete(t),e.terminate())}(this),Promise.resolve()}}class Yn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class ns{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class Ec extends ns{constructor(t,e,i){super(t,e,Ym(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new Ke(t))}withConverter(t){return new Ec(this.firestore,t,this._path)}}function l2(n,t,...e){if(n=(0,Kt.m9)(n),nO("collection","path",t),n instanceof Kw){const i=un.fromString(t,...e);return s2(i),new Ec(n,null,i)}{if(!(n instanceof Yn||n instanceof Ec))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(t,...e));return s2(i),new Ec(n.firestore,null,i)}}function _x(n,t,...e){if(n=(0,Kt.m9)(n),1===arguments.length&&(t=IL.I()),nO("doc","path",t),n instanceof Kw){const i=un.fromString(t,...e);return r2(i),new Yn(n,null,new Ke(i))}{if(!(n instanceof Yn||n instanceof Ec))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(t,...e));return r2(i),new Yn(n.firestore,n instanceof Ec?n.converter:null,new Ke(i))}}function c2(n,t){return n=(0,Kt.m9)(n),t=(0,Kt.m9)(t),(n instanceof Yn||n instanceof Ec)&&(t instanceof Yn||t instanceof Ec)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function u2(n,t){return n=(0,Kt.m9)(n),t=(0,Kt.m9)(t),n instanceof ns&&t instanceof ns&&n.firestore===t.firestore&&Aw(n._query,t._query)&&n.converter===t.converter}class iW{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new QR(this,"async_queue_retry"),this.Kc=()=>{const e=hx();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=hx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=hx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new pr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,be.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!gh(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,zi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=gk.createAndSchedule(this,t,e,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&ot()}verifyOperationInProgress(){}zc(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function iO(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class rW{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class li extends Kw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new iW,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||d2(this),this._firestoreClient.terminate()}}function Wi(n){return n._firestoreClient||d2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function d2(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new mz(n._databaseId,a,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new qq(n._authCredentials,n._appCheckCredentials,n._queue,i)}function h2(n,t,e){const i=new pr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield KB(n,e),yield ZB(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function f2(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(er.fromBase64String(t))}catch(e){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dc(er.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Op{constructor(t){this._methodName=t}}class vx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}}const pW=/^__.*__$/;class gW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Fu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xm(t,this.data,e,this.fieldTransforms)}}class p2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Fu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function g2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class wx{constructor(t,e,i,r,a,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new wx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Ex(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(g2(this.Zc)&&pW.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class mW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||qw(t)}aa(t,e,i,r=!1){return new wx({Zc:t,methodName:e,ca:i,path:Ai.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Fp(n){const t=n._freezeSettings(),e=qw(n._databaseId);return new mW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bx(n,t,e,i,r,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,t,e,r);aO("Data must be an object, but it was:",u,i);const h=_2(i,u);let y,w;if(a.merge)y=new Po(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const D=[];for(const A of a.mergeFields){const O=lO(t,A,e);if(!u.contains(O))throw new Oe(fe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);w2(D,O)||D.push(O)}y=new Po(D),w=u.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,w=u.fieldTransforms;return new gW(new Gr(h),y,w)}class Zw extends Op{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zw}}function m2(n,t,e){return new wx({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class rO extends Op{_toFieldTransform(t){return new Iw(t.path,new Zm)}isEqual(t){return t instanceof rO}}class yW extends Op{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=m2(this,t,!0),i=this.ha.map(a=>Pp(a,e)),r=new Ep(i);return new Iw(t.path,r)}isEqual(t){return this===t}}class _W extends Op{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=m2(this,t,!0),i=this.ha.map(a=>Pp(a,e)),r=new Dp(i);return new Iw(t.path,r)}isEqual(t){return this===t}}class vW extends Op{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Qm(t.wt,oV(t.wt,this.la));return new Iw(t.path,e)}isEqual(t){return this===t}}function sO(n,t,e,i){const r=n.aa(1,t,e);aO("Data must be an object, but it was:",r,i);const a=[],u=Gr.empty();_p(i,(y,w)=>{const D=Cx(t,y,e);w=(0,Kt.m9)(w);const A=r.ia(D);if(w instanceof Zw)a.push(D);else{const O=Pp(w,A);null!=O&&(a.push(D),u.set(D,O))}});const h=new Po(a);return new p2(u,h,r.fieldTransforms)}function oO(n,t,e,i,r,a){const u=n.aa(1,t,e),h=[lO(t,i,e)],y=[r];if(a.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)h.push(lO(t,a[O])),y.push(a[O+1]);const w=[],D=Gr.empty();for(let O=h.length-1;O>=0;--O)if(!w2(w,h[O])){const V=h[O];let B=y[O];B=(0,Kt.m9)(B);const X=u.ia(V);if(B instanceof Zw)w.push(V);else{const de=Pp(B,X);null!=de&&(w.push(V),D.set(V,de))}}const A=new Po(w);return new p2(D,A,u.fieldTransforms)}function y2(n,t,e,i=!1){return Pp(e,n.aa(i?4:3,t))}function Pp(n,t){if(v2(n=(0,Kt.m9)(n)))return aO("Unsupported field value:",t,n),_2(n,t);if(n instanceof Op)return function(e,i){if(!g2(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const u of e){let h=Pp(u,i.ra(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Kt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oV(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ai.fromDate(e);return{timestampValue:Fw(i.wt,r)}}if(e instanceof ai){const r=new ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fw(i.wt,r)}}if(e instanceof vx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dc)return{bytesValue:AV(i.wt,e._byteString)};if(e instanceof Yn){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:IR(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${yx(e)}`)}(n,t)}function _2(n,t){const e={};return NL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_p(n,(i,r)=>{const a=Pp(r,t.ea(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function v2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ai||n instanceof vx||n instanceof Dc||n instanceof Yn||n instanceof Op)}function aO(n,t,e){if(!v2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=yx(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function lO(n,t,e){if((t=(0,Kt.m9)(t))instanceof Nu)return t._internalPath;if("string"==typeof t)return Cx(n,t);throw Ex("Field path arguments must be of type string or ",n,!1,void 0,e)}const wW=new RegExp("[~\\*/\\[\\]]");function Cx(n,t,e){if(t.search(wW)>=0)throw Ex(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Nu(...t.split("."))._internalPath}catch{throw Ex(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ex(n,t,e,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${i}`),u&&(y+=` in document ${r}`),y+=")"),new Oe(fe.INVALID_ARGUMENT,h+n+y)}function w2(n,t){return n.some(e=>e.isEqual(t))}class Qw{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bW extends Qw{data(){return super.data()}}function Dx(n,t){return"string"==typeof t?Cx(n,t):t instanceof Nu?t._internalPath:t._delegate._internalPath}class Np{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lu extends Qw{constructor(t,e,i,r,a,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Dx("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Xw extends Lu{data(t={}){return super.data(t)}}class Sh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Np(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Xw(this._firestore,this._userDataWriter,i.key,i,new Np(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Xw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Np(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Xw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Np(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,w=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:CW(u.type),doc:h,oldIndex:y,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function CW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function b2(n,t){return n instanceof Lu&&t instanceof Lu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Sh&&t instanceof Sh&&n._firestore===t._firestore&&u2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function C2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jw{}function Ah(n,...t){for(const e of t)n=e._apply(n);return n}class EW extends Jw{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Fp(t.firestore),i=function(r,a,u,h,y,w,D){let A;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){I2(D,w);const V=[];for(const B of D)V.push(A2(h,r,B));A={arrayValue:{values:V}}}else A=A2(h,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||I2(D,w),A=y2(u,"where",D,"in"===w||"not-in"===w);const O=$r.create(y,w,A);return function(V,B){if(B.ht()){const de=ER(V);if(null!==de&&!de.isEqual(B.field))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${de.toString()}' and '${B.field.toString()}'`);const Fe=CR(V);null!==Fe&&T2(0,B.field,Fe)}const X=function(de,Fe){for(const tt of de.filters)if(Fe.indexOf(tt.op)>=0)return tt.op;return null}(V,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==X)throw new Oe(fe.INVALID_ARGUMENT,X===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${X.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new ns(t.firestore,t.converter,function(r,a){const u=r.filters.concat([a]);return new Ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class xW extends Jw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Wm(r,a);return function(h,y){if(null===CR(h)){const w=ER(h);null!==w&&T2(0,w,y.field)}}(i,u),u}(t._query,this.fa,this.wa);return new ns(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Ou(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class E2 extends Jw{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new ns(t.firestore,t.converter,eV(t._query,this.ma,this.ga))}}class D2 extends Jw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=S2(t,this.type,this.ya,this.pa);return new ns(t.firestore,t.converter,(r=e,new Ou((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class x2 extends Jw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=S2(t,this.type,this.ya,this.pa);return new ns(t.firestore,t.converter,(r=e,new Ou((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function S2(n,t,e,i){if(e[0]=(0,Kt.m9)(e[0]),e[0]instanceof Qw)return function(r,a,u,h,y){if(!h)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of Km(r))if(D.field.isKeyField())w.push(bp(a,h.key));else{const A=h.data.field(D.field);if(vR(A))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=D.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}w.push(A)}return new vh(w,y)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Fp(n.firestore);return function(a,u,h,y,w,D){const A=a.explicitOrderBy;if(w.length>A.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<w.length;V++){const B=w[V];if(A[V].field.isKeyField()){if("string"!=typeof B)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof B}`);if(!DR(a)&&-1!==B.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${B}' contains a slash.`);const X=a.path.child(un.fromString(B));if(!Ke.isDocumentKey(X))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const de=new Ke(X);O.push(bp(u,de))}else{const X=y2(h,y,B);O.push(X)}}return new vh(O,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function A2(n,t,e){if("string"==typeof(e=(0,Kt.m9)(e))){if(""===e)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DR(t)&&-1!==e.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(un.fromString(e));if(!Ke.isDocumentKey(i))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bp(n,new Ke(i))}if(e instanceof Yn)return bp(n,e._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yx(e)}.`)}function I2(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,t,e){if(!e.isEqual(t))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const OW={maxAttempts:5};class cO{convertValue(t,e="none"){switch(wp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ci(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ot()}}convertObject(t,e){const i={};return _p(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new vx(Ci(t.latitude),Ci(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=VL(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ww(t));default:return null}}convertTimestamp(t){const e=mh(t);return new ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=un.fromString(t);kt(LV(i));const r=new ku(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return r.isEqual(e)||zi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function xx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class FW extends cO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}class M2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Fp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ih(t,this._firestore),a=xx(r.converter,e,i),u=bx(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,fi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Ih(t,this._firestore);let u;return u="string"==typeof(e=(0,Kt.m9)(e))||e instanceof Nu?oO(this._dataReader,"WriteBatch.update",a._key,e,i,r):sO(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ih(t,this._firestore);return this._mutations=this._mutations.concat(new Jm(e._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ih(n,t){if((n=(0,Kt.m9)(n)).firestore!==t)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends cO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}function R2(n,t,e){n=an(n,Yn);const i=an(n.firestore,li),r=xx(n.converter,t,e);return py(i,[bx(Fp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,fi.none())])}function k2(n,t,e,...i){n=an(n,Yn);const r=an(n.firestore,li),a=Fp(r);let u;return u="string"==typeof(t=(0,Kt.m9)(t))||t instanceof Nu?oO(a,"updateDoc",n._key,t,e,i):sO(a,"updateDoc",n._key,t),py(r,[u.toMutation(n._key,fi.exists(!0))])}function O2(n,...t){var e,i,r;n=(0,Kt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||iO(t[u])||(a=t[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(iO(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let y,w,D;if(n instanceof Yn)w=an(n.firestore,li),D=Ym(n._key.path),y={next:A=>{t[u]&&t[u](uO(w,n,A))},error:t[u+1],complete:t[u+2]};else{const A=an(n,ns);w=an(A.firestore,li),D=A._query;const O=new Lp(w);y={next:V=>{t[u]&&t[u](new Sh(w,O,A,V))},error:t[u+1],complete:t[u+2]},C2(n._query)}return function(A,O,V,B){const X=new gx(B),de=new bk(O,X,V);return A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return mk(yield fy(A),de)})),()=>{X.Tc(),A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return _k(yield fy(A),de)}))}}(Wi(w),D,h,y)}function py(n,t){return function(e,i){const r=new pr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Sq(n,t,e){return Sk.apply(this,arguments)}(yield eO(e),i,r)})),r.promise}(Wi(n),t)}function uO(n,t,e){const i=e.docs.get(t._key),r=new Lp(n);return new Lu(n,r,t._key,i,new Np(e.hasPendingWrites,e.fromCache),t.converter)}class $W extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Fp(t)}get(t){const e=Ih(t,this._firestore),i=new FW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ot();const a=r[0];if(a.isFoundDocument())return new Qw(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new Qw(this._firestore,i,e._key,null,e.converter);throw ot()})}set(t,e,i){const r=Ih(t,this._firestore),a=xx(r.converter,e,i),u=bx(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const a=Ih(t,this._firestore);let u;return u="string"==typeof(e=(0,Kt.m9)(e))||e instanceof Nu?oO(this._dataReader,"Transaction.update",a._key,e,i,r):sO(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=Ih(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ih(t,this._firestore),i=new Lp(this._firestore);return super.get(t).then(r=>new Lu(this._firestore,i,e._key,r._document,new Np(!1,!1),e.converter))}}function dO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function P2(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function N2(){if(!function pz(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Gm=up.SDK_VERSION,(0,up._registerComponent)(new fD.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),a=new li(r,new rz(e.getProvider("auth-internal")),new az(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC")),(0,up.registerVersion)(xL,"3.4.10",n),(0,up.registerVersion)(xL,"3.4.10","esm2017")}();class eb{constructor(t){this._delegate=t}static fromBase64String(t){return N2(),new eb(Dc.fromBase64String(t))}static fromUint8Array(t){return P2(),new eb(Dc.fromUint8Array(t))}toBase64(){return N2(),this._delegate.toBase64()}toUint8Array(){return P2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hO(n){return function JW(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class eY{enableIndexedDbPersistence(t,e){return function oW(n,t){f2(n=an(n,li));const e=Wi(n),i=n._freezeSettings(),r=new Wk;return h2(e,r,new WB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function aW(n){f2(n=an(n,li));const t=Wi(n),e=n._freezeSettings(),i=new Wk;return h2(t,i,new jq(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function lW(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!Cl.V())return Promise.resolve();const r=i+"main";yield Cl.delete(r)}),function(i){return e.apply(this,arguments)})(HR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class L2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ku||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&mw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function tW(n,t,e,i={}){var r;const a=(n=an(n,Kw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&mw("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=fr.MOCK_USER;else{u=(0,Kt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fr(y)}n._authCredentials=new iz(new SL(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function uW(n){return function Wq(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield QB(n),e=yield XB(n);return t.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.lu.delete(0),Ww(r)}(e)}))}(Wi(n=an(n,li)))}(this._delegate)}disableNetwork(){return function dW(n){return function Yq(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield QB(n),e=yield XB(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=Xe(r);a.lu.add(0),yield oy(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Wi(n=an(n,li)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,n2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cW(n){return function(t){const e=new pr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Mq(n,t){return Rk.apply(this,arguments)}(yield eO(t),e)})),e.promise}(Wi(n=an(n,li)))}(this._delegate)}onSnapshotsInSync(t){return function GW(n,t){return function Qq(n,t){const e=new gx(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield fy(n),r=e,Xe(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield fy(n),r=e,void Xe(i).Tu.delete(r);var i,r}))}}(Wi(n=an(n,li)),iO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new gy(this,l2(this._delegate,t))}catch(e){throw Es(e,"collection()","Firestore.collection()")}}doc(t){try{return new xa(this,_x(this._delegate,t))}catch(e){throw Es(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ds(this,function nW(n,t){if(n=an(n,Kw),nO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(e=t,new Ou(un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Es(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function zW(n,t,e){n=an(n,li);const i=Object.assign(Object.assign({},OW),e);return function(r){if(r.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function Xq(n,t,e){const i=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(a=n,mx(a).then(u=>u.datastore));var a;new zq(n.asyncQueue,r,e,t,i).run()})),i.promise}(Wi(n),r=>t(new $W(n,r)),i)}(this._delegate,e=>t(new V2(this,e)))}batch(){return Wi(this._delegate),new B2(new M2(this._delegate,t=>py(this._delegate,t)))}loadBundle(t){return function hW(n,t){const e=Wi(n=an(n,li)),i=new rW;return function Jq(n,t,e,i){const r=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return YB(y,w);if(y instanceof ArrayBuffer)return YB(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Gq(y,u);var y}(e,qw(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function Hq(n,t,e){const i=Xe(n);var r;(r=(0,be.Z)(function*(a,u,h){try{const y=yield u.getMetadata();if(yield function(O,V){const B=Xe(O),X=gr(V.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",de=>B.Ds.getBundleMetadata(de,V.id)).then(de=>!!de&&de.createTime.compareTo(X)>=0)}(a.localStore,y))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=y).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(LB(y));const w=new wq(y,a.localStore,u.wt);let D=yield u.fc();for(;D;){const O=yield w.Nu(D);O&&h._updateProgress(O),D=yield u.fc()}const A=yield w.complete();return yield Pu(a,A.Mu,void 0),yield function(O,V){const B=Xe(O);return B.persistence.runTransaction("Save bundle","readwrite",X=>B.Ds.saveBundleMetadata(X,V))}(a.localStore,y),h._completeWith(A.progress),Promise.resolve(A.Ou)}catch(y){return mw("SyncEngine",`Loading bundle failed with ${y}`),h._failWith(y),Promise.resolve(new Set)}var O}),function(a,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function fW(n,t){return function eW(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=Xe(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield Jk(n),t)}))}(Wi(n=an(n,li)),t).then(e=>e?new ns(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ds(this,e):null)}}class Sx extends cO{constructor(t){super(),this.firestore=t}convertBytes(t){return new eb(new Dc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return xa.forKey(e,this.firestore,null)}}class V2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Sx(t)}get(t){const e=Bp(t);return this._delegate.get(e).then(i=>new tb(this._firestore,new Lu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Bp(t);return i?(dO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Bp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Bp(t);return this._delegate.delete(e),this}}class B2{constructor(t){this._delegate=t}set(t,e,i){const r=Bp(t);return i?(dO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Bp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Bp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Vp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Xw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Vp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new Vp(t,new Sx(t),e),r.set(e,a)),a}}Vp.INSTANCES=new WeakMap;class xa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new xa(e,new Yn(e._delegate,i,new Ke(t)))}static forKey(t,e,i){return new xa(e,new Yn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new gy(this.firestore,l2(this._delegate,t))}catch(e){throw Es(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Kt.m9)(t))instanceof Yn&&c2(this._delegate,t)}set(t,e){e=dO("DocumentReference.set",e);try{return e?R2(this._delegate,t,e):R2(this._delegate,t)}catch(i){throw Es(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?k2(this._delegate,t):k2(this._delegate,t,e,...i)}catch(r){throw Es(r,"updateDoc()","DocumentReference.update()")}}delete(){return function HW(n){return py(an(n.firestore,li),[new Jm(n._key,fi.none())])}(this._delegate)}onSnapshot(...t){const e=U2(t),i=H2(t,r=>new tb(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return O2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function NW(n){n=an(n,Yn);const t=an(n.firestore,li),e=Wi(t),i=new Lp(t);return function Kq(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const h=yield function(y,w){const D=Xe(y);return D.persistence.runTransaction("read document","readonly",A=>D.localDocuments.getDocument(A,w))}(r,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const y=cy(h,`Failed to get document '${a} from cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield Jk(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Lu(t,i,n._key,r,new Np(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function LW(n){n=an(n,Yn);const t=an(n.firestore,li);return JB(Wi(t),n._key,{source:"server"}).then(e=>uO(t,n,e))}(this._delegate):function PW(n){n=an(n,Yn);const t=an(n.firestore,li);return JB(Wi(t),n._key).then(e=>uO(t,n,e))}(this._delegate),e.then(i=>new tb(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new xa(this.firestore,this._delegate.withConverter(t?Vp.getInstance(this.firestore,t):null))}}function Es(n,t,e){return n.message=n.message.replace(t,e),n}function U2(n){for(const t of n)if("object"==typeof t&&!hO(t))return t;return{}}function H2(n,t){var e,i;let r;return r=hO(n[0])?n[0]:hO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class tb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return b2(this._delegate,t._delegate)}}class nb extends tb{data(t){const e=this._delegate.data(t);return function tz(n,t){n||ot()}(void 0!==e),e}}class Ds{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sx(t)}where(t,e,i){try{return new Ds(this.firestore,Ah(this._delegate,function DW(n,t,e){const i=t,r=Dx("where",n);return new EW(r,i,e)}(t,e,i)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ds(this.firestore,Ah(this._delegate,function SW(n,t="asc"){const e=t,i=Dx("orderBy",n);return new xW(i,e)}(t,e)))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ds(this.firestore,Ah(this._delegate,function AW(n){return o2("limit",n),new E2("limit",n,"F")}(t)))}catch(e){throw Es(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ds(this.firestore,Ah(this._delegate,function IW(n){return o2("limitToLast",n),new E2("limitToLast",n,"L")}(t)))}catch(e){throw Es(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ds(this.firestore,Ah(this._delegate,function TW(...n){return new D2("startAt",n,!0)}(...t)))}catch(e){throw Es(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ds(this.firestore,Ah(this._delegate,function MW(...n){return new D2("startAfter",n,!1)}(...t)))}catch(e){throw Es(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ds(this.firestore,Ah(this._delegate,function RW(...n){return new x2("endBefore",n,!1)}(...t)))}catch(e){throw Es(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ds(this.firestore,Ah(this._delegate,function kW(...n){return new x2("endAt",n,!0)}(...t)))}catch(e){throw Es(e,"endAt()","Query.endAt()")}}isEqual(t){return u2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function BW(n){n=an(n,ns);const t=an(n.firestore,li),e=Wi(t),i=new Lp(t);return function Zq(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const h=yield cx(r,a,!0),y=new UB(a,h.ji),w=y.Ku(h.documents),D=y.applyChanges(w,!1);u.resolve(D.snapshot)}catch(h){const y=cy(h,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield Jk(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Sh(t,i,n,r))}(this._delegate):"server"===t?.source?function UW(n){n=an(n,ns);const t=an(n.firestore,li),e=Wi(t),i=new Lp(t);return e2(e,n._query,{source:"server"}).then(r=>new Sh(t,i,n,r))}(this._delegate):function VW(n){n=an(n,ns);const t=an(n.firestore,li),e=Wi(t),i=new Lp(t);return C2(n._query),e2(e,n._query).then(r=>new Sh(t,i,n,r))}(this._delegate),e.then(i=>new fO(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=U2(t),i=H2(t,r=>new fO(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return O2(this._delegate,e,i)}withConverter(t){return new Ds(this.firestore,this._delegate.withConverter(t?Vp.getInstance(this.firestore,t):null))}}class nY{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new nb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new nb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new nY(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new nb(this._firestore,i))})}isEqual(t){return b2(this._delegate,t._delegate)}}class gy extends Ds{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new xa(this.firestore,t):null}doc(t){try{return new xa(this.firestore,void 0===t?_x(this._delegate):_x(this._delegate,t))}catch(e){throw Es(e,"doc()","CollectionReference.doc()")}}add(t){return function jW(n,t){const e=an(n.firestore,li),i=_x(n),r=xx(n.converter,t);return py(e,[bx(Fp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,fi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new xa(this.firestore,e))}isEqual(t){return c2(this._delegate,t._delegate)}withConverter(t){return new gy(this.firestore,this._delegate.withConverter(t?Vp.getInstance(this.firestore,t):null))}}function Bp(n){return an(n,Yn)}class pO{constructor(...t){this._delegate=new Nu(...t)}static documentId(){return new pO(Ai.keyField().canonicalString())}isEqual(t){return(t=(0,Kt.m9)(t))instanceof Nu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Up{constructor(t){this._delegate=t}static serverTimestamp(){const t=function WW(){return new rO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Up(t)}static delete(){const t=function qW(){return new Zw("deleteField")}();return t._methodName="FieldValue.delete",new Up(t)}static arrayUnion(...t){const e=function YW(...n){return new yW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Up(e)}static arrayRemove(...t){const e=function KW(...n){return new _W("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Up(e)}static increment(t){const e=function ZW(n){return new vW("increment",n)}(t);return e._methodName="FieldValue.increment",new Up(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const iY={Firestore:L2,GeoPoint:vx,Timestamp:ai,Blob:eb,Transaction:V2,WriteBatch:B2,DocumentReference:xa,DocumentSnapshot:tb,Query:Ds,QueryDocumentSnapshot:nb,QuerySnapshot:fO,CollectionReference:gy,FieldPath:pO,FieldValue:Up,setLogLevel:function tY(n){!function ez(n){fh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sY(n){(function rY(n,t){n.INTERNAL.registerComponent(new fD.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},iY)))})(n,(t,e)=>new L2(t,e,new eY)),n.registerVersion("@firebase/firestore-compat","0.1.19")}(q$.Z);var Ax=P(5363),oY=P(6063);class aY extends xt.x{constructor(t=1/0,e=1/0,i=oY.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;e||(i.push(t),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!t.closed;u+=i?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=e.now();let h=0;for(let y=1;y<i.length&&i[y]<=u;y+=2)h=y;h&&i.splice(0,h+1)}}}function j2(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,h_.B)({connector:()=>new aY(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function G2(n,t){return(0,Io.m)(t)?Si(()=>n,t):Si(()=>n)}var gO=P(9468);P(5867);const z2=new Map,hY={activated:!1,tokenObservers:[]},fY={initialized:!1,enabled:!1};function _r(n){return z2.get(n)||hY}function El(n,t){z2.set(n,t)}function Tx(){return fY}class _Y{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new Kt.BH,yield function vY(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Kt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const xs=new Kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function W2(n){if(!_r(n).activated)throw xs.create("use-before-activation",{appName:n.name})}function vO(n,t){return wO.apply(this,arguments)}function wO(){return wO=(0,be.Z)(function*({url:n,body:t},e){var i,r;const a={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(t),headers:a};let y,w;try{y=yield fetch(n,h)}catch(V){throw xs.create("fetch-network-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}if(200!==y.status)throw xs.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(V){throw xs.create("fetch-parse-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const A=1e3*Number(D[1]),O=Date.now();return{token:w.token,expireTimeMillis:O+A,issuedAtTimeMillis:O}}),wO.apply(this,arguments)}function DY(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const ib="firebase-app-check-store";let kx=null;function K2(){return kx||(kx=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;t(xs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ib,{keyPath:"compositeKey"})}}catch(i){t(xs.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),kx)}function bO(){return bO=(0,be.Z)(function*(n,t){const i=(yield K2()).transaction(ib,"readwrite"),a=i.objectStore(ib).put({compositeKey:n,value:t});return new Promise((u,h)=>{a.onsuccess=y=>{u()},i.onerror=y=>{var w;h(xs.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),bO.apply(this,arguments)}const rb=new uh.Yd("@firebase/app-check");function J2(n,t){return(0,Kt.hl)()?function IY(n,t){return function Z2(n,t){return bO.apply(this,arguments)}(function X2(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{rb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function eU(){return Tx().enabled}function tU(){return xO.apply(this,arguments)}function xO(){return xO=(0,be.Z)(function*(){const n=Tx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),xO.apply(this,arguments)}const FY={error:"UNKNOWN_ERROR"};function PY(n){return Kt.US.encodeString(JSON.stringify(n),!1)}function Ox(n){return SO.apply(this,arguments)}function SO(){return SO=(0,be.Z)(function*(n,t=!1){const e=n.app;W2(e);const i=_r(e);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&Fx(y)&&(r=y)}if(!t&&r&&Fx(r))return{token:r.token};let h,u=!1;if(eU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vO(DY(e,yield tU()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const y=yield i.exchangeTokenPromise;return yield J2(e,y),El(e,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?rb.warn(y.message):rb.error(y),a=y}return r?(h={token:r.token},El(e,Object.assign(Object.assign({},i),{token:r})),yield J2(e,r)):h=LY(a),u&&iU(e,h),h}),SO.apply(this,arguments)}function IO(n,t){const e=_r(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),El(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function nU(n){const{app:t}=n,e=_r(t);let i=e.tokenRefresher;i||(i=function NY(n){const{app:t}=n;return new _Y((0,be.Z)(function*(){let i;if(i=_r(t).token?yield Ox(n,!0):yield Ox(n),i.error)throw i.error}),()=>!0,()=>{const e=_r(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),El(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function iU(n,t){const e=_r(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Fx(n){return n.expireTimeMillis-Date.now()>0}function LY(n){return{token:PY(FY),error:n}}class VY{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_r(this.app);for(const e of t)IO(this.app,e.next);return Promise.resolve()}}const dU="app-check-internal";!function XY(){(0,up._registerComponent)(new fD.wA("app-check",n=>function BY(n,t){return new VY(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(dU).initialize()})),(0,up._registerComponent)(new fD.wA(dU,n=>function UY(n){return{getToken:t=>Ox(n,t),addTokenListener:t=>function AO(n,t,e,i){const{app:r}=n,a=_r(r),u={next:e,error:i,type:t};if(El(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Fx(a.token)){const h=a.token;Promise.resolve().then(()=>{e({token:h.token}),nU(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>nU(n))}(n,"INTERNAL",t),removeTokenListener:t=>IO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,up.registerVersion)("@firebase/app-check","0.5.9")}();class kO{constructor(){return(0,Vr.vb)("app-check")}}typeof window<"u"&&window;var i8=P(127);const fU=new l.OlP("angularfire2.auth.use-emulator"),pU=new l.OlP("angularfire2.auth.settings"),gU=new l.OlP("angularfire2.auth.tenant-id"),mU=new l.OlP("angularfire2.auth.langugage-code"),yU=new l.OlP("angularfire2.auth.use-device-language"),_U=new l.OlP("angularfire.auth.persistence"),vU=(n,t,e,i,r,a,u,h)=>(0,bl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=t.runOutsideAngular(()=>n.auth());if(e&&y.useEmulator(...e),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))y.settings[w]=D;return h&&y.setPersistence(h),y},[e,i,r,a,u,h]);let wU=(()=>{class n{constructor(e,i,r,a,u,h,y,w,D,A,O,V){const B=new xt.x,X=at(void 0).pipe((0,Ax.Q)(u.outsideAngular),Si(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9916)))),(0,st.U)(()=>(0,bl.on)(e,a,i)),(0,st.U)(de=>vU(de,a,h,w,D,A,y,O)),j2({bufferSize:1,refCount:!1}));if(Nn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{X.pipe(ba()).subscribe();const Fe=X.pipe(Si(lt=>lt.getRedirectResult().then(Nt=>Nt,()=>null)),Vr.iC,j2({bufferSize:1,refCount:!1})),tt=X.pipe(Si(lt=>new qn.y(Nt=>({unsubscribe:a.runOutsideAngular(()=>lt.onAuthStateChanged(Ht=>Nt.next(Ht),Ht=>Nt.error(Ht),()=>Nt.complete()))})))),vt=X.pipe(Si(lt=>new qn.y(Nt=>({unsubscribe:a.runOutsideAngular(()=>lt.onIdTokenChanged(Ht=>Nt.next(Ht),Ht=>Nt.error(Ht),()=>Nt.complete()))}))));this.authState=Fe.pipe(G2(tt),(0,gO.R)(u.outsideAngular),(0,Ax.Q)(u.insideAngular)),this.user=Fe.pipe(G2(vt),(0,gO.R)(u.outsideAngular),(0,Ax.Q)(u.insideAngular)),this.idToken=this.user.pipe(Si(lt=>lt?(0,sn.D)(lt.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Si(lt=>lt?(0,sn.D)(lt.getIdTokenResult()):at(null))),this.credential=(0,ma.T)(Fe,B,this.authState.pipe(Hi(lt=>!lt))).pipe((0,st.U)(lt=>lt?.user?lt:null),(0,gO.R)(u.outsideAngular),(0,Ax.Q)(u.insideAngular))}return(0,bl.pX)(this,X,a,{spy:{apply:(de,Fe,tt)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&tt.then(vt=>B.next(vt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bl.Dh),l.LFG(bl.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Vr.HU),l.LFG(fU,8),l.LFG(pU,8),l.LFG(gU,8),l.LFG(mU,8),l.LFG(yU,8),l.LFG(_U,8),l.LFG(kO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bU(n,t){return function s8(n,t=Eg.z){return new qn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function FO(n,t){return bU(n,t).pipe((0,st.U)(e=>({payload:e,type:"query"})))}function Nx(n,t){return FO(n,t).pipe(hl(void 0),bM(),(0,st.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const y=r.find(D=>D.doc.ref.isEqual(u.ref)),w=e?.payload.docs.find(D=>D.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function CU(n,t,e){return Nx(n,e).pipe(cm((i,r)=>function a8(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function l8(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return PO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return PO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return PO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),qy(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function PO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function EU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DU{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Nx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,st.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(hl(void 0),bM(),Hi(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),Vr.iC)}auditTrail(t){return this.stateChanges(t).pipe(cm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=EU(t);return CU(this.query,e,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(t={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Vr.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Vr.iC)}add(t){return this.ref.add(t)}doc(t){return new xU(this.ref.doc(t),this.afs)}}class xU{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=IU(i,e);return new DU(r,a,this.afs)}snapshotChanges(){return function o8(n,t){return bU(n,t).pipe(hl(void 0),bM(),(0,st.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,st.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,sn.D)(this.ref.get(t)).pipe(Vr.iC)}}class c8{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Nx(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Hi(e=>e.length>0),Vr.iC):Nx(this.query,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}auditTrail(t){return this.stateChanges(t).pipe(cm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=EU(t);return CU(this.query,e,this.afs.schedulers.outsideAngular).pipe(Vr.iC)}valueChanges(t={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Vr.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Vr.iC)}}const SU=new l.OlP("angularfire2.enableFirestorePersistence"),AU=new l.OlP("angularfire2.firestore.persistenceSettings"),u8=new l.OlP("angularfire2.firestore.settings"),d8=new l.OlP("angularfire2.firestore.use-emulator");function IU(n,t=(e=>e)){return{query:t(n),ref:n}}let TU=(()=>{class n{constructor(e,i,r,a,u,h,y,w,D,A,O,V,B,X,de,Fe,tt){this.schedulers=y;const vt=(0,bl.on)(e,h,i),lt=D;A&&vU(vt,h,O,B,X,de,V,Fe),[this.firestore,this.persistenceEnabled$]=(0,bl.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const Nt=h.runOutsideAngular(()=>vt.firestore());if(a&&Nt.settings(a),lt&&Nt.useEmulator(...lt),r&&!Nn(u)){const Ht=()=>{try{return(0,sn.D)(Nt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(mn){return typeof console<"u"&&console.warn(mn),at(!1)}};return[Nt,h.runOutsideAngular(Ht)]}return[Nt,at(!1)]},[a,lt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=IU(r,i),h=this.schedulers.ngZone.run(()=>a);return new DU(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),a=this.firestore.collectionGroup(e);return new c8(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new xU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bl.Dh),l.LFG(bl.xv,8),l.LFG(SU,8),l.LFG(u8,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Vr.HU),l.LFG(AU,8),l.LFG(d8,8),l.LFG(wU,8),l.LFG(fU,8),l.LFG(pU,8),l.LFG(gU,8),l.LFG(mU,8),l.LFG(yU,8),l.LFG(_U,8),l.LFG(kO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),h8=(()=>{class n{constructor(){i8.Z.registerVersion("angularfire",Vr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:SU,useValue:!0},{provide:AU,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[TU]}),n})();const rn=!1;function MU(n){return new l.vHH(3e3,rn)}function W8(){return typeof window<"u"&&typeof window.document<"u"}function NO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Th(n){switch(n.length){case 0:return new qr;case 1:return n[0];default:return new aa(n)}}function RU(n,t,e,i,r=new Map,a=new Map){const u=[],h=[];let y=-1,w=null;if(i.forEach(D=>{const A=D.get("offset"),O=A==y,V=O&&w||new Map;D.forEach((B,X)=>{let de=X,Fe=B;if("offset"!==X)switch(de=t.normalizePropertyName(de,u),Fe){case"!":Fe=r.get(X);break;case Wt:Fe=a.get(X);break;default:Fe=t.normalizeStyleValue(X,de,Fe,u)}V.set(de,Fe)}),O||h.push(V),w=V,y=A}),u.length)throw function P8(n){return new l.vHH(3502,rn)}();return h}function LO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&VO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&VO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&VO(e,"destroy",n)))}}function VO(n,t,e){const a=BO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function BO(n,t,e,i,r="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function No(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function kU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let UO=(n,t)=>!1,OU=(n,t,e)=>[],FU=null;function HO(n){const t=n.parentNode||n.host;return t===FU?null:t}(NO()||typeof Element<"u")&&(W8()?(FU=(()=>document.documentElement)(),UO=(n,t)=>{for(;t;){if(t===n)return!0;t=HO(t)}return!1}):UO=(n,t)=>n.contains(t),OU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Hp=null,PU=!1;const NU=UO,LU=OU;let VU=(()=>{class n{validateStyleProperty(e){return function K8(n){Hp||(Hp=function Z8(){return typeof document<"u"?document.body:null}()||{},PU=!!Hp.style&&"WebkitAppearance"in Hp.style);let t=!0;return Hp.style&&!function Y8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Hp.style,!t&&PU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return NU(e,i)}getParentElement(e){return HO(e)}query(e,i,r){return LU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,u,h=[],y){return new qr(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jO=(()=>{class n{}return n.NOOP=new VU,n})();const GO="ng-enter",Vx="ng-leave",Bx="ng-trigger",Ux=".ng-trigger",UU="ng-animating",$O=".ng-animating";function Mh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zO(parseFloat(t[1]),t[2])}function zO(n,t){return"s"===t?1e3*n:n}function Hx(n,t,e){return n.hasOwnProperty("duration")?n:function J8(n,t,e){let r,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(MU()),{duration:0,delay:0,easing:""};r=zO(parseFloat(h[1]),h[2]);const y=h[3];null!=y&&(a=zO(parseFloat(y),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,y=t.length;r<0&&(t.push(function f8(){return new l.vHH(3100,rn)}()),h=!0),a<0&&(t.push(function p8(){return new l.vHH(3101,rn)}()),h=!0),h&&t.splice(y,0,MU())}return{duration:r,delay:a,easing:u}}(n,t,e)}function sb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function HU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Rh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function GU(n,t,e){return e?t+":"+e+";":""}function $U(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=GU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=GU(0,i4(e),n.style[e]));n.setAttribute("style",t)}function xc(n,t,e){n.style&&(t.forEach((i,r)=>{const a=WO(r);e&&!e.has(r)&&e.set(r,n.style[a]),n.style[a]=i}),NO()&&$U(n))}function jp(n,t){n.style&&(t.forEach((e,i)=>{const r=WO(i);n.style[r]=""}),NO()&&$U(n))}function ob(n){return Array.isArray(n)?1==n.length?n[0]:qa(n):n}const qO=new RegExp("{{\\s*(.+?)\\s*}}","g");function zU(n){let t=[];if("string"==typeof n){let e;for(;e=qO.exec(n);)t.push(e[1]);qO.lastIndex=0}return t}function jx(n,t,e){const i=n.toString(),r=i.replace(qO,(a,u)=>{let h=t[u];return null==h&&(e.push(function m8(n){return new l.vHH(3003,rn)}()),h=""),h.toString()});return r==i?n:r}function Gx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const n4=/-+([a-z0-9])/g;function WO(n){return n.replace(n4,(...t)=>t[1].toUpperCase())}function i4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function y8(n){return new l.vHH(3004,rn)}()}}function qU(n,t){return window.getComputedStyle(n)[t]}function c4(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function u4(n,t,e){if(":"==n[0]){const y=function d4(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function R8(n){return new l.vHH(3016,rn)}()),"* => *"}}(n,e);if("function"==typeof y)return void t.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function M8(n){return new l.vHH(3015,rn)}()),t;const r=i[1],a=i[2],u=i[3];t.push(WU(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&t.push(WU(u,r))}(i,e,t)):e.push(n),e}const Wx=new Set(["true","1"]),Yx=new Set(["false","0"]);function WU(n,t){const e=Wx.has(n)||Yx.has(n),i=Wx.has(t)||Yx.has(t);return(r,a)=>{let u="*"==n||n==r,h="*"==t||t==a;return!u&&e&&"boolean"==typeof r&&(u=r?Wx.has(n):Yx.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?Wx.has(t):Yx.has(t)),u&&h}}const h4=new RegExp("s*:selfs*,?","g");function YO(n,t,e,i){return new f4(n).build(t,e,i)}class f4{constructor(t){this._driver=t}build(t,e,i){const r=new m4(e);return this._resetContextStyleTimingState(r),Lo(this,ob(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function v8(){return new l.vHH(3006,rn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const y=h,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,a.push(this.visitState(y,e))}),y.name=w}else if(1==h.type){const y=this.visitTransition(h,e);i+=y.queryCount,r+=y.depCount,u.push(y)}else e.errors.push(function w8(){return new l.vHH(3007,rn)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(y=>{zU(y).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(Gx(a.values()),e.errors.push(function b8(n,t){return new l.vHH(3008,rn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Lo(this,ob(t.animation),e);return{type:1,matchers:c4(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Lo(this,i,e)),options:Gp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(u=>{e.currentTime=i;const h=Lo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:a,options:Gp(t.options)}}visitAnimate(t,e){const i=function _4(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KO(Hx(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=KO(0,0,"");return a.dynamic=!0,a.strValue=e,a}const r=Hx(e,t);return KO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:Sn({});if(5==a.type)r=this.visitKeyframes(a,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=Sn(w)}e.currentTime+=i.duration+i.delay;const y=this.visitStyle(u,e);y.isEmptyStep=h,r=y}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Wt?i.push(h):e.errors.push(new l.vHH(3002,rn)):i.push(HU(h));let a=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let y of h.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,y)=>{const w=e.collectedStyles.get(e.currentQuerySelector),D=w.get(y);let A=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(e.errors.push(function E8(n,t,e,i,r){return new l.vHH(3010,rn)}()),A=!1),a=D.startTime),A&&w.set(y,{startTime:a,endTime:r}),e.options&&function t4(n,t,e){const i=t.params||{},r=zU(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function g8(n){return new l.vHH(3001,rn)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function D8(){return new l.vHH(3011,rn)}()),i;let a=0;const u=[];let h=!1,y=!1,w=0;const D=t.steps.map(Fe=>{const tt=this._makeStyleAst(Fe,e);let vt=null!=tt.offset?tt.offset:function y4(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(tt.styles),lt=0;return null!=vt&&(a++,lt=tt.offset=vt),y=y||lt<0||lt>1,h=h||lt<w,w=lt,u.push(lt),tt});y&&e.errors.push(function x8(){return new l.vHH(3012,rn)}()),h&&e.errors.push(function S8(){return new l.vHH(3200,rn)}());const A=t.steps.length;let O=0;a>0&&a<A?e.errors.push(function A8(){return new l.vHH(3202,rn)}()):0==a&&(O=1/(A-1));const V=A-1,B=e.currentTime,X=e.currentAnimateTimings,de=X.duration;return D.forEach((Fe,tt)=>{const vt=O>0?tt==V?1:O*tt:u[tt],lt=vt*de;e.currentTime=B+X.delay+lt,X.duration=lt,this._validateStyleAst(Fe,e),Fe.offset=vt,i.styles.push(Fe)}),i}visitReference(t,e){return{type:8,animation:Lo(this,ob(t.animation),e),options:Gp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function p4(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(h4,"")),n=n.replace(/@\*/g,Ux).replace(/@\w+/g,e=>Ux+"-"+e.slice(1)).replace(/:animating/g,$O),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,No(e.collectedStyles,e.currentQuerySelector,new Map);const h=Lo(this,ob(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Gp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function I8(){return new l.vHH(3013,rn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hx(t.timings,e.errors,!0);return{type:12,animation:Lo(this,ob(t.animation),e),timings:i,options:null}}}class m4{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Gp(n){return n?(n=sb(n)).params&&(n.params=function g4(n){return n?sb(n):null}(n.params)):n={},n}function KO(n,t,e){return{duration:n,delay:t,easing:e}}function ZO(n,t,e,i,r,a,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:h}}class Kx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const b4=new RegExp(":enter","g"),E4=new RegExp(":leave","g");function QO(n,t,e,i,r,a=new Map,u=new Map,h,y,w=[]){return(new D4).buildKeyframes(n,t,e,i,r,a,u,h,y,w)}class D4{buildKeyframes(t,e,i,r,a,u,h,y,w,D=[]){w=w||new Kx;const A=new XO(t,e,w,r,a,D,[]);A.options=y;const O=y.delay?Mh(y.delay):0;A.currentTimeline.delayNextStep(O),A.currentTimeline.setStyles([u],null,A.errors,y),Lo(this,i,A);const V=A.timelines.filter(B=>B.containsAnimation());if(V.length&&h.size){let B;for(let X=V.length-1;X>=0;X--){const de=V[X];if(de.element===e){B=de;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,A.errors,y)}return V.length?V.map(B=>B.buildKeyframes()):[ZO(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?Mh(i.duration):null,h=null!=i.delay?Mh(i.delay):null;return 0!==u&&t.forEach(y=>{const w=e.appendInstructionToTimeline(y,u,h);a=Math.max(a,w.duration+w.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Lo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zx);const u=Mh(a.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Lo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Mh(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);a&&h.delayNextStep(a),Lo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Hx(e.params?jx(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(y=>{h.forwardTime((y.offset||0)*a),h.setStyles(y.styles,y.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?Mh(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zx);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let y=null;h.forEach((w,D)=>{e.currentQueryIndex=D;const A=e.createSubContext(t.options,w);a&&A.delayNextStep(a),w===e.element&&(y=A.currentTimeline),Lo(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),h=u*(e.currentQueryTotal-1);let y=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=h-y;break;case"full":y=i.currentStaggerTime}const D=e.currentTimeline;y&&D.delayNextStep(y);const A=D.currentTime;Lo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const Zx={};class XO{constructor(t,e,i,r,a,u,h,y){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Qx(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Mh(i.duration)),null!=i.delay&&(r.delay=Mh(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=jx(a[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new XO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Zx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new x4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(b4,"."+this._enterClassName)).replace(E4,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!a&&0==h.length&&u.push(function T8(n){return new l.vHH(3014,rn)}()),h}}class Qx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Wt),this._currentKeyframe.set(e,Wt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const a=r&&r.params||{},u=function S4(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let a of i)e.set(a,Wt)}else Rh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,y]of u){const w=jx(y,a,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)||Wt),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,y)=>{const w=Rh(h,new Map,this._backFill);w.forEach((D,A)=>{"!"===D?t.add(A):D===Wt&&e.add(A)}),i||w.set("offset",y/this.duration),r.push(w)});const a=t.size?Gx(t.values()):[],u=e.size?Gx(e.values()):[];if(i){const h=r[0],y=new Map(h);h.set("offset",0),y.set("offset",1),r=[h,y]}return ZO(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class x4 extends Qx{constructor(t,e,i,r,a,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,h=e/u,y=Rh(t[0]);y.set("offset",0),a.push(y);const w=Rh(t[0]);w.set("offset",ZU(h)),a.push(w);const D=t.length-1;for(let A=1;A<=D;A++){let O=Rh(t[A]);const V=O.get("offset");O.set("offset",ZU((e+V*i)/u)),a.push(O)}i=u,e=0,r="",t=a}return ZO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function ZU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JO{}const A4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I4 extends JO{normalizePropertyName(t,e){return WO(t)}normalizeStyleValue(t,e,i,r){let a="";const u=i.toString().trim();if(A4.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function _8(n,t){return new l.vHH(3005,rn)}())}return u+a}}function QU(n,t,e,i,r,a,u,h,y,w,D,A,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:h,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:A,errors:O}}const eF={};class XU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function T4(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,a,u,h,y,w,D){const A=[],O=this.ast.options&&this.ast.options.params||eF,B=this.buildStyles(i,h&&h.params||eF,A),X=y&&y.params||eF,de=this.buildStyles(r,X,A),Fe=new Set,tt=new Map,vt=new Map,lt="void"===r,Nt={params:M4(X,O),delay:this.ast.options?.delay},Ht=D?[]:QO(t,e,this.ast.animation,a,u,B,de,Nt,w,A);let mn=0;if(Ht.forEach(Vu=>{mn=Math.max(Vu.duration+Vu.delay,mn)}),A.length)return QU(e,this._triggerName,i,r,lt,B,de,[],[],tt,vt,mn,A);Ht.forEach(Vu=>{const Bu=Vu.element,mH=No(tt,Bu,new Set);Vu.preStyleProps.forEach($p=>mH.add($p));const lb=No(vt,Bu,new Set);Vu.postStyleProps.forEach($p=>lb.add($p)),Bu!==e&&Fe.add(Bu)});const Ss=Gx(Fe.values());return QU(e,this._triggerName,i,r,lt,B,de,Ht,Ss,tt,vt,mn)}}function M4(n,t){const e=sb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class R4{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=sb(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=jx(u,r,e));const y=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,y,u,e),i.set(y,u)})}),i}}class O4{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new R4(r.style,r.options&&r.options.params||{},i))}),JU(this.states,"true","1"),JU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new XU(t,r,this.states))}),this.fallbackTransition=function F4(n,t,e){return new XU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function JU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const P4=new Kx;class N4{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],a=YO(this._driver,e,i,[]);if(i.length)throw function N8(n){return new l.vHH(3503,rn)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const r=t.element,a=RU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations.get(t);let u;const h=new Map;if(a?(u=QO(this._driver,e,a,GO,Vx,new Map,new Map,i,P4,r),u.forEach(D=>{const A=No(h,D.element,new Map);D.postStyleProps.forEach(O=>A.set(O,null))})):(r.push(function L8(){return new l.vHH(3300,rn)}()),u=[]),r.length)throw function V8(n){return new l.vHH(3504,rn)}();h.forEach((D,A)=>{D.forEach((O,V)=>{D.set(V,this._driver.computeStyle(A,V,Wt))})});const w=Th(u.map(D=>{const A=h.get(D.element);return this._buildPlayer(D,new Map,A)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function B8(n){return new l.vHH(3301,rn)}();return e}listen(t,e,i,r){const a=BO(e,"","","");return LO(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eH="ng-animate-queued",tF="ng-animate-disabled",H4=[],tH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class nF{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function q4(n){return n??null}(i?t.value:t),i){const a=sb(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ab="void",iF=new nF(ab);class G4{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Aa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function U8(n,t){return new l.vHH(3302,rn)}();if(null==i||0==i.length)throw function H8(n){return new l.vHH(3303,rn)}();if(!function W4(n){return"start"==n||"done"==n}(i))throw function j8(n,t){return new l.vHH(3400,rn)}();const a=No(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};a.push(u);const h=No(this._engine.statesByElement,t,new Map);return h.has(e)||(Aa(t,Bx),Aa(t,Bx+"-"+e),h.set(e,iF)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(u);y>=0&&a.splice(y,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function G8(n){return new l.vHH(3401,rn)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),u=new rF(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Aa(t,Bx),Aa(t,Bx+"-"+e),this._engine.statesByElement.set(t,h=new Map));let y=h.get(e);const w=new nF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),h.set(e,w),y||(y=iF),w.value!==ab&&y.value===w.value){if(!function Z4(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(y.params,w.params)){const X=[],de=a.matchStyles(y.value,y.params,X),Fe=a.matchStyles(w.value,w.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{jp(t,de),xc(t,Fe)})}return}const O=No(this._engine.playersByElement,t,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let V=a.matchTransition(y.value,w.value,t,w.params),B=!1;if(!V){if(!r)return;V=a.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:y,toState:w,player:u,isFallbackTransition:B}),B||(Aa(t,eH),u.onStart(()=>{my(t,eH)})),u.onDone(()=>{let X=this.players.indexOf(u);X>=0&&this.players.splice(X,1);const de=this._engine.playersByElement.get(t);if(de){let Fe=de.indexOf(u);Fe>=0&&de.splice(Fe,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ux,!0);i.forEach(r=>{if(r[Sa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const h=[];if(a.forEach((y,w)=>{if(u.set(w,y.value),this._triggers.has(w)){const D=this.trigger(t,w,ab,r);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Th(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const y=this._triggers.get(u).fallbackTransition,w=i.get(u)||iF,D=new nF(ab),A=new rF(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:y,fromState:w,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Sa];(!a||a===tH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Aa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==i.triggerName){const y=BO(a,i.triggerName,i.fromState.value,i.toState.value);y._data=t,LO(i.player,h.phase,y,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $4{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new G4(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const y=r.get(h);if(y){const w=i.indexOf(y);i.splice(w+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,r){if(Xx(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Xx(e))return;const a=e[Sa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Aa(t,tF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),my(t,tF))}removeNode(t,e,i,r){if(Xx(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[Sa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return Xx(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Ux,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$O,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Th(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Sa];if(e&&e.setForRemoval){if(t[Sa]=tH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(tF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Th(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function $8(n){return new l.vHH(3402,rn)}()}_flushAnimations(t,e){const i=new Kx,r=[],a=new Map,u=[],h=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(ct=>{D.add(ct);const St=this.driver.query(ct,".ng-animate-queued",!0);for(let Mt=0;Mt<St.length;Mt++)D.add(St[Mt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=rH(O,this.collectedEnterElements),B=new Map;let X=0;V.forEach((ct,St)=>{const Mt=GO+X++;B.set(St,Mt),ct.forEach(pn=>Aa(pn,Mt))});const de=[],Fe=new Set,tt=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const St=this.collectedLeaveElements[ct],Mt=St[Sa];Mt&&Mt.setForRemoval&&(de.push(St),Fe.add(St),Mt.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(pn=>Fe.add(pn)):tt.add(St))}const vt=new Map,lt=rH(O,Array.from(Fe));lt.forEach((ct,St)=>{const Mt=Vx+X++;vt.set(St,Mt),ct.forEach(pn=>Aa(pn,Mt))}),t.push(()=>{V.forEach((ct,St)=>{const Mt=B.get(St);ct.forEach(pn=>my(pn,Mt))}),lt.forEach((ct,St)=>{const Mt=vt.get(St);ct.forEach(pn=>my(pn,Mt))}),de.forEach(ct=>{this.processLeaveNode(ct)})});const Nt=[],Ht=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(e).forEach(Mt=>{const pn=Mt.player,vr=Mt.element;if(Nt.push(pn),this.collectedEnterElements.length){const is=vr[Sa];if(is&&is.setForMove){if(is.previousTriggersValues&&is.previousTriggersValues.has(Mt.triggerName)){const zp=is.previousTriggersValues.get(Mt.triggerName),Ia=this.statesByElement.get(Mt.element);if(Ia&&Ia.has(Mt.triggerName)){const tS=Ia.get(Mt.triggerName);tS.value=zp,Ia.set(Mt.triggerName,tS)}}return void pn.destroy()}}const Sc=!A||!this.driver.containsElement(A,vr),Vo=vt.get(vr),kh=B.get(vr),pi=this._buildInstruction(Mt,i,kh,Vo,Sc);if(pi.errors&&pi.errors.length)return void Ht.push(pi);if(Sc)return pn.onStart(()=>jp(vr,pi.fromStyles)),pn.onDestroy(()=>xc(vr,pi.toStyles)),void r.push(pn);if(Mt.isFallbackTransition)return pn.onStart(()=>jp(vr,pi.fromStyles)),pn.onDestroy(()=>xc(vr,pi.toStyles)),void r.push(pn);const vH=[];pi.timelines.forEach(is=>{is.stretchStartingKeyframe=!0,this.disabledNodes.has(is.element)||vH.push(is)}),pi.timelines=vH,i.append(vr,pi.timelines),u.push({instruction:pi,player:pn,element:vr}),pi.queriedElements.forEach(is=>No(h,is,[]).push(pn)),pi.preStyleProps.forEach((is,zp)=>{if(is.size){let Ia=y.get(zp);Ia||y.set(zp,Ia=new Set),is.forEach((tS,oF)=>Ia.add(oF))}}),pi.postStyleProps.forEach((is,zp)=>{let Ia=w.get(zp);Ia||w.set(zp,Ia=new Set),is.forEach((tS,oF)=>Ia.add(oF))})});if(Ht.length){const ct=[];Ht.forEach(St=>{ct.push(function z8(n,t){return new l.vHH(3505,rn)}())}),Nt.forEach(St=>St.destroy()),this.reportError(ct)}const mn=new Map,Ss=new Map;u.forEach(ct=>{const St=ct.element;i.has(St)&&(Ss.set(St,St),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,mn))}),r.forEach(ct=>{const St=ct.element;this._getPreviousPlayers(St,!1,ct.namespaceId,ct.triggerName,null).forEach(pn=>{No(mn,St,[]).push(pn),pn.destroy()})});const Vu=de.filter(ct=>oH(ct,y,w)),Bu=new Map;iH(Bu,this.driver,tt,w,Wt).forEach(ct=>{oH(ct,y,w)&&Vu.push(ct)});const lb=new Map;V.forEach((ct,St)=>{iH(lb,this.driver,new Set(ct),y,"!")}),Vu.forEach(ct=>{const St=Bu.get(ct),Mt=lb.get(ct);Bu.set(ct,new Map([...Array.from(St?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const $p=[],yH=[],_H={};u.forEach(ct=>{const{element:St,player:Mt,instruction:pn}=ct;if(i.has(St)){if(D.has(St))return Mt.onDestroy(()=>xc(St,pn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(pn.totalTime),void r.push(Mt);let vr=_H;if(Ss.size>1){let Vo=St;const kh=[];for(;Vo=Vo.parentNode;){const pi=Ss.get(Vo);if(pi){vr=pi;break}kh.push(Vo)}kh.forEach(pi=>Ss.set(pi,vr))}const Sc=this._buildAnimation(Mt.namespaceId,pn,mn,a,lb,Bu);if(Mt.setRealPlayer(Sc),vr===_H)$p.push(Mt);else{const Vo=this.playersByElement.get(vr);Vo&&Vo.length&&(Mt.parentPlayer=Th(Vo)),r.push(Mt)}}else jp(St,pn.fromStyles),Mt.onDestroy(()=>xc(St,pn.toStyles)),yH.push(Mt),D.has(St)&&r.push(Mt)}),yH.forEach(ct=>{const St=a.get(ct.element);if(St&&St.length){const Mt=Th(St);ct.setRealPlayer(Mt)}}),r.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<de.length;ct++){const St=de[ct],Mt=St[Sa];if(my(St,Vx),Mt&&Mt.hasAnimation)continue;let pn=[];if(h.size){let Sc=h.get(St);Sc&&Sc.length&&pn.push(...Sc);let Vo=this.driver.query(St,$O,!0);for(let kh=0;kh<Vo.length;kh++){let pi=h.get(Vo[kh]);pi&&pi.length&&pn.push(...pi)}}const vr=pn.filter(Sc=>!Sc.destroyed);vr.length?Y4(this,St,vr):this.processLeaveNode(St)}return de.length=0,$p.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const St=this.players.indexOf(ct);this.players.splice(St,1)}),ct.play()}),$p}elementContainsData(t,e){let i=!1;const r=e[Sa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const y=!a||a==ab;h.forEach(w=>{w.queued||!y&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const y of e.timelines){const w=y.element,D=w!==a,A=No(i,w,[]);this._getPreviousPlayers(w,D,u,h,e.toState).forEach(V=>{const B=V.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),V.destroy(),A.push(V)})}jp(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,u){const h=e.triggerName,y=e.element,w=[],D=new Set,A=new Set,O=e.timelines.map(B=>{const X=B.element;D.add(X);const de=X[Sa];if(de&&de.removedBeforeQueried)return new qr(B.duration,B.delay);const Fe=X!==y,tt=function K4(n){const t=[];return sH(n,t),t}((i.get(X)||H4).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===X),vt=a.get(X),lt=u.get(X),Nt=RU(0,this._normalizer,0,B.keyframes,vt,lt),Ht=this._buildPlayer(B,Nt,tt);if(B.subTimeline&&r&&A.add(X),Fe){const mn=new rF(t,h,X);mn.setRealPlayer(Ht),w.push(mn)}return Ht});w.forEach(B=>{No(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function z4(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,B.element,B))}),D.forEach(B=>Aa(B,UU));const V=Th(O);return V.onDestroy(()=>{D.forEach(B=>my(B,UU)),xc(y,e.toStyles)}),A.forEach(B=>{No(r,B,[]).push(V)}),V}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qr(t.duration,t.delay)}}class rF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>LO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){No(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xx(n){return n&&1===n.nodeType}function nH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function iH(n,t,e,i,r){const a=[];e.forEach(y=>a.push(nH(y)));const u=[];i.forEach((y,w)=>{const D=new Map;y.forEach(A=>{const O=t.computeStyle(w,A,r);D.set(A,O),(!O||0==O.length)&&(w[Sa]=j4,u.push(w))}),n.set(w,D)});let h=0;return e.forEach(y=>nH(y,a[h++])),u}function rH(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),a=new Map;function u(h){if(!h)return 1;let y=a.get(h);if(y)return y;const w=h.parentNode;return y=e.has(w)?w:r.has(w)?1:u(w),a.set(h,y),y}return t.forEach(h=>{const y=u(h);1!==y&&e.get(y).push(h)}),e}function Aa(n,t){n.classList?.add(t)}function my(n,t){n.classList?.remove(t)}function Y4(n,t,e){Th(e).onDone(()=>n.processLeaveNode(t))}function sH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof aa?sH(i.players,t):t.push(i)}}function oH(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class Jx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new $4(t,e,i),this._timelineEngine=new N4(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const y=[],D=YO(this._driver,a,y,[]);if(y.length)throw function F8(n,t){return new l.vHH(3404,rn)}();h=function k4(n,t,e){return new O4(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,u]=kU(i);this._timelineEngine.command(a,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[u,h]=kU(i);return this._timelineEngine.listen(u,e,h,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let X4=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jp(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sF(n){let t=null;return n.forEach((e,i)=>{(function J4(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class aH{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:qU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return NU(t,e)}getParentElement(t){return HO(t)}query(t,e,i){return LU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,u=[]){const y={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(y.easing=a);const w=new Map,D=u.filter(V=>V instanceof aH);(function r4(n,t){return 0===n||0===t})(i,r)&&D.forEach(V=>{V.currentSnapshot.forEach((B,X)=>w.set(X,B))});let A=function e4(n){return n.length?n[0]instanceof Map?n:n.map(t=>HU(t)):[]}(e).map(V=>Rh(V));A=function s4(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<t.length;a++){let u=t[a];r.forEach(h=>u.set(h,qU(n,h)))}}return t}(t,A,w);const O=function Q4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=sF(t[0]),t.length>1&&(i=sF(t[t.length-1]))):t instanceof Map&&(e=sF(t)),e||i?new X4(n,e,i):null}(t,A);return new aH(t,A,y,O)}}let tK=(()=>{class n extends Mr{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?qa(e):e;return lH(this._renderer,null,i,"register",[r]),new nK(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nK extends class Gc{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iK(this._id,t,e||{},this._renderer)}}class iK{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lH(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lH(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const cH="@.disabled";let rK=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new uH("",a,this.engine),this._rendererCache.set(a,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(y),new sK(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(Jx),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uH{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==cH?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sK extends uH{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cH?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function oK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function aK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let lK=(()=>{class n extends Jx{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ee),l.LFG(jO),l.LFG(JO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dH=[{provide:Mr,useClass:tK},{provide:JO,useFactory:function cK(){return new I4}},{provide:Jx,useClass:lK},{provide:l.FYo,useFactory:function uK(n,t,e){return new rK(n,t,e)},deps:[go,Jx,l.R0b]}],hH=[{provide:jO,useFactory:()=>new eK},{provide:l.QbO,useValue:"BrowserAnimations"},...dH],dK=[{provide:jO,useClass:VU},{provide:l.QbO,useValue:"NoopAnimations"},...dH];let hK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dK:hH}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:hH,imports:[Vc]}),n})(),fH=new l.OlP("currency.mask.config");class fK{constructor(t){this.htmlInputElement=t}setCursorAt(t){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(t,t);else if(this.htmlInputElement.createTextRange){let e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}updateValueAndCursor(t,e,i){this.rawValue=t,this.setCursorAt(i-=e-t.length)}get canInputMoreNumbers(){let t=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,r=!(e==i||!this.htmlInputElement.value.substring(e,i).match(/\d/)),a="0"==this.htmlInputElement.value.substring(0,1);return t||r||a}get inputSelection(){let t=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)t=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{let i=document.getSelection().anchorNode;if(i&&i.firstChild==this.htmlInputElement){let r=this.htmlInputElement.value.length,a=this.htmlInputElement.value.replace(/\r\n/g,"\n"),u=this.htmlInputElement.createTextRange(),h=this.htmlInputElement.createTextRange();h.collapse(!1),u.compareEndPoints("StartToEnd",h)>-1?t=e=r:(t=-u.moveStart("character",-r),t+=a.slice(0,t).split("\n").length-1,u.compareEndPoints("EndToEnd",h)>-1?e=r:(e=-u.moveEnd("character",-r),e+=a.slice(0,e).split("\n").length-1))}}return{selectionStart:t,selectionEnd:e}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(t){this._storedRawValue=t,this.htmlInputElement&&(this.htmlInputElement.value=t)}get storedRawValue(){return this._storedRawValue}}class pK{constructor(t,e){this.htmlInputElement=t,this.options=e,this.inputManager=new fK(t)}addNumber(t){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let e=String.fromCharCode(t),i=this.inputSelection.selectionStart,r=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,i)+e+this.rawValue.substring(r,this.rawValue.length),this.updateFieldValue(i+1)}applyMask(t,e){let{allowNegative:i,decimal:r,precision:a,prefix:u,suffix:h,thousands:y}=this.options,w=(e=t?new Number(e).toFixed(a):e).replace(/[^0-9]/g,"");if(!w)return"";let D=w.slice(0,w.length-a).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,y);""==D&&(D="0");let A=D,O=w.slice(w.length-a);a>0&&(O="0".repeat(a-O.length)+O,A+=r+O);let V=0==parseInt(D)&&(0==parseInt(O)||""==O);return(e.indexOf("-")>-1&&i&&!V?"-":"")+u+A+h}clearMask(t){if(null==t||""==t)return null;let e=t.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),parseFloat(e)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let t=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(t+1)}}changeToPositive(){let t=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(t-1)}fixCursorPosition(t){let e=this.inputSelection.selectionStart;e>this.getRawValueWithoutSuffixEndPosition()||t?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):e<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(t){let{decimal:e,thousands:i}=this.options,r=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;a>this.rawValue.length-this.options.suffix.length&&(r=this.rawValue.length-this.options.suffix.length,a=this.rawValue.length-this.options.suffix.length),r==a&&((46==t||63272==t)&&/^\d+$/.test(this.rawValue.substring(a,r+1))&&(r+=1),(46==t||63272==t)&&(this.rawValue.substring(a,r+1)==e||this.rawValue.substring(a,r+1)==i)&&(r+=2,a+=1),8==t&&/^\d+$/.test(this.rawValue.substring(a-1,r))&&(a-=1),8==t&&(this.rawValue.substring(a-1,r)==e||this.rawValue.substring(a-1,r)==i)&&(a-=2,r-=1)),this.rawValue=this.rawValue.substring(0,a)+this.rawValue.substring(r,this.rawValue.length),this.updateFieldValue(a)}updateFieldValue(t){let e=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(e,this.rawValue.length,t=t??this.rawValue.length)}updateOptions(t){let e=this.value;this.options=t,this.value=e}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(t){this.inputManager.rawValue=t}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(t){this.rawValue=this.applyMask(!0,""+t)}}class gK{constructor(t,e){this.inputService=new pK(t,e),this.htmlInputElement=t}handleClick(t,e){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(e)}handleCut(t){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(t){if(this.isReadOnly())return;let e=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),i=this.inputService.rawValue.length,r=this.inputService.inputSelection.selectionEnd,a=this.inputService.getRawValueWithoutSuffixEndPosition(),u=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,r==a&&1==Math.abs(i-u)||0==u){if(i<u&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),i>u)switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/))return;this.inputService.addNumber(e)}this.setCursorPosition(t),this.onModelChange(this.inputService.value)}else this.setCursorPosition(t)}handleKeydown(t){if(this.isReadOnly())return;let e=t.which||t.charCode||t.keyCode;if(8==e||46==e||63272==e){t.preventDefault();let i=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(i==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==i&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)),(8===e||46===e)&&0!=i&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value))}}handleKeypress(t){if(this.isReadOnly())return;let e=t.which||t.charCode||t.keyCode;if(null!=e&&-1==[9,13].indexOf(e)&&!this.isArrowEndHomeKeyInFirefox(t)){switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(e).match(/\d/))&&this.inputService.addNumber(e)}t.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(t){this.inputService.fixCursorPosition()}handlePaste(t){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(t){this.inputService.updateOptions(t)}getOnModelChange(){return this.onModelChange}setOnModelChange(t){this.onModelChange=t}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(t){this.onModelTouched=t}setValue(t){this.inputService.value=t}getNewKeyCode(t,e){if(t.length>e.length)return null;for(let i=0;i<e.length;i++)if(t.length==i||t[i]!=e[i])return e.charCodeAt(i);return null}isArrowEndHomeKeyInFirefox(t){return-1!=[35,36,37,38,39,40].indexOf(t.keyCode)&&(null==t.charCode||0==t.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(t){let e=this.inputService.getRawValueWithoutSuffixEndPosition();const i=t.target;setTimeout(function(){i.setSelectionRange(e,e)},0)}}const mK={provide:Wr,useExisting:(0,l.Gpc)(()=>pH),multi:!0};let pH=(()=>{class n{constructor(e,i,r){this.currencyMaskConfig=e,this.elementRef=i,this.keyValueDiffers=r,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},e&&(this.optionsTemplate=e),this.keyValueDiffer=r.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new gK(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(e){this.inputHandler.getOnModelTouched().apply(e)}handleClick(e){this.inputHandler.handleClick(e,this.isChromeAndroid())}handleCut(e){this.isChromeAndroid()||this.inputHandler.handleCut(e)}handleInput(e){this.isChromeAndroid()&&this.inputHandler.handleInput(e)}handleKeydown(e){this.isChromeAndroid()||this.inputHandler.handleKeydown(e)}handleKeypress(e){this.isChromeAndroid()||this.inputHandler.handleKeypress(e)}handleKeyup(e){this.isChromeAndroid()||this.inputHandler.handleKeyup(e)}handlePaste(e){this.isChromeAndroid()||this.inputHandler.handlePaste(e)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(e){this.inputHandler.setOnModelChange(e)}registerOnTouched(e){this.inputHandler.setOnModelTouched(e)}setDisabledState(e){this.elementRef.nativeElement.disabled=e}validate(e){let i={};return e.value>this.max&&(i.max=!0),e.value<this.min&&(i.min=!0),i!={}?i:null}writeValue(e){this.inputHandler.setValue(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(fH,8),l.Y36(l.SBq),l.Y36(l.aQg))},n.\u0275dir=l.lG2({type:n,selectors:[["","currencyMask",""]],hostBindings:function(e,i){1&e&&l.NdJ("blur",function(a){return i.handleBlur(a)})("click",function(a){return i.handleClick(a)})("cut",function(a){return i.handleCut(a)})("input",function(a){return i.handleInput(a)})("keydown",function(a){return i.handleKeydown(a)})("keypress",function(a){return i.handleKeypress(a)})("keyup",function(a){return i.handleKeyup(a)})("paste",function(a){return i.handlePaste(a)})},inputs:{max:"max",min:"min",options:"options"},features:[l._Bn([mK,{provide:En,useExisting:n,multi:!0}])]}),n})(),yK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,yg]]}),n})();function _K(n){if(0===n)return 0;if(1===n)return 1;if(n>1){let t=0,e=0,i=1;for(let r=0;r<n;r++)t=e+i,i=e,e=t;return t}return 0}let vK=(()=>{class n{constructor(e){this.db=e,this.dbCollection=this.db.collection("results")}getAllResults(){return this.dbCollection.valueChanges()}saveResult(e){return this.dbCollection.add(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(TU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wK(n,t){1&n&&(l.TgZ(0,"th",21),l._uU(1," User "),l.qZA())}function bK(n,t){if(1&n&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.user," ")}}function CK(n,t){1&n&&(l.TgZ(0,"th",23),l._uU(1," Nth "),l.qZA())}function EK(n,t){if(1&n&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.nthNumber," ")}}function DK(n,t){1&n&&(l.TgZ(0,"th",24),l._uU(1," Result "),l.qZA())}function xK(n,t){if(1&n&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.fibonacciNumber," ")}}function SK(n,t){1&n&&(l.TgZ(0,"th",25),l._uU(1," Date "),l.qZA())}function AK(n,t){if(1&n&&(l.TgZ(0,"td",22),l._uU(1),l.ALo(2,"date"),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",l.xi3(2,1,e.ts,"medium")," ")}}function IK(n,t){1&n&&l._UZ(0,"tr",26)}const TK=function(n){return{highlight:n}};function MK(n,t){if(1&n&&l._UZ(0,"tr",27),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(1,TK,(null==i.lastAddedResult?null:i.lastAddedResult.nthNumber)===e.nthNumber))}}const RK=function(){return[5,10,15]},kK=[{path:"",redirectTo:"calculator",pathMatch:"full"},{path:"calculator",component:(()=>{class n{constructor(e,i,r){this._firebaseService=e,this._snackBar=i,this._sessionService=r,this.nthNumber=0,this.paginationSize=5,this.results=[],this.dataSource=new LN,this.displayedColumns=["user","nth","result","timestamp"],this.username="",this.setDatasource(0)}ngOnInit(){this.initSubscriptions()}initSubscriptions(){this._firebaseService.getAllResults().subscribe(e=>{this.resultsChangeHandler(e)}),this._sessionService.dealer$.subscribe(e=>{this.username=e})}setDatasource(e){this.dataSource=new LN(this.results),this.dataSource.paginator=this.paginator,this.paginator?.page.next({pageIndex:e,pageSize:this.paginator.pageSize,length:this.paginator.length})}resultsChangeHandler(e){this.results=e.sort(this.sortResults);let i=0;if(this.lastAddedResult){const r=e.findIndex(a=>a.nthNumber===this.lastAddedResult?.nthNumber);r>=0&&(i=Math.ceil(r/this.paginationSize))}this.setDatasource(i)}calculateNumber(){this.results.findIndex(i=>i.nthNumber===this.nthNumber)>=0?this.showAlreadyCalculatedSnackbar():(this.lastAddedResult={nthNumber:this.nthNumber,fibonacciNumber:_K(this.nthNumber),user:this.username,ts:new Date(Date.now()).toString()},this.saveNumberRequest())}saveNumberRequest(){this._firebaseService.saveResult(this.lastAddedResult).then(e=>{console.log("%c\u29ed","color: #ff0000",e)})}showAlreadyCalculatedSnackbar(){this._snackBar.open("This number is already calculated!, check the table.","Close",{duration:3e3})}paginationChanged(e){this.paginationSize=e.pageSize}sortResults(e,i){return e.nthNumber<i.nthNumber?0:1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vK),l.Y36(z$),l.Y36(Ka))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-fibonacci-calculator"]],viewQuery:function(e,i){if(1&e&&l.Gf(o1,5),2&e){let r;l.iGM(r=l.CRH())&&(i.paginator=r.first)}},decls:28,vars:8,consts:[["id","fibonacci-calculator","fxLayout.lt-md","column","fxLayout.gt-sm","row","fxLayoutGap","1rem",1,"h-100"],["fxLayout","column","fxLayoutAlign","flex-start flex-start","fxLayoutGap","1rem"],["appearance","outline",1,"nth-input-form","w-100"],["matInput","","currencyMask","",1,"nth-input",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign.lt-md","flex-start center","fxLayoutGap","1rem",1,"w-100"],["mat-raised-button","","color","primary",1,"retrieve-button",3,"disabled","click"],["mat-raised-button","","color","primary",1,"retrieve-button",3,"click"],["fxLayout","column","fxLayoutAlign","flex-start flex-start",1,"table-container","w-100","mat-elevation-z8"],["mat-table","",1,"w-100","table-results",3,"dataSource"],["matColumnDef","user"],["mat-header-cell","","class","user-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nth"],["mat-header-cell","","class","nth-header",4,"matHeaderCellDef"],["matColumnDef","result"],["mat-header-cell","","class","result-header",4,"matHeaderCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","class","ts-header",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions","page"],["mat-header-cell","",1,"user-header"],["mat-cell",""],["mat-header-cell","",1,"nth-header"],["mat-header-cell","",1,"result-header"],["mat-header-cell","",1,"ts-header"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"aside",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"Nth Number"),l.qZA(),l.TgZ(5,"input",3),l.NdJ("ngModelChange",function(a){return i.nthNumber=a}),l.qZA()(),l.TgZ(6,"div",4)(7,"button",5),l.NdJ("click",function(){return i.calculateNumber()}),l._uU(8,"Calculate"),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){return i.nthNumber=0}),l._uU(10,"Clear"),l.qZA()()(),l.TgZ(11,"section",7)(12,"table",8),l.ynx(13,9),l.YNc(14,wK,2,0,"th",10),l.YNc(15,bK,2,1,"td",11),l.BQk(),l.ynx(16,12),l.YNc(17,CK,2,0,"th",13),l.YNc(18,EK,2,1,"td",11),l.BQk(),l.ynx(19,14),l.YNc(20,DK,2,0,"th",15),l.YNc(21,xK,2,1,"td",11),l.BQk(),l.ynx(22,16),l.YNc(23,SK,2,0,"th",17),l.YNc(24,AK,3,4,"td",11),l.BQk(),l.YNc(25,IK,1,0,"tr",18),l.YNc(26,MK,1,3,"tr",19),l.qZA(),l.TgZ(27,"mat-paginator",20),l.NdJ("page",function(a){return i.paginationChanged(a)}),l.qZA()()()),2&e&&(l.xp6(5),l.Q6J("ngModel",i.nthNumber),l.xp6(2),l.Q6J("disabled",null==i.nthNumber),l.xp6(5),l.Q6J("dataSource",i.dataSource),l.xp6(13),l.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(1),l.Q6J("pageSizeOptions",l.DdM(7,RK)))},dependencies:[$c,yt,gd,Ts,Uf,Vf,Yg,kN,uM,ON,dM,cM,FN,hM,fM,PN,NN,Zg,Cu,b0,sm,P0,pH,o1,Oh],styles:["#fibonacci-calculator[_ngcontent-%COMP%]{padding:1rem}#fibonacci-calculator[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{min-width:400px;height:min-content;max-height:calc(100vh - 96px);overflow-y:auto}#fibonacci-calculator[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{min-width:90px}#fibonacci-calculator[_ngcontent-%COMP%]   .nth-header[_ngcontent-%COMP%]{min-width:40px}#fibonacci-calculator[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{min-width:120px}#fibonacci-calculator[_ngcontent-%COMP%]   .ts-header[_ngcontent-%COMP%]{min-width:200px}#fibonacci-calculator[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background-color:#83aeff}@media only screen and (max-width: 599px){#fibonacci-calculator[_ngcontent-%COMP%]   .nth-input-form[_ngcontent-%COMP%]{font-size:24px;min-width:300px}#fibonacci-calculator[_ngcontent-%COMP%]   .nth-input-form[_ngcontent-%COMP%]   .nth-input[_ngcontent-%COMP%]{font-size:48px}#fibonacci-calculator[_ngcontent-%COMP%]   .retrieve-button[_ngcontent-%COMP%]{font-size:18px;height:36px}}@media only screen and (min-width: 600px){#fibonacci-calculator[_ngcontent-%COMP%]   .nth-input-form[_ngcontent-%COMP%]{font-size:36px;min-width:300px}#fibonacci-calculator[_ngcontent-%COMP%]   .nth-input-form[_ngcontent-%COMP%]   .nth-input[_ngcontent-%COMP%]{font-size:68px}#fibonacci-calculator[_ngcontent-%COMP%]   .retrieve-button[_ngcontent-%COMP%]{font-size:28px;height:48px}}  .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0!important}"],data:{animation:[Gl,la]}}),n})()}];let OK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BE.forRoot(kK),BE]}),n})();const gH_firebase={projectId:"fibonaccidb-7cb7e",appId:"1:326420452278:web:680123aad41887aee16717",databaseURL:"https://fibonaccidb-7cb7e-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"fibonaccidb-7cb7e.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBloXk_-RhHb3hShUDaQBkTJp1Vngtj404",authDomain:"fibonaccidb-7cb7e.firebaseapp.com",messagingSenderId:"326420452278",measurementId:"G-DL2RB1176J"},FK={align:"right",allowNegative:!1,decimal:".",precision:0,prefix:"",suffix:"",thousands:"'"};let PK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[WT]}),n.\u0275inj=l.cJS({providers:[{provide:fH,useValue:FK}],imports:[yg,Vc,E_,Hf,EG,Qg,QC,kj,OK,l1,ms,yK,P$,Ly,h8,hK,bl.hO.initializeApp(gH_firebase)]}),n})();(0,l.G48)(),Lh().bootstrapModule(PK).catch(n=>console.error(n))},5867:(rt,xe,P)=>{P.d(xe,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.8.3","app")},127:(rt,xe,P)=>{P.d(xe,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.8.3","app-compat")},9916:(rt,xe,P)=>{P.r(xe);var l=P(5861),Y=P(3942),F=P(2090),ae=P(9681),se=P(655),me=P(1877),ee=P(4859);const Me=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new me.Yd("@firebase/auth");function Qe(_,...p){qe.logLevel<=me.in.ERROR&&qe.error(`Auth (${ae.SDK_VERSION}): ${_}`,...p)}function Se(_,...p){throw He(_,...p)}function ve(_,...p){return He(_,...p)}function Ce(_,p,m){const b=Object.assign(Object.assign({},Ue()),{[p]:m});return new F.LL("auth","Firebase",b).create(p,{appName:_.name})}function je(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Se(_,"argument-error"),Ce(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(_,...p){if("string"!=typeof _){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return pe.create(_,...p)}function H(_,p,...m){if(!_)throw He(p,...m)}function we(_){const p="INTERNAL ASSERTION FAILED: "+_;throw Qe(p),new Error(p)}function K(_,p){_||we(p)}const oe=new Map;function te(_){K(_ instanceof Function,"Expected a class definition");let p=oe.get(_);return p?(K(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,oe.set(_,p),p)}function Pe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ut(){return"http:"===$t()||"https:"===$t()}function $t(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ln{constructor(p,m){this.shortDelay=p,this.longDelay=m,K(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fn(_,p){K(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class gn{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ii=new ln(3e4,6e4);function Zt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Lt(_,p,m,b){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(_,p,m,b,T={}){return tr(_,T,(0,l.Z)(function*(){let k={},Z={};b&&("GET"===p?Z=b:k={body:JSON.stringify(b)});const ge=(0,F.xO)(Object.assign({key:_.config.apiKey},Z)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),gn.fetch()(As(_,_.config.apiHost,m,ge),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function tr(_,p,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(_,p,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Qt),p);try{const T=new nr(_),k=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const Z=yield k.json();if("needConfirmation"in Z)throw wr(_,"account-exists-with-different-credential",Z);if(k.ok&&!("errorMessage"in Z))return Z;{const ge=k.ok?Z.errorMessage:Z.error.message,[Ve,Be]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw wr(_,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ve)throw wr(_,"email-already-in-use",Z);if("USER_DISABLED"===Ve)throw wr(_,"user-disabled",Z);const ft=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw Ce(_,ft,Be);Se(_,ft)}}catch(T){if(T instanceof F.ZR)throw T;Se(_,"network-request-failed")}})).apply(this,arguments)}function Ti(_,p,m,b){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(_,p,m,b,T={}){const k=yield Lt(_,p,m,b,T);return"mfaPendingCredential"in k&&Se(_,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function As(_,p,m,b){const T=`${p}${m}?${b}`;return _.config.emulator?Fn(_.config,T):`${_.config.apiScheme}://${T}`}class nr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),Ii.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(_,p,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=ve(_,p,b);return T.customData._tokenResponse=m,T}function ir(){return(ir=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rn(_,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function oo(_,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ci(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bo(){return(Bo=(0,l.Z)(function*(_,p=!1){const m=(0,F.m9)(_),b=yield m.getIdToken(p),T=Ge(b);H(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,Z=k?.sign_in_provider;return{claims:T,token:b,authTime:ci(zt(T.auth_time)),issuedAtTime:ci(zt(T.iat)),expirationTime:ci(zt(T.exp)),signInProvider:Z||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(_){return 1e3*Number(_)}function Ge(_){const[p,m,b]=_.split(".");if(void 0===p||void 0===m||void 0===b)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,F.tV)(m);return T?JSON.parse(T):(Qe("Failed to decode base64 JWT payload"),null)}catch(T){return Qe("Caught error parsing JWT payload as JSON",T),null}}function Mi(_,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&At(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function At({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Cr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Zn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ci(this.lastLoginAt),this.creationTime=ci(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(_){return q.apply(this,arguments)}function q(){return(q=(0,l.Z)(function*(_){var p;const m=_.auth,b=yield _.getIdToken(),T=yield Mi(_,oo(m,{idToken:b}));H(T?.users.length,m,"internal-error");const k=T.users[0];_._notifyReloadListener(k);const Z=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?G(k.providerUserInfo):[],ge=De(_.providerData,Z),ft=!!_.isAnonymous&&!(_.email&&k.passwordHash||ge?.length),et={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ge,metadata:new Zn(k.createdAt,k.lastLoginAt),isAnonymous:ft};Object.assign(_,et)})).apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(_){const p=(0,F.m9)(_);yield sr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function De(_,p){return[..._.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function G(_){return _.map(p=>{var{providerId:m}=p,b=(0,se._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ke(){return(ke=(0,l.Z)(function*(_,p){const m=yield tr(_,{},(0,l.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:k}=_.config,Z=As(_,T,"/v1/token",`key=${k}`),ge=yield _._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",gn.fetch()(Z,{method:"POST",headers:ge,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Et(_){const p=Ge(_);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return H(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:Z}=yield function ie(_,p){return ke.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(T,k,Number(Z))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:T,expirationTime:k}=m,Z=new Je;return b&&(H("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),T&&(H("string"==typeof T,"internal-error",{appName:p}),Z.accessToken=T),k&&(H("number"==typeof k,"internal-error",{appName:p}),Z.expirationTime=k),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return we("not implemented")}}function gt(_,p){H("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class wt{constructor(p){var{uid:m,auth:b,stsTokenManager:T}=p,k=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Zn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield Mi(m,m.stsTokenManager.getToken(m.auth,p));return H(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function br(_){return Bo.apply(this,arguments)}(this,p)}reload(){return function z(_){return W.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new wt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield sr(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Mi(p,function dt(_,p){return ir.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,T,k,Z,ge,Ve,Be,ft;const et=null!==(b=m.displayName)&&void 0!==b?b:void 0,ti=null!==(T=m.email)&&void 0!==T?T:void 0,ps=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,al=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,pf=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,ic=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,dr=null!==(Be=m.createdAt)&&void 0!==Be?Be:void 0,Xs=null!==(ft=m.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:uu,emailVerified:Vy,isAnonymous:du,providerData:ll,stsTokenManager:gf}=m;H(uu&&gf,p,"internal-error");const By=Je.fromJSON(this.name,gf);H("string"==typeof uu,p,"internal-error"),gt(et,p.name),gt(ti,p.name),H("boolean"==typeof Vy,p,"internal-error"),H("boolean"==typeof du,p,"internal-error"),gt(ps,p.name),gt(al,p.name),gt(pf,p.name),gt(ic,p.name),gt(dr,p.name),gt(Xs,p.name);const gs=new wt({uid:uu,auth:p,email:ti,emailVerified:Vy,displayName:et,isAnonymous:du,photoURL:al,phoneNumber:ps,tenantId:pf,stsTokenManager:By,createdAt:dr,lastLoginAt:Xs});return ll&&Array.isArray(ll)&&(gs.providerData=ll.map(hu=>Object.assign({},hu))),ic&&(gs._redirectEventId=ic),gs}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const T=new Je;T.updateFromServerResponse(m);const k=new wt({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield sr(k),k})()}}const Dt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,l.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function Qn(_,p,m){return`firebase:${_}:${p}:${m}`}class Yi{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:T,name:k}=this.auth;this.fullUserKey=Qn(this.userKey,T.apiKey,k),this.fullPersistenceKey=Qn("persistence",T.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?wt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Yi(te(Dt),p,b);const T=(yield Promise.all(m.map(function(){var Be=(0,l.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let k=T[0]||te(Dt);const Z=Qn(b,p.config.apiKey,p.name);let ge=null;for(const Be of m)try{const ft=yield Be._get(Z);if(ft){const et=wt._fromJSON(p,ft);Be!==k&&(ge=et),k=Be;break}}catch{}const Ve=T.filter(Be=>Be._shouldAllowMigration);return k._shouldAllowMigration&&Ve.length?(k=Ve[0],ge&&(yield k._set(Z,ge.toJSON())),yield Promise.all(m.map(function(){var Be=(0,l.Z)(function*(ft){if(ft!==k)try{yield ft._remove(Z)}catch{}});return function(ft){return Be.apply(this,arguments)}}())),new Yi(k,p,b)):new Yi(k,p,b)})()}}function Xt(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ri(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Xn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(It(p))return"Blackberry";if(Jt(p))return"Webos";if(ui(p))return"Safari";if((p.includes("chrome/")||gi(p))&&!p.includes("edge/"))return"Chrome";if($e(p))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Xn(_=(0,F.z$)()){return/firefox\//i.test(_)}function ui(_=(0,F.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function gi(_=(0,F.z$)()){return/crios\//i.test(_)}function Ri(_=(0,F.z$)()){return/iemobile/i.test(_)}function $e(_=(0,F.z$)()){return/android/i.test(_)}function It(_=(0,F.z$)()){return/blackberry/i.test(_)}function Jt(_=(0,F.z$)()){return/webos/i.test(_)}function xn(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function yn(_=(0,F.z$)()){return xn(_)||$e(_)||Jt(_)||It(_)||/windows phone/i.test(_)||Ri(_)}function Er(_,p=[]){let m;switch(_){case"Browser":m=Xt((0,F.z$)());break;case"Worker":m=`${Xt((0,F.z$)())}-${_}`;break;default:m=_}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class Rt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=k=>new Promise((Z,ge)=>{try{Z(p(k))}catch(Ve){ge(Ve)}});b.onAbort=m,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var b;if(m.auth.currentUser===p)return;const T=[];try{for(const k of m.queue)yield k(p),k.onAbort&&T.push(k.onAbort)}catch(k){T.reverse();for(const Z of T)try{Z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=k)||void 0===b?void 0:b.message})}})()}}class Dl{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new Rt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,k;if(!b._deleted&&(b.persistenceManager=yield Yi.create(b,p),!b._deleted)){if(null!==(T=b._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;const T=yield m.assertedPersistence.getCurrentUser();let k=T,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ge=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=k?._redirectEventId,Be=yield m.tryRedirectSignIn(p);(!ge||ge===Ve)&&Be?.user&&(k=Be.user,Z=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(k)}catch(ge){k=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ge))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield sr(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&H(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&H(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&te(p)||m._popupRedirectResolver;H(b,m,"argument-error"),m.redirectPersistenceManager=yield Yi.create(m,[te(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,T){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Z,this,"internal-error"),Z.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function wn(_){return(0,F.m9)(_)}class Ho{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jn(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function ss(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class or{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return we("not implemented")}_getIdTokenResponse(p){return we("not implemented")}_linkToIdToken(p,m){return we("not implemented")}_getReauthenticationResolver(p){return we("not implemented")}}function mi(_,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:resetPassword",Zt(_,p))})).apply(this,arguments)}function Uu(_,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ma(_,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:update",Zt(_,p))})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithPassword",Zt(_,p))})).apply(this,arguments)}function Dr(_,p){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:sendOobCode",Zt(_,p))})).apply(this,arguments)}function zo(_,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(_,p){return Dr(_,p)})).apply(this,arguments)}function Oi(_,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(_,p){return Dr(_,p)})).apply(this,arguments)}function co(_,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(_,p){return Dr(_,p)})).apply(this,arguments)}function xr(_,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(_,p){return Dr(_,p)})).apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,p))})).apply(this,arguments)}function Hu(){return(Hu=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,p))})).apply(this,arguments)}class Tc extends or{constructor(p,m,b,T=null){super("password",b),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new Tc(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Tc(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function lo(_,p){return $o.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function qp(_,p){return Ac.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Uu(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ic(_,p){return Hu.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Jn(_,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithIdp",Zt(_,p))})).apply(this,arguments)}class os extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new os(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const Z=new os(b,T);return Z.idToken=k.idToken||void 0,Z.accessToken=k.accessToken||void 0,Z.secret=k.secret,Z.nonce=k.nonce,Z.pendingToken=k.pendingToken||null,Z}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Jn(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Yp(_,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:sendVerificationCode",Zt(_,p))})).apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,p))})).apply(this,arguments)}function Gu(){return(Gu=(0,l.Z)(function*(_,p){const m=yield Ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,p));if(m.temporaryProof)throw wr(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Zp={USER_NOT_FOUND:"user-not-found"};function xl(){return(xl=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zp)})).apply(this,arguments)}class as extends or{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new as({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new as({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Rc(_,p){return Ms.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Kp(_,p){return Gu.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Oh(_,p){return xl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}=p;return b||m||T||k?new as({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}):null}}class Sl{constructor(p){var m,b,T,k,Z,ge;const Ve=(0,F.zd)((0,F.pd)(p)),Be=null!==(m=Ve.apiKey)&&void 0!==m?m:null,ft=null!==(b=Ve.oobCode)&&void 0!==b?b:null,et=function yy(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);H(Be&&ft&&et,"argument-error"),this.apiKey=Be,this.operation=et,this.code=ft,this.continueUrl=null!==(k=Ve.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Z=Ve.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ge=Ve.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const m=function $u(_){const p=(0,F.zd)((0,F.pd)(_)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||m||p||_}(p);try{return new Sl(m)}catch{return null}}}let Al=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return Tc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=Sl.parseLink(b);return H(T,"argument-error"),Tc._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Sr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ks extends Sr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Wo extends ks{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return H("providerId"in m&&"signInMethod"in m,"argument-error"),os._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Wo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Wo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:k,nonce:Z,providerId:ge}=p;if(!b&&!T&&!m&&!k||!ge)return null;try{return new Wo(ge)._credential({idToken:m,accessToken:b,nonce:Z,pendingToken:k})}catch{return null}}}let ka=(()=>{class _ extends ks{constructor(){super("facebook.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Oa=(()=>{class _ extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return _.credential(b,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),kc=(()=>{class _ extends ks{constructor(){super("github.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Fi extends or{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Jn(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:k}=m;return b&&T&&k&&b===T?new Fi(b,k):null}static _create(p,m){return new Fi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bn extends Sr{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return bn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return bn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Fi.fromJSON(p);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Fi._create(b,m)}catch{return null}}}let Il=(()=>{class _ extends ks{constructor(){super("twitter.com")}static credential(m,b){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return _.credential(b,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Tl(_,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signUp",Zt(_,p))})).apply(this,arguments)}class Nn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,T=!1){return(0,l.Z)(function*(){const k=yield wt._fromIdTokenResponse(p,b,T),Z=Fh(b);return new Nn({user:k,providerId:Z,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=Fh(b);return new Nn({user:p,providerId:T,_tokenResponse:b,operationType:m})})()}}function Fh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function zu(){return(zu=(0,l.Z)(function*(_){var p;const m=wn(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Nn({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Tl(m,{returnSecureToken:!0}),T=yield Nn._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Yo extends F.ZR{constructor(p,m,b,T){var k;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,T){return new Yo(p,m,b,T)}}function Ph(_,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Yo._fromErrorAndOperation(_,k,p,b):k})}function en(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function kl(){return(kl=(0,l.Z)(function*(_,p){const m=(0,F.m9)(_);yield fo(!0,m,p);const{providerUserInfo:b}=yield Rn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=en(b||[]);return m.providerData=m.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Cn(_,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(_,p,m=!1){const b=yield Mi(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return Nn._forOperation(_,"link",b)})).apply(this,arguments)}function fo(_,p,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(_,p,m){yield sr(p);const T=!1===_?"provider-already-linked":"no-such-provider";H(en(p.providerData).has(m)===_,p.auth,T)})).apply(this,arguments)}function Ki(_,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(_,p,m=!1){const{auth:b}=_,T="reauthenticate";try{const k=yield Mi(_,Ph(b,T,p,_),m);H(k.idToken,b,"internal-error");const Z=Ge(k.idToken);H(Z,b,"internal-error");const{sub:ge}=Z;return H(_.uid===ge,b,"user-mismatch"),Nn._forOperation(_,T,k)}catch(k){throw"auth/user-not-found"===k?.code&&Se(b,"user-mismatch"),k}})).apply(this,arguments)}function Ko(_,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,l.Z)(function*(_,p,m=!1){const b="signIn",T=yield Ph(_,b,p),k=yield Nn._fromIdTokenResponse(_,b,T);return m||(yield _._updateCurrentUser(k.user)),k})).apply(this,arguments)}function qt(_,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(_,p){return Ko(wn(_),p)})).apply(this,arguments)}function Zo(_,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(_,p){const m=(0,F.m9)(_);return yield fo(!1,m,p.providerId),Cn(m,p)})).apply(this,arguments)}function Pi(_,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(_,p){return Ki((0,F.m9)(_),p)})).apply(this,arguments)}function Qo(_,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(_,p){return Ti(_,"POST","/v1/accounts:signInWithCustomToken",Zt(_,p))})).apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(_,p){const m=wn(_),b=yield Qo(m,{token:p,returnSecureToken:!0}),T=yield Nn._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class po{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Na._fromServerResponse(p,m):Se(p,"internal-error")}}class Na extends po{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Na(m)}}function La(_,p,m){var b;H((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Fl(){return(Fl=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_),T={requestType:"PASSWORD_RESET",email:p};m&&La(b,T,m),yield Oi(b,T)})).apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(_,p,m){yield mi((0,F.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(_,p){yield Ma((0,F.m9)(_),{oobCode:p})})).apply(this,arguments)}function Xo(_,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(_,p){const m=(0,F.m9)(_),b=yield mi(m,{oobCode:p}),T=b.requestType;switch(H(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,m,"internal-error");default:H(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=po._fromServerResponse(wn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(_,p){const{data:m}=yield Xo((0,F.m9)(_),p);return m.email})).apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(_,p,m){const b=wn(_),T=yield Tl(b,{returnSecureToken:!0,email:p,password:m}),k=yield Nn._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_),T={requestType:"EMAIL_SIGNIN",email:p};H(m.handleCodeInApp,b,"argument-error"),m&&La(b,T,m),yield co(b,T)})).apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_),T=Al.credentialWithLink(p,m||Pe());return H(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),qt(b,T)})).apply(this,arguments)}function us(_,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:createAuthUri",Zt(_,p))})).apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(_,p){const b={identifier:p,continueUri:ut()?Pe():"http://localhost"},{signinMethods:T}=yield us((0,F.m9)(_),b);return T||[]})).apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(_,p){const m=(0,F.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&La(m.auth,T,p);const{email:k}=yield zo(m.auth,T);k!==_.email&&(yield _.reload())})).apply(this,arguments)}function Lc(){return(Lc=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&La(b.auth,k,m);const{email:Z}=yield xr(b.auth,k);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ua(_,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(_,p){return Lt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,F.m9)(_),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Mi(b,Ua(b.auth,k));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ge=b.providerData.find(({providerId:Ve})=>"password"===Ve);ge&&(ge.displayName=b.displayName,ge.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function mo(_,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(_,p,m){const{auth:b}=_,k={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const Z=yield Mi(_,Uu(b,k));yield _._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class ra{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Bc extends ra{constructor(p,m,b,T){super(p,m,b),this.username=T}}class Ll extends ra{constructor(p,m){super(p,"facebook.com",m)}}class Uc extends Bc{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Wu extends ra{constructor(p,m){super(p,"google.com",m)}}class di extends Bc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Vs(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Vc(_){var p,m;if(!_)return null;const{providerId:b}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},k=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const Z=null===(m=null===(p=Ge(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new ra(k,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new Ll(k,T);case"github.com":return new Uc(k,T);case"google.com":return new Wu(k,T);case"twitter.com":return new di(k,T,_.screenName||null);case"custom":case"anonymous":return new ra(k,null);default:return new ra(k,b,T)}}(m)}class ds{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ds("enroll",p)}static _fromMfaPendingCredential(p){return new ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class $a{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=wn(p),T=m.customData._serverResponse,k=(T.mfaInfo||[]).map(ge=>po._fromServerResponse(b,ge));H(T.mfaPendingCredential,b,"internal-error");const Z=ds._fromMfaPendingCredential(T.mfaPendingCredential);return new $a(Z,k,function(){var ge=(0,l.Z)(function*(Ve){const Be=yield Ve._process(b,Z);delete T.mfaInfo,delete T.mfaPendingCredential;const ft=Object.assign(Object.assign({},T),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(m.operationType){case"signIn":const et=yield Nn._fromIdTokenResponse(b,m.operationType,ft);return yield b._updateCurrentUser(et.user),et;case"reauthenticate":return H(m.user,b,"internal-error"),Nn._forOperation(m.user,m.operationType,ft);default:Se(b,"internal-error")}});return function(Ve){return ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Vh(_,p){return Lt(_,"POST","/v2/accounts/mfaEnrollment:start",Zt(_,p))}class Ku{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>po._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ku(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const T=p,k=yield b.getSession(),Z=yield Mi(b.user,T._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,T=yield m.user.getIdToken(),k=yield Mi(m.user,function Bl(_,p){return Lt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(_,p))}(m.user.auth,{idToken:T,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Ul=new WeakMap,_o="__sak";class Bh{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Us=(()=>{class _ extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jp(){const _=(0,F.z$)();return ui(_)||xn(_)}()&&function Ta(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),k=this.localCache[b];T!==k&&m(b,k,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ge,Ve,Be)=>{this.notifyListeners(ge,Be)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(T);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const k=()=>{const ge=this.storage.getItem(T);!b&&this.localCache[T]===ge||this.notifyListeners(T,ge)},Z=this.storage.getItem(T);!function Is(){return(0,F.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,k=this;return(0,l.Z)(function*(){yield T().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,l.Z)(function*(){const k=yield b().call(T,m);return T.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,T=this;return(0,l.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),lr=(()=>{class _ extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Xu=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const T=m,{eventId:k,eventType:Z,data:ge}=T.data,Ve=b.handlersMap[Z];if(!Ve?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:Z});const Be=Array.from(Ve).map(function(){var et=(0,l.Z)(function*(ti){return ti(T.origin,ge)});return function(ti){return et.apply(this,arguments)}}()),ft=yield function Qu(_){return Promise.all(_.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Be);T.ports[0].postMessage({status:"done",eventId:k,eventType:Z,response:ft})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Mr(_="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return _+m}class Gc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var T=this;return(0,l.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Z,ge;return new Promise((Ve,Be)=>{const ft=Mr("",20);k.port1.start();const et=setTimeout(()=>{Be(new Error("unsupported_event"))},b);ge={messageChannel:k,onMessage(ti){const ps=ti;if(ps.data.eventId===ft)switch(ps.data.status){case"ack":clearTimeout(et),Z=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ve(ps.data.response);break;default:clearTimeout(et),clearTimeout(Z),Be(new Error("invalid_response"))}}},T.handlers.add(ge),k.port1.addEventListener("message",ge.onMessage),T.target.postMessage({eventType:p,eventId:ft,data:m},[k.port2])}).finally(()=>{ge&&T.removeMessageHandler(ge)})})()}}function Wt(){return window}function Di(){return typeof Wt().WorkerGlobalScope<"u"&&"function"==typeof Wt().importScripts}function qa(){return(qa=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kr="firebaseLocalStorageDb",vo="firebaseLocalStorage",sa="fbase_key";class oa{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xi(_,p){return _.transaction([vo],p?"readwrite":"readonly").objectStore(vo)}function Wa(){const _=indexedDB.open(kr,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(vo,{keyPath:sa})}catch(T){m(T)}}),_.addEventListener("success",(0,l.Z)(function*(){const b=_.result;b.objectStoreNames.contains(vo)?p(b):(b.close(),yield function Hl(){const _=indexedDB.deleteDatabase(kr);return new oa(_).toPromise()}(),p(yield Wa()))}))})}function qr(_,p,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(_,p,m){const b=xi(_,!0).put({[sa]:p,value:m});return new oa(b).toPromise()})).apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(_,p){const m=xi(_,!1).get(p),b=yield new oa(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function jl(_,p){const m=xi(_,!0).delete(p);return new oa(m).toPromise()}const _n=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Wa()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(T++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Di()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Xu._getInstance(function Hs(){return Di()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(T,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(T,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function Uh(){return qa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Gc(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Sn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wa();return yield qr(m,_o,"1"),yield jl(m,_o),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(k=>qr(k,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const T=yield b._withRetries(k=>function Ya(_,p){return js.apply(this,arguments)}(k,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(T=>jl(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(Z=>{const ge=xi(Z,!1).getAll();return new oa(ge).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:Z,value:ge}of b)k.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ge)&&(m.notifyListeners(Z,ge),T.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!k.has(Z)&&(m.notifyListeners(Z,null),T.push(Z));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ka(_,p){return Lt(_,"POST","/v2/accounts/mfaSignIn:start",Zt(_,p))}function $l(){return($l=(0,l.Z)(function*(_){return(yield Lt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ju(_){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=p,b.onerror=T=>{const k=ve("internal-error");k.customData=T,m(k)},b.type="text/javascript",b.charset="UTF-8",function Za(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(b)})}function Qa(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Li=1e12;class Or{constructor(p){this.auth=p,this.counter=Li,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Vn(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Li;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Li))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||Li))||void 0===b||b.execute(),""})()}}class Vn{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;H(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function st(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wo=Qa("rcb"),Cy=new ln(3e4,6e4);class fn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wt().grecaptcha}load(p,m=""){return H(function td(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Wt().grecaptcha):new Promise((b,T)=>{const k=Wt().setTimeout(()=>{T(ve(p,"network-request-failed"))},Cy.get());Wt()[wo]=()=>{Wt().clearTimeout(k),delete Wt()[wo];const ge=Wt().grecaptcha;if(!ge)return void T(ve(p,"internal-error"));const Ve=ge.render;ge.render=(Be,ft)=>{const et=Ve(Be,ft);return this.counter++,et},this.hostLanguage=m,b(ge)},Ju(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:wo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),T(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Wt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nd{load(p){return(0,l.Z)(function*(){return new Or(p)})()}clearedOneInstance(){}}const $s="recaptcha",Wr={theme:"light",type:"image"};class eg{constructor(p,m=Object.assign({},Wr),b){this.parameters=m,this.type=$s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;H(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nd:new fn,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const Z=ge=>{!ge||(p.tokenChangeListeners.delete(Z),k(ge))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Wt()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){H(ut()&&!Di(),p.auth,"internal-error"),yield function Hh(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function qn(_){return $l.apply(this,arguments)}(p.auth);H(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class id{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=as._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function rd(){return(rd=(0,l.Z)(function*(_,p,m){const b=wn(_),T=yield Yr(b,p,(0,F.m9)(m));return new id(T,k=>qt(b,k))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_);yield fo(!1,b,"phone");const T=yield Yr(b.auth,p,(0,F.m9)(m));return new id(T,k=>Zo(b,k))})).apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_),T=yield Yr(b.auth,p,(0,F.m9)(m));return new id(T,k=>Pi(b,k))})).apply(this,arguments)}function Yr(_,p,m){return zc.apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(_,p,m){var b;const T=yield m.verify();try{let k;if(H("string"==typeof T,_,"argument-error"),H(m.type===$s,_,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const Z=k.session;if("phoneNumber"in k)return H("enroll"===Z.type,_,"internal-error"),(yield Vh(_,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{H("signin"===Z.type,_,"internal-error");const ge=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return H(ge,_,"missing-multi-factor-info"),(yield Ka(_,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Yp(_,{phoneNumber:k.phoneNumber,recaptchaToken:T});return Z}}finally{m._reset()}})).apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(_,p){yield Cn((0,F.m9)(_),p)})).apply(this,arguments)}let hs=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=wn(m)}verifyPhoneNumber(m,b){return Yr(this.auth,m,(0,F.m9)(b))}static credential(m,b){return as._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?as._fromTokenResponse(b,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Zi(_,p){return p?te(p):(H(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Kr extends or{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Jn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Jn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Jn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ja(_){return Ko(_.auth,new Kr(_),_.bypassAuthState)}function Wl(_){const{auth:p,user:m}=_;return H(m,p,"internal-error"),Ki(m,new Kr(_),_.bypassAuthState)}function jh(_){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(_){const{auth:p,user:m}=_;return H(m,p,"internal-error"),Cn(m,new Kr(_),_.bypassAuthState)})).apply(this,arguments)}class qc{constructor(p,m,b,T,k=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:k,tenantId:Z,error:ge,type:Ve}=p;if(ge)return void m.reject(ge);const Be={auth:m.auth,requestUri:b,sessionId:T,tenantId:Z||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Be))}catch(ft){m.reject(ft)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ja;case"linkViaPopup":case"linkViaRedirect":return jh;case"reauthViaPopup":case"reauthViaRedirect":return Wl;default:Se(this.auth,"internal-error")}}resolve(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wc=new ln(2e3,1e4);function Fr(){return(Fr=(0,l.Z)(function*(_,p,m){const b=wn(_);je(_,p,Sr);const T=Zi(b,m);return new el(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_);je(b.auth,p,Sr);const T=Zi(b.auth,m);return new el(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_);je(b.auth,p,Sr);const T=Zi(b.auth,m);return new el(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let el=(()=>{class _ extends qc{constructor(m,b,T,k,Z){super(m,b,k,Z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return H(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){K(1===m.filter.length,"Popup operations only handle one event");const b=Mr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=null!==(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Wc.get())};m()}}return _.currentPopupAction=null,_})();const ca=new Map;class Gh extends qc{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=ca.get(m.auth._key());if(!b){try{const k=(yield function Kc(_,p){return ua.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(T){b=()=>Promise.reject(T)}ca.set(m.auth._key(),b)}return m.bypassAuthState||ca.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ua(){return(ua=(0,l.Z)(function*(_,p){const m=L(p),b=M(_);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function Ws(_,p){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(_,p){return M(_)._set(L(p),"true")})).apply(this,arguments)}function S(_,p){ca.set(_._key(),p)}function M(_){return te(_._redirectPersistence)}function L(_){return Qn("pendingRedirect",_.config.apiKey,_.name)}function Te(){return(Te=(0,l.Z)(function*(_,p,m){const b=wn(_);je(_,p,Sr);const T=Zi(b,m);return yield Ws(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_);je(b.auth,p,Sr);const T=Zi(b.auth,m);yield Ws(T,b.auth);const k=yield $h(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(_,p,m){const b=(0,F.m9)(_);je(b.auth,p,Sr);const T=Zi(b.auth,m);yield fo(!1,b,p.providerId),yield Ws(T,b.auth);const k=yield $h(b);return T._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(_,p){return yield wn(_)._initializationPromise,bo(_,p,!1)})).apply(this,arguments)}function bo(_,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(_,p,m=!1){const b=wn(_),T=Zi(b,p),Z=yield new Gh(b,T,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function $h(_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(_){const p=Mr(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Ks{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function zh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zc(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Zc(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xr(p))}saveEventToCache(p){this.cachedEventUids.add(Xr(p)),this.lastProcessedEventTime=Date.now()}}function Xr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Zc({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function Kl(_){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(_,p={}){return Lt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const tg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qh=/^https?/;function fs(){return(fs=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Kl(_);for(const m of p)try{if(Zs(m))return}catch{}Se(_,"unauthorized-domain")})).apply(this,arguments)}function Zs(_){const p=Pe(),{protocol:m,hostname:b}=new URL(p);if(_.startsWith("chrome-extension://")){const Z=new URL(_);return""===Z.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===b}if(!qh.test(m))return!1;if(tg.test(_))return b===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const Xc=new ln(3e4,6e4);function Wh(){const _=Wt().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Ql=null;function Ey(_){return Ql=Ql||function Yh(_){return new Promise((p,m)=>{var b,T,k;function Z(){Wh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wh(),m(ve(_,"network-request-failed"))},timeout:Xc.get()})}if(null!==(T=null===(b=Wt().gapi)||void 0===b?void 0:b.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(k=Wt().gapi)||void 0===k||!k.load){const ge=Qa("iframefcb");return Wt()[ge]=()=>{gapi.load?Z():m(ve(_,"network-request-failed"))},Ju(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ve=>m(Ve))}Z()}}).catch(p=>{throw Ql=null,p})}(_),Ql}const ad=new ln(5e3,15e3),Jc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ld=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cb(_){const p=_.config;H(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?Fn(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:_.name,v:ae.SDK_VERSION},T=ld.get(_.config.apiHost);T&&(b.eid=T);const k=_._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,F.xO)(b).slice(1)}`}function rg(){return rg=(0,l.Z)(function*(_){const p=yield Ey(_),m=Wt().gapi;return H(m,_,"internal-error"),p.open({where:document.body,url:cb(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jc,dontclear:!0},b=>new Promise(function(){var T=(0,l.Z)(function*(k,Z){yield b.restyle({setHideOnLeave:!1});const ge=ve(_,"network-request-failed"),Ve=Wt().setTimeout(()=>{Z(ge)},ad.get());function Be(){Wt().clearTimeout(Ve),k(b)}b.ping(Be).then(Be,()=>{Z(ge)})});return function(k,Z){return T.apply(this,arguments)}}()))}),rg.apply(this,arguments)}const xy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eu(_,p,m,b,T,k){H(_.config.authDomain,_,"auth-domain-config-required"),H(_.config.apiKey,_,"invalid-api-key");const Z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:T};if(p instanceof Sr){p.setDefaultLanguage(_.languageCode),Z.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Be]of Object.entries(k||{}))Z[Ve]=Be}if(p instanceof ks){const Ve=p.getScopes().filter(Be=>""!==Be);Ve.length>0&&(Z.scopes=Ve.join(","))}_.tenantId&&(Z.tid=_.tenantId);const ge=Z;for(const Ve of Object.keys(ge))void 0===ge[Ve]&&delete ge[Ve];return`${function og({config:_}){return _.emulator?Fn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(ge).slice(1)}`}const tu="webStorageSupport";class ud extends class Ay{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return we("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ud(p)}_finalizeEnroll(p,m,b){return function Bs(_,p){return Lt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(_,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function sn(_,p){return Lt(_,"POST","/v2/accounts/mfaSignIn:finalize",Zt(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ub=(()=>{class _{constructor(){}static assertion(m){return ud._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var dd="@firebase/auth";class nl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function il(){return window}function ru(){return(ru=(0,l.Z)(function*(_,p,m){var b;const{BuildInfo:T}=il();K(p.sessionId,"AuthEvent did not contain a session ID");const k=yield pd(p.sessionId),Z={};return xn()?Z.ibi=T.packageName:$e()?Z.apn=T.packageName:Se(_,"operation-not-supported-in-this-environment"),T.displayName&&(Z.appDisplayName=T.displayName),Z.sessionId=k,eu(_,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)})).apply(this,arguments)}function fd(){return(fd=(0,l.Z)(function*(_){const{BuildInfo:p}=il(),m={};xn()?m.iosBundleId=p.packageName:$e()?m.androidPackageName=p.packageName:Se(_,"operation-not-supported-in-this-environment"),yield Kl(_,m)})).apply(this,arguments)}function Jh(){return(Jh=(0,l.Z)(function*(_,p,m){const{cordova:b}=il();let T=()=>{};try{yield new Promise((k,Z)=>{let ge=null;function Ve(){var et;k();const ti=null===(et=b.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof ti&&ti(),"function"==typeof m?.close&&m.close()}function Be(){ge||(ge=window.setTimeout(()=>{Z(ve(_,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&Be()}p.addPassiveListener(Ve),document.addEventListener("resume",Be,!1),$e()&&document.addEventListener("visibilitychange",ft,!1),T=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",Be,!1),document.removeEventListener("visibilitychange",ft,!1),ge&&window.clearTimeout(ge)}})}finally{T()}})).apply(this,arguments)}function pd(_){return ef.apply(this,arguments)}function ef(){return(ef=(0,l.Z)(function*(_){const p=xo(_),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xo(_){if(K(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),m=new Uint8Array(p);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function Iy(_){(0,ae._registerComponent)(new ee.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:k,authDomain:Z}=b.options;return((ge,Ve)=>{H(k&&!k.includes(":"),"invalid-api-key",{appName:ge.name}),H(!Z?.includes(":"),"argument-error",{appName:ge.name});const Be={apiKey:k,authDomain:Z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Er(_)},ft=new Dl(ge,Ve,Be);return function ce(_,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(te);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(b,p?.popupRedirectResolver)}(ft,m),ft})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ee.wA("auth-internal",p=>{const m=wn(p.getProvider("auth").getImmediate());return new nl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(dd,"0.20.3",function hd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(dd,"0.20.3","esm2017")}("Browser");class tf extends Ks{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function gd(_){return cg.apply(this,arguments)}function cg(){return(cg=(0,l.Z)(function*(_){const p=yield ou()._get(yd(_));return p&&(yield ou()._remove(yd(_))),p})).apply(this,arguments)}function md(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);_.push(p.charAt(b))}return _.join("")}function ou(){return te(Us)}function yd(_){return Qn("authEvent",_.config.apiKey,_.name)}function Jl(_){if(!_?.includes("?"))return{};const[p,...m]=_.split("?");return(0,F.zd)(m.join("?"))}function dg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function rl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function vd(_=(0,F.z$)()){return!("file:"!==rl()&&"ionic:"!==rl()&&"capacitor:"!==rl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function uf(){try{const _=self.localStorage,p=Mr();if(_)return _.setItem(p,"1"),_.removeItem(p),!function ky(_=(0,F.z$)()){return function lf(){return(0,F.w1)()&&11===document?.documentMode}()||function cf(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch{return df()&&(0,F.hl)()}return!1}function df(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function au(){return(function Wn(){return"http:"===rl()||"https:"===rl()}()||(0,F.ru)()||vd())&&!function hg(){return(0,F.b$)()||(0,F.UG)()}()&&uf()&&!df()}function fg(){return vd()&&typeof document<"u"}function hf(){return(hf=(0,l.Z)(function*(){return!!fg()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const ur={LOCAL:"local",NONE:"none",SESSION:"session"},sl=H,wd="persistence";function bd(_){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(_){yield _._initializationPromise;const p=Cd(),m=Qn(wd,_.config.apiKey,_.name);p&&p.setItem(m,_._getPersistence())})).apply(this,arguments)}function Cd(){var _;try{return(null===(_=function lu(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Fy=H;class Ao{constructor(){this.browserResolver=te(class tl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=bo,this._overrideRedirectResult=S}_openPopup(p,m,b,T){var k=this;return(0,l.Z)(function*(){var Z;K(null===(Z=k.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ge=eu(p,m,b,Pe(),T);return function Zh(_,p,m,b=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ge="";const Ve=Object.assign(Object.assign({},xy),{width:b.toString(),height:T.toString(),top:k,left:Z}),Be=(0,F.z$)().toLowerCase();m&&(ge=gi(Be)?"_blank":m),Xn(Be)&&(p=p||"http://localhost",Ve.scrollbars="yes");const ft=Object.entries(Ve).reduce((ti,[ps,al])=>`${ti}${ps}=${al},`,"");if(function Pn(_=(0,F.z$)()){var p;return xn(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Be)&&"_self"!==ge)return function Qh(_,p){const m=document.createElement("a");m.href=_,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ge),new sg(null);const et=window.open(p||"",ge,ft);H(et,_,"popup-blocked");try{et.focus()}catch{}return new sg(et)}(p,ge,Mr())})()}_openRedirect(p,m,b,T){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(p),function Rr(_){Wt().location.href=_}(eu(p,m,b,Pe(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:k}=this.eventManagers[m];return T?Promise.resolve(T):(K(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function Dy(_){return rg.apply(this,arguments)}(p),T=new Ks(p);return b.register("authEvent",k=>(H(k?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(tu,{type:tu},T=>{var k;const Z=null===(k=T?.[0])||void 0===k?void 0:k[tu];void 0!==Z&&m(!!Z),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Qc(_){return fs.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return yn()||ui()||xn()}}),this.cordovaResolver=te(class ug{constructor(){this._redirectPersistence=lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bo,this._overrideRedirectResult=S}_initialize(p){var m=this;return(0,l.Z)(function*(){const b=p._key();let T=m.eventManagers.get(b);return T||(T=new tf(p),m.eventManagers.set(b,T),m.attachCallbackListeners(p,T)),T})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,T){var k=this;return(0,l.Z)(function*(){!function hb(_){var p,m,b,T,k,Z,ge,Ve,Be,ft;const et=il();H("function"==typeof(null===(p=et?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=et?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(k=null===(T=null===(b=et?.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ve=null===(ge=null===(Z=et?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(ft=null===(Be=et?.cordova)||void 0===Be?void 0:Be.InAppBrowser)||void 0===ft?void 0:ft.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield k._initialize(p);yield Z.initialized(),Z.resetRedirect(),function x(){ca.clear()}(),yield k._originValidation(p);const ge=function lg(_,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:md(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(p,b,T);yield function nf(_,p){return ou()._set(yd(_),p)}(p,ge);const Ve=yield function iu(_,p,m){return ru.apply(this,arguments)}(p,ge,m),Be=yield function db(_){const{cordova:p}=il();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let T=null;b?p.plugins.browsertab.openUrl(_):T=p.InAppBrowser.open(_,function Uo(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ve);return function Ty(_,p,m){return Jh.apply(this,arguments)}(p,Z,Be)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ag(_){return fd.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:k}=il(),Z=setTimeout((0,l.Z)(function*(){yield gd(p),m.onEvent(dg())}),500),ge=function(){var ft=(0,l.Z)(function*(et){clearTimeout(Z);const ti=yield gd(p);let ps=null;ti&&et?.url&&(ps=function fb(_,p){var m,b;const T=function pb(_){const p=Jl(_),m=p.link?decodeURIComponent(p.link):void 0,b=Jl(m).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Jl(T).link||T||b||m||_}(p);if(T.includes("/__/auth/callback")){const k=Jl(T),Z=k.firebaseError?function My(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,ge=null===(b=null===(m=Z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ve=ge?ve(ge):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(ti,et.url)),m.onEvent(ps||dg())});return function(ti){return ft.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ge);const Ve=T,Be=`${k.packageName.toLowerCase()}://`;il().handleOpenURL=function(){var ft=(0,l.Z)(function*(et){if(et.toLowerCase().startsWith(Be)&&ge({url:et}),"function"==typeof Ve)try{Ve(et)}catch(ti){console.error(ti)}});return function(et){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lr,this._completeRedirectFn=bo,this._overrideRedirectResult=S}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,T){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,b,T)})()}_openRedirect(p,m,b,T){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,b,T)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return fg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function gb(){return hf.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function pg(_){return _.unwrap()}function cu(_){return mg(_)}function mg(_){const{_tokenResponse:p}=_ instanceof F.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return hs.credentialFromResult(_);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Oa;break;case"facebook.com":b=ka;break;case"github.com":b=kc;break;case"twitter.com":b=Il;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:Z,pendingToken:ge,nonce:Ve}=p;return k||Z||T||ge?ge?m.startsWith("saml.")?Fi._create(m,ge):os._fromParams({providerId:m,signInMethod:m,pendingToken:ge,idToken:T,accessToken:k}):new Wo(m).credential({idToken:T,accessToken:k,rawNonce:Ve}):null}return _ instanceof F.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Qi(_,p){return p.catch(m=>{throw m instanceof F.ZR&&function gg(_,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Ny(_,function ei(_,p){var m;const b=(0,F.m9)(_),T=p;return H(p.customData.operationType,b,"argument-error"),H(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),$a._fromError(b,T)}(_,p));else if(b){const T=mg(p),k=p;T&&(k.credential=T,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:cu(m),additionalUserInfo:Vs(m),user:An.getOrCreate(T)}})}function Ed(_,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,l.Z)(function*(_,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Qi(_,m.confirm(b))}})).apply(this,arguments)}class Ny{constructor(p,m){this.resolver=m,this.auth=function Py(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qi(pg(this.auth),this.resolver.resolveSignIn(p))}}class An{constructor(p){this._delegate=p,this.multiFactor=function za(_){const p=(0,F.m9)(_);return Ul.has(p)||Ul.set(p,Ku._fromUser(p)),Ul.get(p)}(p)}static getOrCreate(p){return An.USER_MAP.has(p)||An.USER_MAP.set(p,new An(p)),An.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Qi(m.auth,Zo(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,l.Z)(function*(){return Ed(b.auth,function $c(_,p,m){return cn.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Qi(m.auth,function Yc(_,p,m){return Zr.apply(this,arguments)}(m._delegate,p,Ao))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield bd(wn(m.auth)),function ht(_,p,m){return function mt(_,p,m){return vi.apply(this,arguments)}(_,p,m)}(m._delegate,p,Ao)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Qi(m.auth,Pi(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ed(this.auth,function ql(_,p,m){return En.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Qi(this.auth,function zs(_,p,m){return od.apply(this,arguments)}(this._delegate,p,Ao))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield bd(wn(m.auth)),function Ze(_,p,m){return function yt(_,p,m){return Ot.apply(this,arguments)}(_,p,m)}(m._delegate,p,Ao)})()}sendEmailVerification(p){return function Nc(_,p){return ta.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Rl(_,p){return kl.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Lh(_,p){return mo((0,F.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function ja(_,p){return mo((0,F.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function _i(_,p){return Vi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Nl(_,p){return na.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function qu(_,p,m){return Lc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}An.USER_MAP=new WeakMap;const ol=H;let xd=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;ol(T,"invalid-api-key",{appName:m.name}),ol(T,"invalid-api-key",{appName:m.name});const k=typeof window<"u"?Ao:void 0;this._delegate=b.initialize({options:{persistence:Xi(T,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?An.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function ao(_,p,m){const b=wn(_);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!m?.disableWarnings,k=jn(p),{host:Z,port:ge}=function jo(_){const p=jn(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const k=T[1];return{host:k,port:ss(b.substr(k.length+1))}}{const[k,Z]=b.split(":");return{host:k,port:ss(Z)}}}(p);b.config.emulator={url:`${k}//${Z}${null===ge?"":`:${ge}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ge,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ki(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function Vt(_,p){return Ns.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Xo(this._delegate,m)}confirmPasswordReset(m,b){return function Fc(_,p,m){return Ae.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,l.Z)(function*(){return Qi(T._delegate,function Ir(_,p,m){return Jo.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ls(_,p){return Tr.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Nh(_,p){return"EMAIL_SIGNIN"===Sl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){ol(au(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function hi(_,p){return Qr.apply(this,arguments)}(m._delegate,Ao);return b?Qi(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function sf(_,p){wn(_)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:k,error:Z,complete:ge}=ff(m,b,T);return this._delegate.onAuthStateChanged(k,Z,ge)}onIdTokenChanged(m,b,T){const{next:k,error:Z,complete:ge}=ff(m,b,T);return this._delegate.onIdTokenChanged(k,Z,ge)}sendSignInLinkToEmail(m,b){return function Xp(_,p,m){return Pc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Va(_,p,m){return Fl.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let T;switch(function tc(_,p){sl(Object.values(ur).includes(p),_,"invalid-persistence-type"),(0,F.b$)()?sl(p!==ur.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?sl(p===ur.NONE,_,"unsupported-persistence-type"):df()?sl(p===ur.NONE||p===ur.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):sl(p===ur.NONE||uf(),_,"unsupported-persistence-type")}(b._delegate,m),m){case ur.SESSION:T=lr;break;case ur.LOCAL:T=(yield te(_n)._isAvailable())?_n:Us;break;case ur.NONE:T=Dt;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Qi(this._delegate,function Ml(_){return zu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Qi(this._delegate,qt(this._delegate,m))}signInWithCustomToken(m){return Qi(this._delegate,function Ps(_,p){return Pa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Qi(this._delegate,function Pl(_,p,m){return qt((0,F.m9)(_),Al.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Qi(this._delegate,function Ba(_,p,m){return $n.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ed(this._delegate,function Xa(_,p,m){return rd.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return ol(au(),b._delegate,"operation-not-supported-in-this-environment"),Qi(b._delegate,function Bi(_,p,m){return Fr.apply(this,arguments)}(b._delegate,m,Ao))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return ol(au(),b._delegate,"operation-not-supported-in-this-environment"),yield bd(b._delegate),function Q(_,p,m){return function re(_,p,m){return Te.apply(this,arguments)}(_,p,m)}(b._delegate,m,Ao)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function go(_,p){return cs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ur,_})();function ff(_,p,m){let b=_;"function"!=typeof _&&({next:b,error:p,complete:m}=_);const T=b;return{next:Z=>T(Z&&An.getOrCreate(Z)),error:p,complete:m}}function Xi(_,p){const m=function Oy(_,p){const m=Cd();if(!m)return[];const b=Qn(wd,_,p);switch(m.getItem(b)){case ur.NONE:return[Dt];case ur.LOCAL:return[_n,lr];case ur.SESSION:return[lr];default:return[]}}(_,p);if(typeof self<"u"&&!m.includes(_n)&&m.push(_n),typeof window<"u")for(const b of[Us,lr])m.includes(b)||m.push(b);return m.includes(Dt)||m.push(Dt),m}class nc{constructor(){this.providerId="phone",this._delegate=new hs(pg(Y.Z.auth()))}static credential(p,m){return hs.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}nc.PHONE_SIGN_IN_METHOD=hs.PHONE_SIGN_IN_METHOD,nc.PROVIDER_ID=hs.PROVIDER_ID;const Sd=H;class yg{constructor(p,m,b=Y.Z.app()){var T;Sd(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new eg(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _g(_){_.INTERNAL.registerComponent(new ee.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new xd(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Al,FacebookAuthProvider:ka,GithubAuthProvider:kc,GoogleAuthProvider:Oa,OAuthProvider:Wo,SAMLAuthProvider:bn,PhoneAuthProvider:nc,PhoneMultiFactorGenerator:ub,RecaptchaVerifier:yg,TwitterAuthProvider:Il,Auth:xd,AuthCredential:or,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.16")}(Y.Z)},3098:(rt,xe)=>{var l=function(){function Y(F){if(!F)throw new TypeError("Invalid argument; `value` has no value.");this.value=Y.EMPTY,F&&Y.isGuid(F)&&(this.value=F)}return Y.isGuid=function(F){var ae=F.toString();return F&&(F instanceof Y||Y.validator.test(ae))},Y.create=function(){return new Y([Y.gen(2),Y.gen(1),Y.gen(1),Y.gen(1),Y.gen(3)].join("-"))},Y.createEmpty=function(){return new Y("emptyguid")},Y.parse=function(F){return new Y(F)},Y.raw=function(){return[Y.gen(2),Y.gen(1),Y.gen(1),Y.gen(1),Y.gen(3)].join("-")},Y.gen=function(F){for(var ae="",se=0;se<F;se++)ae+=(65536*(1+Math.random())|0).toString(16).substring(1);return ae},Y.prototype.equals=function(F){return Y.isGuid(F)&&this.value===F.toString()},Y.prototype.isEmpty=function(){return this.value===Y.EMPTY},Y.prototype.toString=function(){return this.value},Y.prototype.toJSON=function(){return{value:this.value}},Y.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),Y.EMPTY="00000000-0000-0000-0000-000000000000",Y}();xe.i=l},8306:(rt,xe,P)=>{P.d(xe,{y:()=>j});var l=P(930),Y=P(727),F=P(8822),ae=P(4671);var ee=P(2416),ue=P(576),he=P(2806);let j=(()=>{class Ie{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const pe=new Ie;return pe.source=this,pe.operator=Ue,pe}subscribe(Ue,pe,ye){const qe=function ze(Ie){return Ie&&Ie instanceof l.Lv||function J(Ie){return Ie&&(0,ue.m)(Ie.next)&&(0,ue.m)(Ie.error)&&(0,ue.m)(Ie.complete)}(Ie)&&(0,Y.Nn)(Ie)}(Ue)?Ue:new l.Hp(Ue,pe,ye);return(0,he.x)(()=>{const{operator:Qe,source:Se}=this;qe.add(Qe?Qe.call(qe,Se):Se?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(pe){Ue.error(pe)}}forEach(Ue,pe){return new(pe=U(pe))((ye,qe)=>{const Qe=new l.Hp({next:Se=>{try{Ue(Se)}catch(ve){qe(ve),Qe.unsubscribe()}},error:qe,complete:ye});this.subscribe(Qe)})}_subscribe(Ue){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ue)}[F.L](){return this}pipe(...Ue){return function me(Ie){return 0===Ie.length?ae.y:1===Ie.length?Ie[0]:function(Ue){return Ie.reduce((pe,ye)=>ye(pe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=U(Ue))((pe,ye)=>{let qe;this.subscribe(Qe=>qe=Qe,Qe=>ye(Qe),()=>pe(qe))})}}return Ie.create=Me=>new Ie(Me),Ie})();function U(Ie){var Me;return null!==(Me=Ie??ee.v.Promise)&&void 0!==Me?Me:Promise}},7579:(rt,xe,P)=>{P.d(xe,{x:()=>ee});var l=P(8306),Y=P(727);const ae=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),me=P(2806);let ee=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const J=new ue(this,this);return J.operator=U,J}_throwIfClosed(){if(this.closed)throw new ae}next(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(U)}})}error(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:J}=this;for(;J.length;)J.shift().error(U)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:J,isStopped:ze,observers:Ie}=this;return J||ze?Y.Lc:(this.currentObservers=null,Ie.push(U),new Y.w0(()=>{this.currentObservers=null,(0,se.P)(Ie,U)}))}_checkFinalizedStatuses(U){const{hasError:J,thrownError:ze,isStopped:Ie}=this;J?U.error(ze):Ie&&U.complete()}asObservable(){const U=new l.y;return U.source=this,U}}return he.create=(j,U)=>new ue(j,U),he})();class ue extends ee{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===J||J.call(U,j)}error(j){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===J||J.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,J;return null!==(J=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==J?J:Y.Lc}}},930:(rt,xe,P)=>{P.d(xe,{Hp:()=>Ue,Lv:()=>J});var l=P(576),Y=P(727),F=P(2416),ae=P(7849),se=P(5032);const me=he("C",void 0,void 0);function he(Se,ve,Ce){return{kind:Se,value:ve,error:Ce}}var j=P(3410),U=P(2806);class J extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Qe}static create(ve,Ce,je){return new Ue(ve,Ce,je)}next(ve){this.isStopped?qe(function ue(Se){return he("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?qe(function ee(Se){return he("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?qe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ie(Se,ve){return ze.call(Se,ve)}class Me{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(ve)}catch(je){pe(je)}}error(ve){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(ve)}catch(je){pe(je)}else pe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ce){pe(Ce)}}}class Ue extends J{constructor(ve,Ce,je){let He;if(super(),(0,l.m)(ve)||!ve)He={next:ve??void 0,error:Ce??void 0,complete:je??void 0};else{let H;this&&F.v.useDeprecatedNextContext?(H=Object.create(ve),H.unsubscribe=()=>this.unsubscribe(),He={next:ve.next&&Ie(ve.next,H),error:ve.error&&Ie(ve.error,H),complete:ve.complete&&Ie(ve.complete,H)}):He=ve}this.destination=new Me(He)}}function pe(Se){F.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Se):(0,ae.h)(Se)}function qe(Se,ve){const{onStoppedNotification:Ce}=F.v;Ce&&j.z.setTimeout(()=>Ce(Se,ve))}const Qe={closed:!0,next:se.Z,error:function ye(Se){throw Se},complete:se.Z}},727:(rt,xe,P)=>{P.d(xe,{Lc:()=>me,w0:()=>se,Nn:()=>ee});var l=P(576);const F=(0,P(3888).d)(he=>function(U){he(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((J,ze)=>`${ze+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ae=P(8737);class se{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ie of U)Ie.remove(this);else U.remove(this);const{initialTeardown:J}=this;if((0,l.m)(J))try{J()}catch(Ie){j=Ie instanceof F?Ie.errors:[Ie]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ie of ze)try{ue(Ie)}catch(Me){j=j??[],Me instanceof F?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new F(j)}}add(j){var U;if(j&&j!==this)if(this.closed)ue(j);else{if(j instanceof se){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,ae.P)(U,j)}remove(j){const{_finalizers:U}=this;U&&(0,ae.P)(U,j),j instanceof se&&j._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const me=se.EMPTY;function ee(he){return he instanceof se||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function ue(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(rt,xe,P)=>{P.d(xe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,xe,P)=>{P.d(xe,{E:()=>Y});const Y=new(P(8306).y)(se=>se.complete())},8996:(rt,xe,P)=>{P.d(xe,{D:()=>ve});var l=P(8421),Y=P(5363),F=P(9468),me=P(8306),ue=P(2202),he=P(576),j=P(9672);function J(Ce,je){if(!Ce)throw new Error("Iterable cannot be null");return new me.y(He=>{(0,j.f)(He,je,()=>{const H=Ce[Symbol.asyncIterator]();(0,j.f)(He,je,()=>{H.next().then(we=>{we.done?He.complete():He.next(we.value)})},0,!0)})})}var ze=P(3670),Ie=P(8239),Me=P(1144),Ue=P(6495),pe=P(2206),ye=P(4532),qe=P(3260);function ve(Ce,je){return je?function Se(Ce,je){if(null!=Ce){if((0,ze.c)(Ce))return function ae(Ce,je){return(0,l.Xf)(Ce).pipe((0,F.R)(je),(0,Y.Q)(je))}(Ce,je);if((0,Me.z)(Ce))return function ee(Ce,je){return new me.y(He=>{let H=0;return je.schedule(function(){H===Ce.length?He.complete():(He.next(Ce[H++]),He.closed||this.schedule())})})}(Ce,je);if((0,Ie.t)(Ce))return function se(Ce,je){return(0,l.Xf)(Ce).pipe((0,F.R)(je),(0,Y.Q)(je))}(Ce,je);if((0,pe.D)(Ce))return J(Ce,je);if((0,Ue.T)(Ce))return function U(Ce,je){return new me.y(He=>{let H;return(0,j.f)(He,je,()=>{H=Ce[ue.h](),(0,j.f)(He,je,()=>{let we,K;try{({value:we,done:K}=H.next())}catch(oe){return void He.error(oe)}K?He.complete():He.next(we)},0,!0)}),()=>(0,he.m)(H?.return)&&H.return()})}(Ce,je);if((0,qe.L)(Ce))return function Qe(Ce,je){return J((0,qe.Q)(Ce),je)}(Ce,je)}throw(0,ye.z)(Ce)}(Ce,je):(0,l.Xf)(Ce)}},8421:(rt,xe,P)=>{P.d(xe,{Xf:()=>ze});var l=P(655),Y=P(1144),F=P(8239),ae=P(8306),se=P(3670),me=P(2206),ee=P(4532),ue=P(6495),he=P(3260),j=P(576),U=P(7849),J=P(8822);function ze(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,se.c)(Se))return function Ie(Se){return new ae.y(ve=>{const Ce=Se[J.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,Y.z)(Se))return function Me(Se){return new ae.y(ve=>{for(let Ce=0;Ce<Se.length&&!ve.closed;Ce++)ve.next(Se[Ce]);ve.complete()})}(Se);if((0,F.t)(Se))return function Ue(Se){return new ae.y(ve=>{Se.then(Ce=>{ve.closed||(ve.next(Ce),ve.complete())},Ce=>ve.error(Ce)).then(null,U.h)})}(Se);if((0,me.D)(Se))return ye(Se);if((0,ue.T)(Se))return function pe(Se){return new ae.y(ve=>{for(const Ce of Se)if(ve.next(Ce),ve.closed)return;ve.complete()})}(Se);if((0,he.L)(Se))return function qe(Se){return ye((0,he.Q)(Se))}(Se)}throw(0,ee.z)(Se)}function ye(Se){return new ae.y(ve=>{(function Qe(Se,ve){var Ce,je,He,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,l.KL)(Se);!(je=yield Ce.next()).done;)if(ve.next(je.value),ve.closed)return}catch(we){He={error:we}}finally{try{je&&!je.done&&(H=Ce.return)&&(yield H.call(Ce))}finally{if(He)throw He.error}}ve.complete()})})(Se,ve).catch(Ce=>ve.error(Ce))})}},6451:(rt,xe,P)=>{P.d(xe,{T:()=>me});var l=P(8189),Y=P(8421),F=P(515),ae=P(3269),se=P(8996);function me(...ee){const ue=(0,ae.yG)(ee),he=(0,ae._6)(ee,1/0),j=ee;return j.length?1===j.length?(0,Y.Xf)(j[0]):(0,l.J)(he)((0,se.D)(j,ue)):F.E}},5403:(rt,xe,P)=>{P.d(xe,{x:()=>Y});var l=P(930);function Y(ae,se,me,ee,ue){return new F(ae,se,me,ee,ue)}class F extends l.Lv{constructor(se,me,ee,ue,he,j){super(se),this.onFinalize=he,this.shouldUnsubscribe=j,this._next=me?function(U){try{me(U)}catch(J){se.error(J)}}:super._next,this._error=ue?function(U){try{ue(U)}catch(J){se.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(U){se.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(rt,xe,P)=>{P.d(xe,{U:()=>F});var l=P(4482),Y=P(5403);function F(ae,se){return(0,l.e)((me,ee)=>{let ue=0;me.subscribe((0,Y.x)(ee,he=>{ee.next(ae.call(se,he,ue++))}))})}},8189:(rt,xe,P)=>{P.d(xe,{J:()=>F});var l=P(5577),Y=P(4671);function F(ae=1/0){return(0,l.z)(Y.y,ae)}},5577:(rt,xe,P)=>{P.d(xe,{z:()=>ue});var l=P(4004),Y=P(8421),F=P(4482),ae=P(9672),se=P(5403),ee=P(576);function ue(he,j,U=1/0){return(0,ee.m)(j)?ue((J,ze)=>(0,l.U)((Ie,Me)=>j(J,Ie,ze,Me))((0,Y.Xf)(he(J,ze))),U):("number"==typeof j&&(U=j),(0,F.e)((J,ze)=>function me(he,j,U,J,ze,Ie,Me,Ue){const pe=[];let ye=0,qe=0,Qe=!1;const Se=()=>{Qe&&!pe.length&&!ye&&j.complete()},ve=je=>ye<J?Ce(je):pe.push(je),Ce=je=>{Ie&&j.next(je),ye++;let He=!1;(0,Y.Xf)(U(je,qe++)).subscribe((0,se.x)(j,H=>{ze?.(H),Ie?ve(H):j.next(H)},()=>{He=!0},void 0,()=>{if(He)try{for(ye--;pe.length&&ye<J;){const H=pe.shift();Me?(0,ae.f)(j,Me,()=>Ce(H)):Ce(H)}Se()}catch(H){j.error(H)}}))};return he.subscribe((0,se.x)(j,ve,()=>{Qe=!0,Se()})),()=>{Ue?.()}}(J,ze,he,U)))}},5363:(rt,xe,P)=>{P.d(xe,{Q:()=>ae});var l=P(9672),Y=P(4482),F=P(5403);function ae(se,me=0){return(0,Y.e)((ee,ue)=>{ee.subscribe((0,F.x)(ue,he=>(0,l.f)(ue,se,()=>ue.next(he),me),()=>(0,l.f)(ue,se,()=>ue.complete(),me),he=>(0,l.f)(ue,se,()=>ue.error(he),me)))})}},3099:(rt,xe,P)=>{P.d(xe,{B:()=>me});var l=P(8996),Y=P(5698),F=P(7579),ae=P(930),se=P(4482);function me(ue={}){const{connector:he=(()=>new F.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:J=!0}=ue;return ze=>{let Ie=null,Me=null,Ue=null,pe=0,ye=!1,qe=!1;const Qe=()=>{Me?.unsubscribe(),Me=null},Se=()=>{Qe(),Ie=Ue=null,ye=qe=!1},ve=()=>{const Ce=Ie;Se(),Ce?.unsubscribe()};return(0,se.e)((Ce,je)=>{pe++,!qe&&!ye&&Qe();const He=Ue=Ue??he();je.add(()=>{pe--,0===pe&&!qe&&!ye&&(Me=ee(ve,J))}),He.subscribe(je),Ie||(Ie=new ae.Hp({next:H=>He.next(H),error:H=>{qe=!0,Qe(),Me=ee(Se,j,H),He.error(H)},complete:()=>{ye=!0,Qe(),Me=ee(Se,U),He.complete()}}),(0,l.D)(Ce).subscribe(Ie))})(ze)}}function ee(ue,he,...j){return!0===he?(ue(),null):!1===he?null:he(...j).pipe((0,Y.q)(1)).subscribe(()=>ue())}},9468:(rt,xe,P)=>{P.d(xe,{R:()=>Y});var l=P(4482);function Y(F,ae=0){return(0,l.e)((se,me)=>{me.add(F.schedule(()=>se.subscribe(me),ae))})}},5698:(rt,xe,P)=>{P.d(xe,{q:()=>ae});var l=P(515),Y=P(4482),F=P(5403);function ae(se){return se<=0?()=>l.E:(0,Y.e)((me,ee)=>{let ue=0;me.subscribe((0,F.x)(ee,he=>{++ue<=se&&(ee.next(he),se<=ue&&ee.complete())}))})}},8505:(rt,xe,P)=>{P.d(xe,{b:()=>se});var l=P(576),Y=P(4482),F=P(5403),ae=P(4671);function se(me,ee,ue){const he=(0,l.m)(me)||ee||ue?{next:me,error:ee,complete:ue}:me;return he?(0,Y.e)((j,U)=>{var J;null===(J=he.subscribe)||void 0===J||J.call(he);let ze=!0;j.subscribe((0,F.x)(U,Ie=>{var Me;null===(Me=he.next)||void 0===Me||Me.call(he,Ie),U.next(Ie)},()=>{var Ie;ze=!1,null===(Ie=he.complete)||void 0===Ie||Ie.call(he),U.complete()},Ie=>{var Me;ze=!1,null===(Me=he.error)||void 0===Me||Me.call(he,Ie),U.error(Ie)},()=>{var Ie,Me;ze&&(null===(Ie=he.unsubscribe)||void 0===Ie||Ie.call(he)),null===(Me=he.finalize)||void 0===Me||Me.call(he)}))}):ae.y}},4408:(rt,xe,P)=>{P.d(xe,{o:()=>se});var l=P(727);class Y extends l.w0{constructor(ee,ue){super()}schedule(ee,ue=0){return this}}const F={setInterval(me,ee,...ue){const{delegate:he}=F;return he?.setInterval?he.setInterval(me,ee,...ue):setInterval(me,ee,...ue)},clearInterval(me){const{delegate:ee}=F;return(ee?.clearInterval||clearInterval)(me)},delegate:void 0};var ae=P(8737);class se extends Y{constructor(ee,ue){super(ee,ue),this.scheduler=ee,this.work=ue,this.pending=!1}schedule(ee,ue=0){if(this.closed)return this;this.state=ee;const he=this.id,j=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(j,he,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(j,this.id,ue),this}requestAsyncId(ee,ue,he=0){return F.setInterval(ee.flush.bind(ee,this),he)}recycleAsyncId(ee,ue,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ue;F.clearInterval(ue)}execute(ee,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ee,ue);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ue){let j,he=!1;try{this.work(ee)}catch(U){he=!0,j=U||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ee,scheduler:ue}=this,{actions:he}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ee&&(this.id=this.recycleAsyncId(ue,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,xe,P)=>{P.d(xe,{v:()=>F});var l=P(6063);class Y{constructor(se,me=Y.now){this.schedulerActionCtor=se,this.now=me}schedule(se,me=0,ee){return new this.schedulerActionCtor(this,se).schedule(ee,me)}}Y.now=l.l.now;class F extends Y{constructor(se,me=Y.now){super(se,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:me}=this;if(this._active)return void me.push(se);let ee;this._active=!0;do{if(ee=se.execute(se.state,se.delay))break}while(se=me.shift());if(this._active=!1,ee){for(;se=me.shift();)se.unsubscribe();throw ee}}}},4986:(rt,xe,P)=>{P.d(xe,{P:()=>ae,z:()=>F});var l=P(4408);const F=new(P(7565).v)(l.o),ae=F},6063:(rt,xe,P)=>{P.d(xe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(rt,xe,P)=>{P.d(xe,{z:()=>l});const l={setTimeout(Y,F,...ae){const{delegate:se}=l;return se?.setTimeout?se.setTimeout(Y,F,...ae):setTimeout(Y,F,...ae)},clearTimeout(Y){const{delegate:F}=l;return(F?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(rt,xe,P)=>{P.d(xe,{h:()=>Y});const Y=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,xe,P)=>{P.d(xe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,xe,P)=>{P.d(xe,{_6:()=>me,jO:()=>ae,yG:()=>se});var l=P(576),Y=P(3532);function F(ee){return ee[ee.length-1]}function ae(ee){return(0,l.m)(F(ee))?ee.pop():void 0}function se(ee){return(0,Y.K)(F(ee))?ee.pop():void 0}function me(ee,ue){return"number"==typeof F(ee)?ee.pop():ue}},8737:(rt,xe,P)=>{function l(Y,F){if(Y){const ae=Y.indexOf(F);0<=ae&&Y.splice(ae,1)}}P.d(xe,{P:()=>l})},3888:(rt,xe,P)=>{function l(Y){const ae=Y(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(xe,{d:()=>l})},2806:(rt,xe,P)=>{P.d(xe,{O:()=>ae,x:()=>F});var l=P(2416);let Y=null;function F(se){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!Y;if(me&&(Y={errorThrown:!1,error:null}),se(),me){const{errorThrown:ee,error:ue}=Y;if(Y=null,ee)throw ue}}else se()}function ae(se){l.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=se)}},9672:(rt,xe,P)=>{function l(Y,F,ae,se=0,me=!1){const ee=F.schedule(function(){ae(),me?Y.add(this.schedule(null,se)):this.unsubscribe()},se);if(Y.add(ee),!me)return ee}P.d(xe,{f:()=>l})},4671:(rt,xe,P)=>{function l(Y){return Y}P.d(xe,{y:()=>l})},1144:(rt,xe,P)=>{P.d(xe,{z:()=>l});const l=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(rt,xe,P)=>{P.d(xe,{D:()=>Y});var l=P(576);function Y(F){return Symbol.asyncIterator&&(0,l.m)(F?.[Symbol.asyncIterator])}},576:(rt,xe,P)=>{function l(Y){return"function"==typeof Y}P.d(xe,{m:()=>l})},3670:(rt,xe,P)=>{P.d(xe,{c:()=>F});var l=P(8822),Y=P(576);function F(ae){return(0,Y.m)(ae[l.L])}},6495:(rt,xe,P)=>{P.d(xe,{T:()=>F});var l=P(2202),Y=P(576);function F(ae){return(0,Y.m)(ae?.[l.h])}},8239:(rt,xe,P)=>{P.d(xe,{t:()=>Y});var l=P(576);function Y(F){return(0,l.m)(F?.then)}},3260:(rt,xe,P)=>{P.d(xe,{L:()=>ae,Q:()=>F});var l=P(655),Y=P(576);function F(se){return(0,l.FC)(this,arguments,function*(){const ee=se.getReader();try{for(;;){const{value:ue,done:he}=yield(0,l.qq)(ee.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{ee.releaseLock()}})}function ae(se){return(0,Y.m)(se?.getReader)}},3532:(rt,xe,P)=>{P.d(xe,{K:()=>Y});var l=P(576);function Y(F){return F&&(0,l.m)(F.schedule)}},4482:(rt,xe,P)=>{P.d(xe,{A:()=>Y,e:()=>F});var l=P(576);function Y(ae){return(0,l.m)(ae?.lift)}function F(ae){return se=>{if(Y(se))return se.lift(function(me){try{return ae(me,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,xe,P)=>{function l(){}P.d(xe,{Z:()=>l})},7849:(rt,xe,P)=>{P.d(xe,{h:()=>F});var l=P(2416),Y=P(3410);function F(ae){Y.z.setTimeout(()=>{const{onUnhandledError:se}=l.v;if(!se)throw ae;se(ae)})}},4532:(rt,xe,P)=>{function l(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(xe,{z:()=>l})},655:(rt,xe,P)=>{function ae(K,oe){var te={};for(var _e in K)Object.prototype.hasOwnProperty.call(K,_e)&&oe.indexOf(_e)<0&&(te[_e]=K[_e]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(_e=Object.getOwnPropertySymbols(K);ce<_e.length;ce++)oe.indexOf(_e[ce])<0&&Object.prototype.propertyIsEnumerable.call(K,_e[ce])&&(te[_e[ce]]=K[_e[ce]])}return te}function ue(K,oe,te,_e){return new(te||(te=Promise))(function(Pe,ut){function $t(ln){try{We(_e.next(ln))}catch(Fn){ut(Fn)}}function jt(ln){try{We(_e.throw(ln))}catch(Fn){ut(Fn)}}function We(ln){ln.done?Pe(ln.value):function ce(Pe){return Pe instanceof te?Pe:new te(function(ut){ut(Pe)})}(ln.value).then($t,jt)}We((_e=_e.apply(K,oe||[])).next())})}function pe(K){return this instanceof pe?(this.v=K,this):new pe(K)}function ye(K,oe,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,_e=te.apply(K,oe||[]),Pe=[];return ce={},ut("next"),ut("throw"),ut("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function ut(gn){_e[gn]&&(ce[gn]=function(Qt){return new Promise(function(Ii,Zt){Pe.push([gn,Qt,Ii,Zt])>1||$t(gn,Qt)})})}function $t(gn,Qt){try{!function jt(gn){gn.value instanceof pe?Promise.resolve(gn.value.v).then(We,ln):Fn(Pe[0][2],gn)}(_e[gn](Qt))}catch(Ii){Fn(Pe[0][3],Ii)}}function We(gn){$t("next",gn)}function ln(gn){$t("throw",gn)}function Fn(gn,Qt){gn(Qt),Pe.shift(),Pe.length&&$t(Pe[0][0],Pe[0][1])}}function Qe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,oe=K[Symbol.asyncIterator];return oe?oe.call(K):(K=function J(K){var oe="function"==typeof Symbol&&Symbol.iterator,te=oe&&K[oe],_e=0;if(te)return te.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&_e>=K.length&&(K=void 0),{value:K&&K[_e++],done:!K}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),te={},_e("next"),_e("throw"),_e("return"),te[Symbol.asyncIterator]=function(){return this},te);function _e(Pe){te[Pe]=K[Pe]&&function(ut){return new Promise(function($t,jt){!function ce(Pe,ut,$t,jt){Promise.resolve(jt).then(function(We){Pe({value:We,done:$t})},ut)}($t,jt,(ut=K[Pe](ut)).done,ut.value)})}}}P.d(xe,{FC:()=>ye,KL:()=>Qe,_T:()=>ae,mG:()=>ue,qq:()=>pe})},4650:(rt,xe,P)=>{P.d(xe,{$8M:()=>zl,$Z:()=>Yy,AFp:()=>gE,ALo:()=>Bt,AaK:()=>ue,BQk:()=>qg,CHM:()=>Ns,CRH:()=>Q0,CZH:()=>Ca,CqO:()=>xC,D6c:()=>YE,DdM:()=>Xd,EJc:()=>ET,EiD:()=>ec,EpF:()=>DC,F$t:()=>TC,F4k:()=>x_,FYo:()=>Z_,FiY:()=>Ys,G48:()=>Mv,Gf:()=>cv,GfV:()=>jI,GkF:()=>D_,Gpc:()=>U,Gre:()=>O_,Hsn:()=>MC,Ikx:()=>B_,JOm:()=>dr,JVY:()=>Iy,KtG:()=>Xo,L6k:()=>nS,LAX:()=>nu,LFG:()=>ht,LSH:()=>lf,Lbi:()=>op,MAs:()=>EC,MMx:()=>ba,NdJ:()=>S_,O4$:()=>_y,OlP:()=>fn,Oqu:()=>R_,PXZ:()=>FT,Q6J:()=>C_,QGY:()=>Gd,QP$:()=>pc,QbO:()=>Dm,Qsj:()=>L0,R0b:()=>ys,RDi:()=>zu,Rgc:()=>Nr,SBq:()=>Zd,Sil:()=>yE,Suo:()=>uv,TTD:()=>Sr,TgZ:()=>Gg,Udp:()=>Bf,VKq:()=>tv,WFA:()=>A_,X6Q:()=>OE,XFs:()=>dt,Xpm:()=>G,Y36:()=>Md,YKP:()=>om,YNc:()=>CC,Yjl:()=>Yi,Yz7:()=>Qt,ZZ4:()=>Lv,_Bn:()=>O0,_UZ:()=>E_,_Vd:()=>Yf,_c5:()=>qT,_uU:()=>Qg,aQg:()=>Vv,c2e:()=>bT,cJS:()=>Zt,cg1:()=>tm,d8E:()=>U_,dDg:()=>RT,deG:()=>td,dqk:()=>Ge,eBb:()=>il,eFA:()=>AE,ekj:()=>Uf,eoX:()=>oh,f3M:()=>vi,g9A:()=>ih,h0i:()=>Eu,hGG:()=>WT,hM9:()=>H0,hij:()=>Xg,iGM:()=>np,ifc:()=>zt,ip1:()=>pE,kL8:()=>wa,kcU:()=>yo,lG2:()=>Qn,lcZ:()=>iv,lqb:()=>_f,lri:()=>sh,mCW:()=>pd,n5z:()=>$l,n_E:()=>wi,oAB:()=>wt,oxw:()=>IC,pB0:()=>iu,q3G:()=>Wn,q4F:()=>B0,qLn:()=>tc,qOj:()=>Bg,qZA:()=>$g,qzn:()=>nl,rWj:()=>bE,sBO:()=>PE,sIi:()=>Ug,s_b:()=>hm,soG:()=>xm,tBr:()=>Eo,tb:()=>bv,tp0:()=>Xr,uIk:()=>vC,vHH:()=>Me,vpe:()=>Ro,wAp:()=>bt,xi3:()=>um,xp6:()=>Ab,yhl:()=>hd,ynx:()=>zg,z2F:()=>ah,z3N:()=>Qs,zSh:()=>kb,zs3:()=>ul});var l=P(7579),Y=P(727),F=P(8306),ae=P(6451),se=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ee(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=me({__forward_ref__:me});function U(s){return s.__forward_ref__=U,s.toString=function(){return ue(this())},s}function J(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===U}class Me extends Error{constructor(o,c){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function ve(s,o){throw new Me(-201,!1)}function jt(s,o){null==s&&function We(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Lt(s){return rs(s,zr)||rs(s,nr)}function rs(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ti(s){return s&&(s.hasOwnProperty(As)||s.hasOwnProperty(wr))?s[As]:null}const zr=me({\u0275prov:me}),As=me({\u0275inj:me}),nr=me({ngInjectableDef:me}),wr=me({ngInjectorDef:me});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let ir;function Dn(s){const o=ir;return ir=s,o}function oo(s,o,c){const d=Lt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&dt.Optional?null:void 0!==o?o:void ve(ue(s))}function ci(s){return{toString:s}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),zt=(()=>{return(s=zt||(zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",zt;var s})();const Ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kn={},At=[],Cr=me({\u0275cmp:me}),Zn=me({\u0275dir:me}),sr=me({\u0275pipe:me}),q=me({\u0275mod:me}),z=me({\u0275fac:me}),W=me({__NG_ELEMENT_ID__:me});let De=0;function G(s){return ci(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||zt.Emulated,id:"c"+De++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return f.inputs=Dt(s.inputs,d),f.outputs=Dt(s.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(ke).filter(Je):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(ui).filter(Je):null,f})}function ke(s){return Xt(s)||Xn(s)}function Je(s){return null!==s}const gt={};function wt(s){return ci(()=>{const o={type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(gt[s.id]=s.type),o})}function Dt(s,o){if(null==s)return Kn;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,o&&(o[f]=g)}return c}const Qn=G;function Yi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Xt(s){return s[Cr]||null}function Xn(s){return s[Zn]||null}function ui(s){return s[sr]||null}function gi(s,o){const c=s[q]||null;if(!c&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return c}function yi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Oi(s){return Array.isArray(s)&&!0===s[1]}function qo(s){return 0!=(8&s.flags)}function co(s){return 2==(2&s.flags)}function uo(s){return 1==(1&s.flags)}function xr(s){return null!==s.template}function Ra(s){return 0!=(256&s[2])}function Rs(s,o){return s.hasOwnProperty(z)?s[z]:null}class Al{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Sr(){return ks}function ks(s){return s.type.prototype.ngOnChanges&&(s.setInput=ka),Wo}function Wo(){const s=kc(this),o=s?.current;if(o){const c=s.previous;if(c===Kn)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ka(s,o,c,d){const f=kc(s)||function Qp(s,o){return s[Oa]=o}(s,{previous:Kn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];g[C]=new Al(E&&E.currentValue,o,v===Kn),s[d]=o}Sr.ngInherit=!0;const Oa="__ngSimpleChanges__";function kc(s){return s[Oa]||null}let Ml;function zu(s){Ml=s}function en(s){return!!s.listen}const Rl={createRenderer:(s,o)=>function Yo(){return void 0!==Ml?Ml:typeof document<"u"?document:void 0}()};function Cn(s){for(;Array.isArray(s);)s=s[0];return s}function ar(s,o){return Cn(o[s])}function Ki(s,o){return Cn(o[s.index])}function Ko(s,o){return s.data[o]}function ls(s,o){return s[o]}function qt(s,o){const c=o[s];return yi(c)?c:c[0]}function Ol(s){return 4==(4&s[2])}function Zo(s){return 64==(64&s[2])}function Pi(s,o){return null==o?null:s[o]}function Fs(s){s[18]=0}function Qo(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const _t={lFrame:Vc(null),bindingsEnabled:!0};function Va(){return _t.bindingsEnabled}function Ae(){return _t.lFrame.lView}function Vt(){return _t.lFrame.tView}function Ns(s){return _t.lFrame.contextLView=s,s[8]}function Xo(s){return _t.lFrame.contextLView=null,s}function Ln(){let s=go();for(;null!==s&&64===s.type;)s=s.parent;return s}function go(){return _t.lFrame.currentTNode}function Ir(s,o){const c=_t.lFrame;c.currentTNode=s,c.isParent=o}function Jo(){return _t.lFrame.isParent}function Pl(){_t.lFrame.isParent=!1}function $n(){const s=_t.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ls(){return _t.lFrame.bindingIndex++}function Tr(s){const o=_t.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function qu(s,o){const c=_t.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ua(o)}function Ua(s){_t.lFrame.currentDirectiveIndex=s}function Ha(s){const o=_t.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Nl(){return _t.lFrame.currentQueryIndex}function na(s){_t.lFrame.currentQueryIndex=s}function Lh(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ja(s,o,c){if(c&dt.SkipSelf){let f=o,g=s;for(;!(f=f.parent,null!==f||c&dt.Host||(f=Lh(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;o=f,s=g}const d=_t.lFrame=ia();return d.currentTNode=o,d.lView=s,!0}function mo(s){const o=ia(),c=s[1];_t.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function ia(){const s=_t.lFrame,o=null===s?null:s.child;return null===o?Vc(s):o}function Vc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ra(){const s=_t.lFrame;return _t.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bc=ra;function Ll(){const s=ra();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function di(){return _t.lFrame.selectedIndex}function Vs(s){_t.lFrame.selectedIndex=s}function zn(){const s=_t.lFrame;return Ko(s.tView,s.selectedIndex)}function _y(){_t.lFrame.currentNamespace="svg"}function yo(){!function vy(){_t.lFrame.currentNamespace=null}()}function Vl(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:R}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),I&&((s.viewHooks||(s.viewHooks=[])).push(c,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,I)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(c,R)}}function Ga(s,o,c){ei(s,o,3,c)}function ds(s,o,c,d){(3&s[2])===c&&ei(s,o,c,d)}function $a(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ei(s,o,c,d){const g=d??-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<g||-1==g)&&(Vh(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Vh(s,o,c,d){const f=c[d]<0,g=c[d+1],C=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Bl{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Ni(s,o,c){const d=en(s);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],C=c[f++],E=c[f++];d?s.setAttribute(o,C,E,v):o.setAttributeNS(v,C,E)}else{const v=g,C=c[++f];Zu(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),f++}}return f}function Us(s){return 3===s||4===s||6===s}function Zu(s){return 64===s.charCodeAt(0)}function lr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||Qu(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function Qu(s,o,c,d,f){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}function Xu(s){return-1!==s}function Mr(s){return 32767&s}function Wt(s,o){let c=function Gc(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Rr=!0;function Di(s){const o=Rr;return Rr=s,o}let Hs=0;const kr={};function vo(s,o){const c=oa(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,sa(d.data,s),sa(o,null),sa(d.blueprint,null));const f=xi(s,o),g=s.injectorIndex;if(Xu(f)){const v=Mr(f),C=Wt(f,o),E=C[1].data;for(let I=0;I<8;I++)o[g+I]=C[v+I]|E[v+I]}return o[g+8]=f,g}function sa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function oa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function xi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=Qa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Hl(s,o,c){!function cr(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(W)&&(d=c[W]),null==d&&(d=c[W]=Hs++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function qr(s,o,c){if(c&dt.Optional)return s;ve()}function aa(s,o,c,d){if(c&dt.Optional&&void 0===d&&(d=null),0==(c&(dt.Self|dt.Host))){const f=s[9],g=Dn(void 0);try{return f?f.get(o,d,c&dt.Optional):oo(o,d,c&dt.Optional)}finally{Dn(g)}}return qr(d,0,c)}function Ya(s,o,c,d=dt.Default,f){if(null!==s){if(1024&o[2]){const v=function Ju(s,o,c,d,f){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=js(g,v,c,d|dt.Self,kr);if(C!==kr)return C;let E=g.parent;if(!E){const I=v[21];if(I){const R=I.get(c,kr,d);if(R!==kr)return R}E=Qa(v),v=v[15]}g=E}return f}(s,o,c,d,kr);if(v!==kr)return v}const g=js(s,o,c,d,kr);if(g!==kr)return g}return aa(o,c,d,f)}function js(s,o,c,d,f){const g=function xt(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(W)?s[W]:void 0;return"number"==typeof o?o>=0?255&o:qn:o}(c);if("function"==typeof g){if(!ja(o,s,d))return d&dt.Host?qr(f,0,d):aa(o,c,d,f);try{const v=g(d);if(null!=v||d&dt.Optional)return v;ve()}finally{Bc()}}else if("number"==typeof g){let v=null,C=oa(s,o),E=-1,I=d&dt.Host?o[16][6]:null;for((-1===C||d&dt.SkipSelf)&&(E=-1===C?xi(s,o):o[C+8],-1!==E&&Ka(d,!1)?(v=o[1],C=Mr(E),o=Wt(E,o)):C=-1);-1!==C;){const R=o[1];if(_n(g,C,R.data)){const N=jl(C,o,c,v,d,I);if(N!==kr)return N}E=o[C+8],-1!==E&&Ka(d,o[1].data[C+8]===I)&&_n(g,C,o)?(v=R,C=Mr(E),o=Wt(E,o)):C=-1}}return f}function jl(s,o,c,d,f,g){const v=o[1],C=v.data[s+8],R=Gl(C,v,c,null==d?co(C)&&Rr:d!=v&&0!=(3&C.type),f&dt.Host&&g===C);return null!==R?la(o,v,R,C):kr}function Gl(s,o,c,d,f){const g=s.providerIndexes,v=o.data,C=1048575&g,E=s.directiveStart,R=g>>20,$=f?C+R:s.directiveEnd;for(let ne=d?C:C+R;ne<$;ne++){const Ee=v[ne];if(ne<E&&c===Ee||ne>=E&&Ee.type===c)return ne}if(f){const ne=v[E];if(ne&&xr(ne)&&ne.type===c)return E}return null}function la(s,o,c,d){let f=s[c];const g=o.data;if(function Ku(s){return s instanceof Bl}(f)){const v=f;v.resolving&&function qe(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}(g[c]));const C=Di(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Dn(v.injectImpl):null;ja(s,d,dt.Default);try{f=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Yu(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(d){const v=ks(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==E&&Dn(E),Di(C),v.resolving=!1,Bc()}}return f}function _n(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Ka(s,o){return!(s&dt.Self||s&dt.Host&&o)}class sn{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Ya(this._tNode,this._lView,o,d,c)}}function qn(){return new sn(Ln(),Ae())}function $l(s){return ci(()=>{const o=s.prototype.constructor,c=o[z]||Za(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[z]||Za(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Za(s){return ze(s)?()=>{const o=Za(J(s));return o&&o()}:Rs(s)}function Qa(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function zl(s){return function Wa(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(Us(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===o)return c[f+1];f+=2}}}return null}(Ln(),s)}const Li="__parameters__";function wo(s,o,c){return ci(()=>{const d=function st(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(E,I,R){const N=E.hasOwnProperty(Li)?E[Li]:Object.defineProperty(E,Li,{value:[]})[Li];for(;N.length<=R;)N.push(null);return(N[R]=N[R]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class fn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Qt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const td=new fn("AnalyzeForEntryComponents");function _i(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),_i(d,o)):o!==s&&o.push(d)}return o}function Vi(s,o){s.forEach(c=>Array.isArray(c)?Vi(c,o):o(c))}function hs(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Zi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Kr(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Bi(s,o,c){let d=zs(s,o);return d>=0?s[1|d]=c:(d=~d,function jh(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Fr(s,o){const c=zs(s,o);if(c>=0)return s[1|c]}function zs(s,o){return function Yc(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?f=g:d=g+1}return~(f<<c)}(s,o,1)}const x={},S="__NG_DI_FLAG__",M="ngTempTokenPath",Q=/\n/gm,Te="__source";let Ze;function yt(s){const o=Ze;return Ze=s,o}function Ot(s,o=dt.Default){if(void 0===Ze)throw new Me(-203,"");return null===Ze?oo(s,void 0,o):Ze.get(s,o&dt.Optional?null:void 0,o)}function ht(s,o=dt.Default){return(function Rn(){return ir}()||Ot)(J(s),o)}function vi(s,o=dt.Default){return ht(s,o)}function hi(s){const o=[];for(let c=0;c<s.length;c++){const d=J(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Me(900,"");let f,g=dt.Default;for(let v=0;v<d.length;v++){const C=d[v],E=bo(C);"number"==typeof E?-1===E?f=C.token:g|=E:f=C}o.push(ht(f,g))}else o.push(ht(d))}return o}function Qr(s,o){return s[S]=o,s.prototype[S]=o,s}function bo(s){return s[S]}const Eo=Qr(wo("Inject",s=>({token:s})),-1),Ys=Qr(wo("Optional"),8),Xr=Qr(wo("SkipSelf"),4);let da;function Do(s){return function Xl(){if(void 0===da&&(da=null,Ge.trustedTypes))try{da=Ge.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return da}()?.createHTML(s)||s}class tl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sy extends tl{getTypeName(){return"HTML"}}class Ay extends tl{getTypeName(){return"Style"}}class ud extends tl{getTypeName(){return"Script"}}class ub extends tl{getTypeName(){return"URL"}}class dd extends tl{getTypeName(){return"ResourceURL"}}function Qs(s){return s instanceof tl?s.changingThisBreaksApplicationSecurity:s}function nl(s,o){const c=hd(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function hd(s){return s instanceof tl&&s.getTypeName()||null}function Iy(s){return new Sy(s)}function nS(s){return new Ay(s)}function il(s){return new ud(s)}function nu(s){return new ub(s)}function iu(s){return new dd(s)}class ag{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Do(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class fd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Do(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Do(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ty=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pd(s){return(s=String(s)).match(Ty)||s.match(hb)?s:"unsafe:"+s}function xo(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function su(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const tf=xo("area,br,col,hr,img,wbr"),lg=xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nf=xo("rp,rt"),md=su(tf,su(lg,xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),su(nf,xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),su(nf,lg)),ou=xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yd=xo("srcset"),Jl=su(ou,yd,xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ry=xo("script,style,template");class ug{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!md.hasOwnProperty(c))return this.sanitizedSomething=!0,!Ry.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!Jl.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;ou[C]&&(E=pd(E)),yd[C]&&(s=E,E=(s=String(s)).split(",").map(o=>pd(o.trim())).join(", ")),this.buf.push(" ",v,'="',sf(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();md.hasOwnProperty(c)&&!tf.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(sf(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const rf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dg=/([^\#-~ |!])/g;function sf(s){return s.replace(/&/g,"&amp;").replace(rf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(dg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _d;function ec(s,o){let c=null;try{_d=_d||function ru(s){const o=new fd(s);return function db(){try{return!!(new window.DOMParser).parseFromString(Do(""),"text/html")}catch{return!1}}()?new ag(o):o}(s);let d=o?String(o):"";c=_d.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=_d.getInertBodyElement(d)}while(d!==g);return Do((new ug).sanitizeChildren(af(c)||c))}finally{if(c){const d=af(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function af(s){return"content"in s&&function rl(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function lf(s){const o=function lu(){const s=Ae();return s&&s[12]}();return o?o.sanitize(Wn.URL,s)||"":nl(s,"URL")?Qs(s):pd(pe(s))}function wd(s){return s.ngOriginalError}class tc{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&wd(o);for(;c&&wd(c);)c=wd(c);return c||null}}const cu=new Map;let gg=0;const ff="__ngContext__";function Xi(s,o){yi(o)?(s[ff]=o[20],function Qi(s){cu.set(s[20],s)}(o)):s[ff]=o}function nc(s){const o=s[ff];return"number"==typeof o?function Ed(s){return cu.get(s)||null}(o):o||null}function Sd(s){const o=nc(s);return o?yi(o)?o:o.lView:null}const Z=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ge))();function et(s){return s instanceof Function?s():s}var dr=(()=>((dr=dr||{})[dr.Important=1]="Important",dr[dr.DashCase=2]="DashCase",dr))();function uu(s,o){return undefined(s,o)}function ll(s){const o=s[3];return Oi(o)?o[3]:o}function gs(s){return Js(s[13])}function hu(s){return Js(s[4])}function Js(s){for(;null!==s&&!Oi(s);)s=s[4];return s}function mf(s,o,c,d,f){if(null!=d){let g,v=!1;Oi(d)?g=d:yi(d)&&(v=!0,d=d[0]);const C=Cn(d);0===s&&null!==c?null==f?lS(o,c,C):cl(o,c,C,f||null,!0):1===s&&null!==c?cl(o,c,C,f||null,!0):2===s?function gS(s,o,c){const d=bg(s,o);d&&function uF(s,o,c,d){en(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function hF(s,o,c,d,f){const g=c[7];g!==Cn(c)&&mf(o,s,d,g,f);for(let C=10;C<c.length;C++){const E=c[C];Cg(E[1],E,s,o,d,g)}}(o,s,g,c,f)}}function yf(s,o,c){if(en(s))return s.createElement(o,c);{const d=null!==c?function Fh(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function vg(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Qo(f,-1)),c.splice(d,1)}function vb(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&vg(f,d),o>0&&(s[c-1][4]=d[4]);const g=Zi(s,10+o);!function iS(s,o){Cg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function oS(s,o){if(!(128&o[2])){const c=o[11];en(c)&&c.destroyNode&&Cg(s,o,c,3,null,null),function lF(s){let o=s[13];if(!o)return Uy(s[1],s);for(;o;){let c=null;if(yi(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)yi(o)&&Uy(o[1],o),o=o[3];null===o&&(o=s),yi(o)&&Uy(o[1],o),c=o&&o[4]}o=c}}(o)}}function Uy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function wb(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof Bl)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(f)}finally{}}}}(s,o),function aS(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(o):Cn(o[v]),E=d[f=c[g+2]],I=c[g+3];"boolean"==typeof I?C.removeEventListener(c[g],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&en(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&Oi(o[3])){c!==o[3]&&vg(c,o);const d=o[19];null!==d&&d.detachView(s)}!function Dd(s){cu.delete(s[20])}(o)}}function wg(s,o,c){return function Hy(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===zt.None||f===zt.Emulated)return null}return Ki(d,c)}(s,o.parent,c)}function cl(s,o,c,d,f){en(s)?s.insertBefore(o,c,d,f):(uS(o)?o.content:o).insertBefore(c,d,f)}function lS(s,o,c){en(s)?s.appendChild(o,c):(uS(o)?o.content:o).appendChild(c)}function cS(s,o,c,d,f){null!==d?cl(s,o,c,d,f):lS(s,o,c)}function uS(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}function bg(s,o){return en(s)?s.parentNode(o):o.parentNode}function dS(s,o,c){return fS(s,o,c)}let fS=function hS(s,o,c){return 40&s.type?Ki(s,c):null};function jy(s,o,c,d){const f=wg(s,d,o),g=o[11],C=dS(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)cS(g,f,c[E],C,!1);else cS(g,f,c,C,!1)}function Gy(s,o){if(null!==o){const c=o.type;if(3&c)return Ki(o,s);if(4&c)return Eb(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Gy(s,d);{const f=s[o.index];return Oi(f)?Eb(-1,f):Cn(f)}}if(32&c)return uu(o,s)()||Cn(s[o.index]);{const d=Cb(s,o);return null!==d?Array.isArray(d)?d[0]:Gy(ll(s[16]),d):Gy(s,o.next)}}return null}function Cb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Eb(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return Gy(d,f)}return o[7]}function Db(s,o,c,d,f,g,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===o&&(C&&Xi(Cn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Db(s,o,c.child,d,f,g,!1),mf(o,s,f,C,g);else if(32&E){const I=uu(c,d);let R;for(;R=I();)mf(o,s,f,R,g);mf(o,s,f,C,g)}else 16&E?mS(s,o,d,c,f,g):mf(o,s,f,C,g);c=v?c.projectionNext:c.next}}function Cg(s,o,c,d,f,g){Db(c,d,s.firstChild,o,f,g,!1)}function mS(s,o,c,d,f,g){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)mf(o,s,f,E[I],g);else Db(s,o,E,v[3],f,g,!0)}function yS(s,o,c){en(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function Sb(s,o,c){en(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function _S(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=o.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}c=f+1}}const vS="ng-template";function pF(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==_S(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function wS(s){return 4===s.type&&s.value!==vS}function gF(s,o,c){return o===(4!==s.type||c?s.value:vS)}function mF(s,o,c){let d=4;const f=s.attrs||[],g=function vF(s){for(let o=0;o<s.length;o++)if(Us(s[o]))return o;return s.length}(f);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!gF(s,E,c)||""===E&&1===o.length){if(ha(d))return!1;v=!0}}else{const I=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!pF(s.attrs,I,c)){if(ha(d))return!1;v=!0}continue}const N=yF(8&d?"class":E,f,wS(s),c);if(-1===N){if(ha(d))return!1;v=!0;continue}if(""!==I){let $;$=N>g?"":f[N+1].toLowerCase();const ne=8&d?$:null;if(ne&&-1!==_S(ne,I,0)||2&d&&I!==$){if(ha(d))return!1;v=!0}}}}else{if(!v&&!ha(d)&&!ha(E))return!1;if(v&&ha(E))continue;v=!1,d=E|1&d}}return ha(d)||v}function ha(s){return 0==(1&s)}function yF(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let g=!1;for(;f<o.length;){const v=o[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function wF(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function bS(s,o,c=!1){for(let d=0;d<o.length;d++)if(mF(s,o[d],c))return!0;return!1}function bF(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function CS(s,o){return s?":not("+o.trim()+")":o}function CF(s){let o=s[0],c=1,d=2,f="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const C=s[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ha(v)&&(o+=CS(g,f),f=""),d=v,g=g||!ha(d);c++}return""!==f&&(o+=CS(g,f)),o}const Ft={};function Ab(s){Ib(Vt(),Ae(),di()+s,!1)}function Ib(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ga(o,g,c)}else{const g=s.preOrderHooks;null!==g&&ds(o,g,0,c)}Vs(c)}const SS=new fn("ENVIRONMENT_INITIALIZER"),AS=new fn("INJECTOR_DEF_TYPES");function MF(...s){return{\u0275providers:IS(0,s)}}function IS(s,...o){const c=[],d=new Set;let f;return Vi(o,g=>{const v=g;Tb(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&TS(f,c),c}function TS(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Vi(f,g=>{o.push(g)})}}function Tb(s,o,c,d){if(!(s=J(s)))return!1;let f=null,g=Ti(s);const v=!g&&Xt(s);if(g||v){if(v&&!v.standalone)return!1;f=s}else{const E=s.ngModule;if(g=Ti(E),!g)return!1;f=E}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of E)Tb(I,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let I;d.add(f);try{Vi(g.imports,R=>{Tb(R,o,c,d)&&(I||(I=[]),I.push(R))})}finally{}void 0!==I&&TS(I,o)}if(!C){const I=Rs(f)||(()=>new f);o.push({provide:f,useFactory:I,deps:At},{provide:AS,useValue:f,multi:!0},{provide:SS,useValue:()=>ht(f),multi:!0})}const E=g.providers;null==E||C||Vi(E,R=>{o.push(R)})}}return f!==s&&void 0!==s.providers}const RF=me({provide:String,useValue:me});function Mb(s){return null!==s&&"object"==typeof s&&RF in s}function Ad(s){return"function"==typeof s}const Rb=new fn("INJECTOR",-1);class kS{get(o,c=x){if(c===x){const d=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw d.name="NullInjectorError",d}return c}}const kb=new fn("Set Injector scope."),$y={},OF={};let Ob;function Fb(){return void 0===Ob&&(Ob=new kS),Ob}class _f{}class OS extends _f{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nb(o,v=>this.processProvider(v)),this.records.set(Rb,vf(void 0,this)),f.has("environment")&&this.records.set(_f,vf(void 0,this));const g=this.records.get(kb);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(AS.multi,At,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}get(o,c=x,d=dt.Default){this.assertNotDestroyed();const f=yt(this),g=Dn(void 0);try{if(!(d&dt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function VF(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&Lt(o);C=E&&this.injectableDefInScope(E)?vf(Pb(o),$y):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&dt.Self?Fb():this.parent).get(o,c=d&dt.Optional&&c===x?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[M]=v[M]||[]).unshift(ue(o)),f)throw v;return function Co(s,o,c,d){const f=s[M];throw o[Te]&&f.unshift(o[Te]),s.message=function $h(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ue(o);if(Array.isArray(o))f=o.map(ue).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Q,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[M]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Dn(g),yt(f)}}resolveInjectorInitializers(){const o=yt(this),c=Dn(void 0);try{const d=this.get(SS.multi,At,dt.Self);for(const f of d)f()}finally{yt(o),Dn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(ue(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(o){let c=Ad(o=J(o))?o:J(o&&o.provide);const d=function PF(s){return Mb(s)?vf(void 0,s.useValue):vf(FS(s),$y)}(o);if(Ad(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=vf(void 0,$y,!0),f.factory=()=>hi(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===$y&&(c.value=OF,c.value=c.factory()),"object"==typeof c.value&&c.value&&function LF(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=J(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Pb(s){const o=Lt(s),c=null!==o?o.factory:Rs(s);if(null!==c)return c;if(s instanceof fn)throw new Me(204,!1);if(s instanceof Function)return function FF(s){const o=s.length;if(o>0)throw Kr(o,"?"),new Me(204,!1);const c=function tr(s){const o=s&&(s[zr]||s[nr]);if(o){const c=function Ei(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Me(204,!1)}function FS(s,o,c){let d;if(Ad(s)){const f=J(s);return Rs(f)||Pb(f)}if(Mb(s))d=()=>J(s.useValue);else if(function RS(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...hi(s.deps||[]));else if(function MS(s){return!(!s||!s.useExisting)}(s))d=()=>ht(J(s.useExisting));else{const f=J(s&&(s.useClass||s.provide));if(!function NF(s){return!!s.deps}(s))return Rs(f)||Pb(f);d=()=>new f(...hi(s.deps))}return d}function vf(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function BF(s){return!!s.\u0275providers}function Nb(s,o){for(const c of s)Array.isArray(c)?Nb(c,o):BF(c)?Nb(c.\u0275providers,o):o(c)}function PS(s,o=null,c=null,d){const f=NS(s,o,c,d);return f.resolveInjectorInitializers(),f}function NS(s,o=null,c=null,d,f=new Set){const g=[c||At,MF(s)];return d=d||("object"==typeof s?void 0:ue(s)),new OS(g,o||Fb(),d||null,f)}let ul=(()=>{class s{static create(c,d){if(Array.isArray(c))return PS({name:""},d,c,"");{const f=c.name??"";return PS({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=x,s.NULL=new kS,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>ht(Rb)}),s.__NG_ELEMENT_ID__=-1,s})();function Md(s,o=dt.Default){const c=Ae();return null===c?ht(s,o):Ya(Ln(),c,J(s),o)}function Yy(){throw new Error("invalid")}function Ef(s,o){return s<<17|o<<2}function eo(s){return s>>17&32767}function kd(s){return 2|s}function sc(s){return(131068&s)>>2}function xg(s,o){return-131069&s|o<<2}function xf(s){return 1|s}function i_(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];na(f),v.contentQueries(2,o[g],g)}}}function Fd(s,o,c,d,f,g,v,C,E,I,R){const N=o.blueprint.slice();return N[0]=f,N[2]=76|d,(null!==R||s&&1024&s[2])&&(N[2]|=1024),Fs(N),N[3]=N[15]=s,N[8]=c,N[10]=v||s&&s[10],N[11]=C||s&&s[11],N[12]=E||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=g,N[20]=function mg(){return gg++}(),N[21]=R,N[16]=2==o.type?s[16]:N,N}function Pd(s,o,c,d,f){let g=s.data[o];if(null===g)g=function s_(s,o,c,d,f){const g=go(),v=Jo(),E=s.data[o]=function sA(s,o,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}(s,o,c,d,f),function Nc(){return _t.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function cs(){const s=_t.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ir(g,!0),g}function Nd(s,o,c,d){if(0===c)return-1;const f=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function Sf(s,o,c){mo(o);try{const d=s.viewQuery;null!==d&&aC(1,d,c);const f=s.template;null!==f&&JS(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&i_(s,o),s.staticViewQueries&&aC(2,s.viewQuery,c);const g=s.components;null!==g&&function r_(s,o){for(let c=0;c<o.length;c++)rC(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ll()}}function Ld(s,o,c,d){const f=o[2];if(128!=(128&f)){mo(o);try{Fs(o),function ea(s){return _t.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&JS(s,o,c,2,d);const v=3==(3&f);if(v){const I=s.preOrderCheckHooks;null!==I&&Ga(o,I,null)}else{const I=s.preOrderHooks;null!==I&&ds(o,I,0,null),$a(o,0)}if(function iC(s){for(let o=gs(s);null!==o;o=hu(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&Qo(g,1),f[2]|=512}}}(o),function fA(s){for(let o=gs(s);null!==o;o=hu(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];Zo(d)&&Ld(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&i_(s,o),v){const I=s.contentCheckHooks;null!==I&&Ga(o,I)}else{const I=s.contentHooks;null!==I&&ds(o,I,1),$a(o,1)}!function ZF(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Vs(~f);else{const g=f,v=c[++d],C=c[++d];qu(v,g),C(2,o[g])}}}finally{Vs(-1)}}(s,o);const C=s.components;null!==C&&function Xb(s,o){for(let c=0;c<o.length;c++)pA(s,o[c])}(o,C);const E=s.viewQuery;if(null!==E&&aC(2,E,d),v){const I=s.viewCheckHooks;null!==I&&Ga(o,I)}else{const I=s.viewHooks;null!==I&&ds(o,I,2),$a(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Qo(o[3],-1))}finally{Ll()}}}function ac(s,o,c,d){const f=o[10],v=Ol(o);try{!v&&f.begin&&f.begin(),v&&Sf(s,o,d),Ld(s,o,c,d)}finally{!v&&f.end&&f.end()}}function JS(s,o,c,d,f){const g=di(),v=2&d;try{Vs(-1),v&&o.length>22&&Ib(s,o,22,!1),c(d,f)}finally{Vs(g)}}function gu(s,o,c){if(qo(o)){const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function kg(s,o,c){!Va()||(function JF(s,o,c,d){const f=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||vo(c,o),Xi(d,o);const v=c.initialInputs;for(let C=f;C<g;C++){const E=s.data[C],I=xr(E);I&&iP(o,c,E);const R=la(o,s,C,c);Xi(R,o),null!==v&&rP(0,C-f,R,E,0,v),I&&(qt(c.index,o)[8]=R)}}(s,o,c,Ki(c,o)),128==(128&c.flags)&&function aA(s,o,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function Lc(){return _t.lFrame.currentDirectiveIndex}();try{Vs(g);for(let C=d;C<f;C++){const E=s.data[C],I=o[C];Ua(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&lA(E,I)}}finally{Vs(-1),Ua(v)}}(s,o,c))}function Jb(s,o,c=Ki){const d=o.localNames;if(null!==d){let f=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(o,s):s[v];s[f++]=C}}}function eA(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Og(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Og(s,o,c,d,f,g,v,C,E,I){const R=22+d,N=R+f,$=function tA(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Ft);return c}(R,N),ne="function"==typeof I?I():I;return $[1]={type:s,blueprint:$,template:c,queries:null,viewQuery:C,declTNode:o,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ne,incompleteFirstPass:!1}}function rA(s,o,c,d){const f=d_(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&yA(s).push(d,f.length-1))}function tC(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function to(s,o,c,d,f,g,v,C){const E=Ki(o,c);let R,I=o.inputs;!C&&null!=I&&(R=I[d])?(uC(s,c,R,d,f),co(o)&&function XF(s,o){const c=qt(o,s);16&c[2]||(c[2]|=32)}(c,o.index)):3&o.type&&(d=function QF(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,o.value||"",d):f,en(g)?g.setProperty(E,d,f):Zu(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function l_(s,o,c,d){let f=!1;if(Va()){const g=function eP(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];bS(c,v.selectors,!1)&&(f||(f=[]),Hl(vo(c,o),s,v.type),xr(v)?(cA(s,c),f.unshift(v)):f.push(v))}return f}(s,o,c),v=null===d?null:{"":-1};if(null!==g){f=!0,uA(c,s.data.length,g.length);for(let R=0;R<g.length;R++){const N=g[R];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=Nd(s,o,g.length,null);for(let R=0;R<g.length;R++){const N=g[R];c.mergedAttrs=lr(c.mergedAttrs,N.hostAttrs),dA(s,c,o,I,N),nP(I,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const $=N.type.prototype;!C&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),C=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),I++}!function ii(s,o){const d=o.directiveEnd,f=s.data,g=o.attrs,v=[];let C=null,E=null;for(let I=o.directiveStart;I<d;I++){const R=f[I],N=R.inputs,$=null===g||wS(o)?null:sP(N,g);v.push($),C=tC(N,I,C),E=tC(R.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}(s,c)}v&&function tP(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const g=c[o[f+1]];if(null==g)throw new Me(-301,!1);d.push(o[f],g)}}}(c,d,v)}return c.mergedAttrs=lr(c.mergedAttrs,c.attrs),f}function c_(s,o,c,d,f,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function oA(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function lA(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function cA(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function nP(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;xr(o)&&(c[""]=s)}}function uA(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function dA(s,o,c,d,f){s.data[d]=f;const g=f.factory||(f.factory=Rs(f.type)),v=new Bl(g,xr(f),Md);s.blueprint[d]=v,c[d]=v,c_(s,o,0,d,Nd(s,c,f.hostVars,Ft),f)}function iP(s,o,c){const d=Ki(o,s),f=eA(c),g=s[10],v=Pg(s,Fd(s,f,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function fl(s,o,c,d,f,g){const v=Ki(s,o);!function Af(s,o,c,d,f,g,v){if(null==g)en(s)?s.removeAttribute(o,f,c):o.removeAttribute(f);else{const C=null==v?pe(g):v(g,d||"",f);en(s)?s.setAttribute(o,f,C,c):c?o.setAttributeNS(c,f,C):o.setAttribute(f,C)}}(o[11],v,g,s.value,c,d,f)}function rP(s,o,c,d,f,g){const v=g[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const I=v[E++],R=v[E++],N=v[E++];null!==C?d.setInput(c,N,I,R):c[R]=N}}}function sP(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function hA(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function pA(s,o){const c=qt(o,s);if(Zo(c)){const d=c[1];48&c[2]?Ld(d,c,d.template,c[8]):c[5]>0&&If(c)}}function If(s){for(let d=gs(s);null!==d;d=hu(d))for(let f=10;f<d.length;f++){const g=d[f];if(512&g[2]){const v=g[1];Ld(v,g,v.template,g[8])}else g[5]>0&&If(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=qt(c[d],s);Zo(f)&&f[5]>0&&If(f)}}function rC(s,o){const c=qt(o,s),d=c[1];(function sC(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Sf(d,c,c[8])}function Pg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function u_(s){for(;s;){s[2]|=32;const o=ll(s);if(Ra(s)&&!o)return s;s=o}return null}function oC(s){!function Tf(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Sd(c);if(null!==d){const f=d[1];ac(f,d,f.template,c)}}}(s[8])}function aC(s,o,c){na(0),o(s,c)}const aP=(()=>Promise.resolve(null))();function d_(s){return s[7]||(s[7]=[])}function yA(s){return s.cleanup||(s.cleanup=[])}function lC(s,o,c){return(null===s||xr(s))&&(c=function Fa(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function cC(s,o){const c=s[9],d=c?c.get(tc,null):null;d&&d.handleError(o)}function uC(s,o,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],E=o[v],I=s.data[v];null!==I.setInput?I.setInput(E,f,d,C):E[C]=f}}function fa(s,o,c){const d=ar(o,s);!function yb(s,o,c){en(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function Mf(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?f=he(f,C):2==g&&(d=he(d,C+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function m_(){const s=Ln();Vl(Ae()[1],s)}function Bg(s){let o=function Vg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(xr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,"");f=o.\u0275dir}if(f){if(c){d.push(f);const v=s;v.inputs=yC(s.inputs),v.declaredInputs=yC(s.declaredInputs),v.outputs=yC(s.outputs);const C=f.hostBindings;C&&pP(s,C);const E=f.viewQuery,I=f.contentQueries;if(E&&hP(s,E),I&&fP(s,I),ee(s.inputs,f.inputs),ee(s.declaredInputs,f.declaredInputs),ee(s.outputs,f.outputs),xr(f)&&f.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===Bg&&(c=!1)}}o=Object.getPrototypeOf(o)}!function EA(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=lr(f.hostAttrs,c=lr(c,f.hostAttrs))}}(d)}function yC(s){return s===Kn?{}:s===At?[]:s}function hP(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function fP(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,g)=>{o(d,f,g),c(d,f,g)}:o}function pP(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let y_=null;function Bd(){if(!y_){const s=Ge.Symbol;if(s&&s.iterator)y_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(y_=d)}}}return y_}function Ug(s){return!!_C(s)&&(Array.isArray(s)||!(s instanceof Map)&&Bd()in s)}function _C(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function pl(s,o,c){return s[o]=c}function Pr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function vC(s,o,c,d){const f=Ae();return Pr(f,Ls(),o)&&(Vt(),fl(zn(),f,s,o,c,d)),vC}function Of(s,o,c,d){return Pr(s,Ls(),c)?o+pe(c)+d:Ft}function CC(s,o,c,d,f,g,v,C){const E=Ae(),I=Vt(),R=s+22,N=I.firstCreatePass?function xA(s,o,c,d,f,g,v,C,E){const I=o.consts,R=Pd(o,s,4,v||null,Pi(I,C));l_(o,c,R,Pi(I,E)),Vl(o,R);const N=R.tViews=Og(2,R,d,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,R),N.queries=o.queries.embeddedTView(R)),R}(R,I,E,o,c,d,f,g,v):I.data[R];Ir(N,!1);const $=E[11].createComment("");jy(I,E,$,N),Xi($,E),Pg(E,E[R]=hA($,E,$,N)),uo(N)&&kg(I,E,N),null!=v&&Jb(E,N,C)}function EC(s){return ls(function Pc(){return _t.lFrame.contextLView}(),22+s)}function C_(s,o,c){const d=Ae();return Pr(d,Ls(),o)&&to(Vt(),zn(),d,s,o,d[11],c,!1),C_}function jg(s,o,c,d,f){const v=f?"class":"style";uC(s,c,o.inputs[v],v,d)}function Gg(s,o,c,d){const f=Ae(),g=Vt(),v=22+s,C=f[11],E=f[v]=yf(C,o,function jc(){return _t.lFrame.currentNamespace}()),I=g.firstCreatePass?function AA(s,o,c,d,f,g,v){const C=o.consts,I=Pd(o,s,2,f,Pi(C,g));return l_(o,c,I,Pi(C,v)),null!==I.attrs&&Mf(I,I.attrs,!1),null!==I.mergedAttrs&&Mf(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(v,g,f,0,o,c,d):g.data[v];Ir(I,!0);const R=I.mergedAttrs;null!==R&&Ni(C,E,R);const N=I.classes;null!==N&&Sb(C,E,N);const $=I.styles;return null!==$&&yS(C,E,$),64!=(64&I.flags)&&jy(g,f,E,I),0===function po(){return _t.lFrame.elementDepthCount}()&&Xi(E,f),function Na(){_t.lFrame.elementDepthCount++}(),uo(I)&&(kg(g,f,I),gu(g,I,f)),null!==d&&Jb(f,I),Gg}function $g(){let s=Ln();Jo()?Pl():(s=s.parent,Ir(s,!1));const o=s;!function La(){_t.lFrame.elementDepthCount--}();const c=Vt();return c.firstCreatePass&&(Vl(c,s),qo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Bh(s){return 0!=(16&s.flags)}(o)&&jg(c,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Jp(s){return 0!=(32&s.flags)}(o)&&jg(c,o,Ae(),o.stylesWithoutHost,!1),$g}function E_(s,o,c,d){return Gg(s,o,c,d),$g(),E_}function zg(s,o,c){const d=Ae(),f=Vt(),g=s+22,v=f.firstCreatePass?function ma(s,o,c,d,f){const g=o.consts,v=Pi(g,d),C=Pd(o,s,8,"ng-container",v);return null!==v&&Mf(C,v,!0),l_(o,c,C,Pi(g,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(g,f,d,o,c):f.data[g];Ir(v,!0);const C=d[g]=d[11].createComment("");return jy(f,d,C,v),Xi(C,d),uo(v)&&(kg(f,d,v),gu(f,v,d)),null!=c&&Jb(d,v),zg}function qg(){let s=Ln();const o=Vt();return Jo()?Pl():(s=s.parent,Ir(s,!1)),o.firstCreatePass&&(Vl(o,s),qo(s)&&o.queries.elementEnd(s)),qg}function D_(s,o,c){return zg(s,o,c),qg(),D_}function DC(){return Ae()}function Gd(s){return!!s&&"function"==typeof s.then}function x_(s){return!!s&&"function"==typeof s.subscribe}const xC=x_;function S_(s,o,c,d){const f=Ae(),g=Vt(),v=Ln();return SC(g,f,f[11],v,s,o,!!c,d),S_}function A_(s,o){const c=Ln(),d=Ae(),f=Vt();return SC(f,d,lC(Ha(f.data),c,d),c,s,o,!1),A_}function SC(s,o,c,d,f,g,v,C){const E=uo(d),R=s.firstCreatePass&&yA(s),N=o[8],$=d_(o);let ne=!0;if(3&d.type||C){const Ye=Ki(d,o),nt=C?C(Ye):Ye,Ct=$.length,Re=C?pt=>C(Cn(pt[d.index])):d.index;if(en(c)){let pt=null;if(!C&&E&&(pt=function IA(s,o,c,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=o[7],E=f[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(s,o,f,d.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=g,pt.__ngLastListenerFn__=g,ne=!1;else{g=I_(d,o,N,g,!1);const nn=c.listen(nt,f,g);$.push(g,nn),R&&R.push(f,Re,Ct,Ct+1)}}else g=I_(d,o,N,g,!0),nt.addEventListener(f,g,v),$.push(g),R&&R.push(f,Re,Ct,v)}else g=I_(d,o,N,g,!1);const Ee=d.outputs;let Ne;if(ne&&null!==Ee&&(Ne=Ee[f])){const Ye=Ne.length;if(Ye)for(let nt=0;nt<Ye;nt+=2){const On=o[Ne[nt]][Ne[nt+1]].subscribe(g),lh=$.length;$.push(g,On),R&&R.push(f,d.index,lh,-(lh+1))}}}function AC(s,o,c,d){try{return!1!==c(d)}catch(f){return cC(s,f),!1}}function I_(s,o,c,d,f){return function g(v){if(v===Function)return d;u_(2&s.flags?qt(s.index,o):o);let E=AC(o,0,d,v),I=g.__ngNextListenerFn__;for(;I;)E=AC(o,0,I,v)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function IC(s=1){return function Uc(s){return(_t.lFrame.contextLView=function Wu(s,o){for(;s>0;)o=o[15],s--;return o}(s,_t.lFrame.contextLView))[8]}(s)}function TA(s,o){let c=null;const d=function _F(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const g=o[f];if("*"!==g){if(null===d?bS(s,g,!0):bF(d,g))return f}else c=f}return c}function TC(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=Kr(s?s.length:1,null),f=d.slice();let g=o.child;for(;null!==g;){const v=s?TA(g,s):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function MC(s,o=0,c){const d=Ae(),f=Vt(),g=Pd(f,22+s,16,null,c||null);null===g.projection&&(g.projection=o),Pl(),64!=(64&g.flags)&&function xb(s,o,c){mS(o[11],0,o,c,wg(s,c,o),dS(c.parent||o[6],c,o))}(f,d,g)}function kA(s,o,c,d,f){const g=s[c+1],v=null===o;let C=d?eo(g):sc(g),E=!1;for(;0!==C&&(!1===E||v);){const R=s[C+1];bP(s[C],o)&&(E=!0,s[C+1]=d?xf(R):kd(R)),C=d?eo(R):sc(R)}E&&(s[c+1]=d?kd(g):xf(g))}function bP(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&zs(s,o)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OA(s){return s.substring(Gi.key,Gi.keyEnd)}function Vf(s,o){const c=Gi.textEnd;return c===o?-1:(o=Gi.keyEnd=function EP(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Gi.key=o,c),$d(s,o,c))}function $d(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Bf(s,o,c){return _a(s,o,c,!1),Bf}function Uf(s,o){return _a(s,o,null,!0),Uf}function ya(s,o){for(let c=function CP(s){return function NA(s){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=s.length}(s),Vf(s,$d(s,0,Gi.textEnd))}(o);c>=0;c=Vf(o,c))Bi(s,OA(o),!0)}function _a(s,o,c,d){const f=Ae(),g=Vt(),v=Tr(2);g.firstUpdatePass&&LA(g,s,v,d),o!==Ft&&Pr(f,v,o)&&qC(g,g.data[di()],f,f[11],s,f[v+1]=function Zg(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(Qs(s)))),s}(o,c),d,v)}function M_(s,o){return o>=s.expandoStartIndex}function LA(s,o,c,d){const f=s.data;if(null===f[c+1]){const g=f[di()],v=M_(s,c);GA(g,d)&&null===o&&!v&&(o=!1),o=function VA(s,o,c,d){const f=Ha(s);let g=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=Hf(c=Yg(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==f)if(c=Yg(f,s,o,c,d),null===g){let E=function BA(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==sc(d))return s[eo(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Yg(null,s,o,E[1],d),E=Hf(E,o.attrs,d),function UA(s,o,c,d){s[eo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else g=function HA(s,o,c){let d;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)d=Hf(d,s[g].hostAttrs,c);return Hf(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(f,g,o,d),function RA(s,o,c,d,f,g){let v=g?o.classBindings:o.styleBindings,C=eo(v),E=sc(v);s[d]=c;let R,I=!1;if(Array.isArray(c)){const N=c;R=N[1],(null===R||zs(N,R)>0)&&(I=!0)}else R=c;if(f)if(0!==E){const $=eo(s[C+1]);s[d+1]=Ef($,C),0!==$&&(s[$+1]=xg(s[$+1],d)),s[C+1]=function $S(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Ef(C,0),0!==C&&(s[C+1]=xg(s[C+1],d)),C=d;else s[d+1]=Ef(E,0),0===C?C=d:s[E+1]=xg(s[E+1],d),E=d;I&&(s[d+1]=kd(s[d+1])),kA(s,R,d,!0),kA(s,R,d,!1),function Wg(s,o,c,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&zs(g,o)>=0&&(c[d+1]=xf(c[d+1]))}(o,R,s,d,g),v=Ef(C,E),g?o.classBindings=v:o.styleBindings=v}(f,g,o,c,v,d)}}function Yg(s,o,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=o[C],d=Hf(d,g.hostAttrs,f),g!==s);)C++;return null!==s&&(c.directiveStylingLast=C),d}function Hf(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Bi(s,v,!!c||o[++g]))}return void 0===s?null:s}function qC(s,o,c,d,f,g,v,C){if(!(3&o.type))return;const E=s.data,I=E[C+1];Kg(function Df(s){return 1==(1&s)}(I)?WC(E,o,c,f,sc(I),v):void 0)||(Kg(g)||function jb(s){return 2==(2&s)}(I)&&(g=WC(E,null,c,f,C,v)),function fF(s,o,c,d,f){const g=en(s);if(o)f?g?s.addClass(c,d):c.classList.add(d):g?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:dr.DashCase;if(null==f)g?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=dr.Important),g?s.setStyle(c,d,f,v):c.style.setProperty(d,f,C?"important":"")}}}(d,v,ar(di(),c),f,g))}function WC(s,o,c,d,f,g){const v=null===o;let C;for(;f>0;){const E=s[f],I=Array.isArray(E),R=I?E[1]:E,N=null===R;let $=c[f+1];$===Ft&&($=N?At:void 0);let ne=N?Fr($,d):R===d?$:void 0;if(I&&!Kg(ne)&&(ne=Fr(E,d)),Kg(ne)&&(C=ne,v))return C;const Ee=s[f+1];f=v?eo(Ee):sc(Ee)}if(null!==o){let E=g?o.residualClasses:o.residualStyles;null!=E&&(C=Fr(E,d))}return C}function Kg(s){return void 0!==s}function GA(s,o){return 0!=(s.flags&(o?16:32))}function Qg(s,o=""){const c=Ae(),d=Vt(),f=s+22,g=d.firstCreatePass?Pd(d,f,1,o,null):d.data[f],v=c[f]=function mb(s,o){return en(s)?s.createText(o):s.createTextNode(o)}(c[11],o);jy(d,c,v,g),Ir(g,!1)}function R_(s){return Xg("",s,""),R_}function Xg(s,o,c){const d=Ae(),f=Of(d,s,o,c);return f!==Ft&&fa(d,di(),f),Xg}function O_(s,o,c){!function va(s,o,c,d){const f=Vt(),g=Tr(2);f.firstUpdatePass&&LA(f,null,g,d);const v=Ae();if(c!==Ft&&Pr(v,g,c)){const C=f.data[di()];if(GA(C,d)&&!M_(f,g)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=he(E,c||"")),jg(f,C,v,c,d)}else!function xP(s,o,c,d,f,g,v,C){f===Ft&&(f=At);let E=0,I=0,R=0<f.length?f[0]:null,N=0<g.length?g[0]:null;for(;null!==R||null!==N;){const $=E<f.length?f[E+1]:void 0,ne=I<g.length?g[I+1]:void 0;let Ne,Ee=null;R===N?(E+=2,I+=2,$!==ne&&(Ee=N,Ne=ne)):null===N||null!==R&&R<N?(E+=2,Ee=R):(I+=2,Ee=N,Ne=ne),null!==Ee&&qC(s,o,c,d,Ee,Ne,v,C),R=E<f.length?f[E]:null,N=I<g.length?g[I]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function jA(s,o,c){if(null==c||""===c)return At;const d=[],f=Qs(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)s(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&s(d,g,f[g]);else"string"==typeof f&&o(d,f);return d}(s,o,c),d,g)}}(Bi,ya,Of(Ae(),s,o,c),!0)}function B_(s,o,c){const d=Ae();return Pr(d,Ls(),o)&&to(Vt(),zn(),d,s,o,d[11],c,!0),B_}function U_(s,o,c){const d=Ae();if(Pr(d,Ls(),o)){const g=Vt(),v=zn();to(g,v,d,s,o,lC(Ha(g.data),v,d),c,!0)}return U_}const wu=void 0;var a0=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function o0(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let bu={};function tm(s){const o=function XA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=l0(o);if(c)return c;const d=o.split("-")[0];if(c=l0(d),c)return c;if("en"===d)return a0;throw new Error(`Missing locale data for the locale "${s}".`)}function wa(s){return tm(s)[bt.PluralCase]}function l0(s){return s in bu||(bu[s]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[s]),bu[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Wd="en-US";let c0=Wd;function q_(s,o,c,d,f){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)q_(s[g],o,c,d,f);else{const g=Vt(),v=Ae();let C=Ad(s)?s:J(s.provide),E=FS(s);const I=Ln(),R=1048575&I.providerIndexes,N=I.directiveStart,$=I.providerIndexes>>20;if(Ad(s)||!s.multi){const ne=new Bl(E,f,Md),Ee=Y_(C,o,f?R:R+$,N);-1===Ee?(Hl(vo(I,v),g,C),k0(g,s,o.length),o.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(ne),v.push(ne)):(c[Ee]=ne,v[Ee]=ne)}else{const ne=Y_(C,o,R+$,N),Ee=Y_(C,o,R,R+$),Ne=ne>=0&&c[ne],Ye=Ee>=0&&c[Ee];if(f&&!Ye||!f&&!Ne){Hl(vo(I,v),g,C);const nt=function UP(s,o,c,d,f){const g=new Bl(s,c,Md);return g.multi=[],g.index=o,g.componentProviders=0,W_(g,f,d&&!c),g}(f?PI:FI,c.length,f,d,E);!f&&Ye&&(c[Ee].providerFactory=nt),k0(g,s,o.length,0),o.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(nt),v.push(nt)}else k0(g,s,ne>-1?ne:Ee,W_(c[f?Ee:ne],E,!f&&d));!f&&d&&Ye&&c[Ee].componentProviders++}}}function k0(s,o,c,d){const f=Ad(o),g=function kF(s){return!!s.useClass}(o);if(f||g){const E=(g?J(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const R=I.indexOf(c);-1===R?I.push(c,[d,E]):I[R+1].push(d,E)}else I.push(c,E)}}}function W_(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Y_(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function FI(s,o,c,d){return K_(this.multi,[])}function PI(s,o,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=la(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),K_(f,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],K_(f,g);return g}function K_(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function O0(s,o=[]){return c=>{c.providersResolver=(d,f)=>function OI(s,o,c){const d=Vt();if(d.firstCreatePass){const f=xr(s);q_(c,d.data,d.blueprint,f,!0),q_(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class P0{resolveComponentFactory(o){throw function NI(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Yf=(()=>{class s{}return s.NULL=new P0,s})();class Eu{}class om{}class VI{}function N0(){return Kd(Ln(),Ae())}function Kd(s,o){return new Zd(Ki(s,o))}let Zd=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=N0,s})();function BI(s){return s instanceof Zd?s.nativeElement:s}class Z_{}let L0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function UI(){const s=Ae(),c=qt(Ln().index,s);return function V0(s){return s[11]}(yi(c)?c:s)}(),s})(),HI=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class jI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const B0=new jI("14.0.2"),am={};function Q_(s,o,c,d,f=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(Cn(g)),Oi(g))for(let C=10;C<g.length;C++){const E=g[C],I=E[1].firstChild;null!==I&&Q_(E[1],E,I,d)}const v=c.type;if(8&v)Q_(s,o,c.child,d);else if(32&v){const C=uu(c,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=Cb(o,c);if(Array.isArray(C))d.push(...C);else{const E=ll(o[16]);Q_(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class Qd{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Q_(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Oi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(vb(o,d),Zi(c,d))}this._attachedToViewContainer=!1}oS(this._lView[1],this._lView)}onDestroy(o){rA(this._lView[1],this._lView,null,o)}markForCheck(){u_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ng(s,o,c){const d=o[10];d.begin&&d.begin();try{Ld(s,o,s.template,c)}catch(f){throw cC(o,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sS(s,o){Cg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=o}}class GI extends Qd{constructor(o){super(o),this._view=o}detectChanges(){oC(this._view)}checkNoChanges(){}get context(){return null}}class Du extends Yf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Xt(o);return new Si(c,this.ngModule)}}function lm(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class U0{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,am,d);return f!==am||c===am?f:this.parentInjector.get(o,c,d)}}class Si extends VI{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function EF(s){return s.map(CF).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return lm(this.componentDef.inputs)}get outputs(){return lm(this.componentDef.outputs)}create(o,c,d,f){let g=(f=f||this.ngModule)instanceof _f?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new U0(o,g):o,C=v.get(Z_,Rl),E=v.get(HI,null),I=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",N=d?function iA(s,o,c){if(en(s))return s.selectRootElement(o,c===zt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(I,d,this.componentDef.encapsulation):yf(C.createRenderer(null,this.componentDef),R,function X_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),$=this.componentDef.onPush?288:272,ne=function g_(s,o){return{components:[],scheduler:s||Z,clean:aP,playerHandler:o||null,flags:0}}(),Ee=Og(0,null,null,1,0,null,null,null,null,null),Ne=Fd(null,Ee,ne,$,null,null,C,I,E,v,null);let Ye,nt;mo(Ne);try{const Ct=function ji(s,o,c,d,f,g){const v=c[1];c[22]=s;const E=Pd(v,22,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(Mf(E,I,!0),null!==s&&(Ni(f,s,I),null!==E.classes&&Sb(f,s,E.classes),null!==E.styles&&yS(f,s,E.styles)));const R=d.createRenderer(s,o),N=Fd(c,eA(o),null,o.onPush?32:16,c[22],E,d,R,g||null,null,null);return v.firstCreatePass&&(Hl(vo(E,c),v,o.type),cA(v,E),uA(E,c.length,1)),Pg(c,N),c[22]=N}(N,this.componentDef,Ne,C,I);if(N)if(d)Ni(I,N,["ng-version",B0.full]);else{const{attrs:Re,classes:pt}=function DF(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&o.push(g,s[++d]):8===f&&c.push(g);else{if(!ha(f))break;f=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Re&&Ni(I,N,Re),pt&&pt.length>0&&Sb(I,N,pt.join(" "))}if(nt=Ko(Ee,22),void 0!==c){const Re=nt.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const nn=c[pt];Re.push(null!=nn?Array.from(nn):null)}}Ye=function mC(s,o,c,d,f){const g=c[1],v=function nC(s,o,c){const d=Ln();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),dA(s,d,o,Nd(s,o,1,null),c));const f=la(o,s,d.directiveStart,d);Xi(f,o);const g=Ki(d,o);return g&&Xi(g,o),f}(g,c,o);if(d.components.push(v),s[8]=v,null!==f)for(const E of f)E(v,o);if(o.contentQueries){const E=Ln();o.contentQueries(1,v,E.directiveStart)}const C=Ln();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vs(C.index),c_(c[1],C,0,C.directiveStart,C.directiveEnd,o),lA(o,v)),v}(Ct,this.componentDef,Ne,ne,[m_]),Sf(Ee,Ne,null)}finally{Ll()}return new J_(this.componentType,Ye,Kd(nt,Ne),Ne,nt)}}class J_ extends class LI{}{constructor(o,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new GI(f),this.componentType=o}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function H0(s,o){return new j0(s,o??null)}class j0 extends Eu{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Du(this);const d=gi(o);this._bootstrapComponents=et(d.bootstrap),this._r3Injector=NS(o,c,[{provide:Eu,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(o)}get(o,c=ul.THROW_IF_NOT_FOUND,d=dt.Default){return o===ul||o===Eu||o===Rb?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Kf extends om{constructor(o){super(),this.moduleType=o}create(o){return new j0(this.moduleType,o)}}class zI extends Eu{constructor(o,c,d){super(),this.componentFactoryResolver=new Du(this),this.instance=null;const f=new OS([...o,{provide:Eu,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],c||Fb(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ba(s,o=null,c=null){return new zI(s,o,c).injector}function Xd(s,o,c){const d=$n()+s,f=Ae();return f[d]===Ft?pl(f,d,c?o.call(c):o()):function Hg(s,o){return s[o]}(f,d)}function tv(s,o,c,d){return G0(Ae(),$n(),s,o,c,d)}function Zf(s,o){const c=s[o];return c===Ft?void 0:c}function G0(s,o,c,d,f,g){const v=o+c;return Pr(s,v,f)?pl(s,v+1,g?d.call(g,f):d(f)):Zf(s,v+1)}function $0(s,o,c,d,f,g,v){const C=o+c;return function Ud(s,o,c,d){const f=Pr(s,o,c);return Pr(s,o+1,d)||f}(s,C,f,g)?pl(s,C+2,v?d.call(v,f,g):d(f,g)):Zf(s,C+2)}function Bt(s,o){const c=Vt();let d;const f=s+22;c.firstCreatePass?(d=function nT(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Rs(d.type)),v=Dn(Md);try{const C=Di(!1),E=g();return Di(C),function SA(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Ae(),f,E),E}finally{Dn(v)}}function iv(s,o,c){const d=s+22,f=Ae(),g=ls(f,d);return es(f,d)?G0(f,$n(),o,g.transform,c,g):g.transform(c)}function um(s,o,c,d){const f=s+22,g=Ae(),v=ls(g,f);return es(g,f)?$0(g,$n(),o,v.transform,c,d,v):v.transform(c,d)}function es(s,o){return s[1].data[o].pure}function dm(s){return o=>{setTimeout(s,void 0,o)}}const Ro=class q0 extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),g=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(g=dm(g),f&&(f=dm(f)),v&&(v=dm(v)));const C=super.subscribe({next:f,error:g,complete:v});return o instanceof Y.w0&&o.add(C),C}};function jP(){return this._results[Bd()]()}class wi{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Bd(),d=wi.prototype;d[c]||(d[c]=jP)}get changes(){return this._changes||(this._changes=new Ro)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=_i(o);(this._changesDetected=!function zc(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=o[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nr=(()=>{class s{}return s.__NG_ELEMENT_ID__=W0,s})();const oT=Nr,aT=class extends oT{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=Fd(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Sf(d,f,o),new Qd(f)}};function W0(){return Xf(Ln(),Ae())}function Xf(s,o){return 4&s.type?new aT(o,s,Kd(s,o)):null}let hm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Y0,s})();function Y0(){return dc(Ln(),Ae())}const lT=hm,rv=class extends lT{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const o=xi(this._hostTNode,this._hostLView);if(Xu(o)){const c=Wt(o,this._hostLView),d=Mr(o);return new sn(c[1].data[d+8],c)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=sv(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(o,c,d,f,g){const v=o&&!function En(s){return"function"==typeof s}(o);let C;if(v)C=c;else{const N=c||{};C=N.index,d=N.injector,f=N.projectableNodes,g=N.environmentInjector||N.ngModuleRef}const E=v?o:new Si(Xt(o)),I=d||this.parentInjector;if(!g&&null==E.ngModule){const $=(v?I:this.parentInjector).get(_f,null);$&&(g=$)}const R=E.create(I,f,void 0,g);return this.insert(R.hostView,C),R}insert(o,c){const d=o._lView,f=d[1];if(function Oc(s){return Oi(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const N=d[3],$=new rv(N,N[6],N[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function cF(s,o,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=o),d<g-10?(o[4]=c[f],hs(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function _b(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(f,d,v,g);const C=Eb(g,v),E=d[11],I=bg(E,v[7]);return null!==I&&function rS(s,o,c,d,f,g){d[0]=f,d[6]=o,Cg(s,d,c,1,f,g)}(f,v[6],E,d,I,C),o.attachToViewContainerRef(),hs(Jd(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=sv(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=vb(this._lContainer,c);d&&(Zi(Jd(this._lContainer),c),oS(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=vb(this._lContainer,c);return d&&null!=Zi(Jd(this._lContainer),c)?new Qd(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function sv(s){return s[8]}function Jd(s){return s[8]||(s[8]=[])}function dc(s,o){let c;const d=o[s.index];if(Oi(d))c=d;else{let f;if(8&s.type)f=Cn(d);else{const g=o[11];f=g.createComment("");const v=Ki(s,o);cl(g,bg(g,v),f,function dF(s,o){return en(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=c=hA(d,o,f,s),Pg(o,c)}return new rv(c,s,o)}class vl{constructor(o){this.queryList=o,this.matches=null}clone(){return new vl(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ov(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==J0(o,c).matches&&this.queries[c].setDirty()}}class av{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class fm{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new fm(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lv{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new lv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(o,c,pm(c,g)),this.matchTNodeWithReadOption(o,c,Gl(c,o,g,!1,!1))}else d===Nr?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Gl(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Zd||f===hm||f===Nr&&4&c.type)this.addMatch(c.index,-2);else{const g=Gl(c,o,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function pm(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function K0(s,o,c,d){return-1===c?function ep(s,o){return 11&s.type?Kd(s,o):4&s.type?Xf(s,o):null}(o,s):-2===c?function gm(s,o,c){return c===Zd?Kd(o,s):c===Nr?Xf(o,s):c===hm?dc(o,s):void 0}(s,o,d):la(s,s[1],c,o)}function Z0(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const g=s.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const I=v[E];C.push(I<0?null:K0(o,g[I],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function tp(s,o,c,d){const f=s.queries.getByIndex(c),g=f.matches;if(null!==g){const v=Z0(s,o,f,c);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)d.push(v[C/2]);else{const I=g[C+1],R=o[-E];for(let N=10;N<R.length;N++){const $=R[N];$[17]===$[3]&&tp($[1],$,I,d)}if(null!==R[9]){const N=R[9];for(let $=0;$<N.length;$++){const ne=N[$];tp(ne[1],ne,I,d)}}}}}return d}function np(s){const o=Ae(),c=Vt(),d=Nl();na(d+1);const f=J0(c,d);if(s.dirty&&Ol(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?tp(c,o,d,[]):Z0(c,o,f,d);s.reset(g,BI),s.notifyOnChanges()}return!0}return!1}function cv(s,o,c){const d=Vt();d.firstCreatePass&&(ip(d,new av(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),X0(d,Ae(),o)}function uv(s,o,c,d){const f=Vt();if(f.firstCreatePass){const g=Ln();ip(f,new av(o,c,d),g.index),function uT(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}X0(f,Ae(),c)}function Q0(){return function cT(s,o){return s[19].queries[o].queryList}(Ae(),Nl())}function X0(s,o,c){const d=new wi(4==(4&c));rA(s,o,d,d.destroy),null===o[19]&&(o[19]=new ov),o[19].queries.push(new vl(d))}function ip(s,o,c){null===s.queries&&(s.queries=new fm),s.queries.track(new lv(o,c))}function J0(s,o){return s.queries.getByIndex(o)}function pc(s){const o=Xt(s)||Xn(s)||ui(s);return null!==o&&o.standalone}function Em(...s){}const pE=new fn("Application Initializer");let Ca=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Em,this.reject=Em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Gd(g))c.push(g);else if(xC(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(ht(pE,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gE=new fn("AppId",{providedIn:"root",factory:function mE(){return`${wv()}${wv()}${wv()}`}});function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ih=new fn("Platform Initializer"),op=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bv=new fn("appBootstrapListener"),Dm=new fn("AnimationModuleType");let bT=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xm=new fn("LocaleId",{providedIn:"root",factory:()=>vi(xm,dt.Optional|dt.SkipSelf)||function CT(){return typeof $localize<"u"&&$localize.locale||Wd}()}),ET=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Sm{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let yE=(()=>{class s{compileModuleSync(c){return new Kf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=et(gi(c).declarations).reduce((v,C)=>{const E=Xt(C);return E&&v.push(new Si(E)),v},[]);return new Sm(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AT=(()=>Promise.resolve(0))();function Dv(s){typeof Zone>"u"?AT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ys{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function IT(){let s=Ge.requestAnimationFrame,o=Ge.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _E(s){const o=()=>{!function MT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ge,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,rh(s),s.isCheckStableRunning=!0,lp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),rh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return vE(s),c.invokeTask(f,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),wE(s)}},onInvoke:(c,d,f,g,v,C,E)=>{try{return vE(s),c.invoke(f,g,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),wE(s)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,rh(s),lp(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,TT,Em,Em);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const TT={};function lp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function rh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function vE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function wE(s){s._nesting--,lp(s)}class Am{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const sh=new fn(""),bE=new fn("");let xv,RT=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function kT(s){xv=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(ht(ys),ht(oh),ht(bE))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),oh=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return xv?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),yc=null;const CE=new fn("AllowMultipleToken"),EE=new fn("PlatformOnDestroy");class FT{constructor(o,c){this.name=o,this.token=c}}function AE(s,o,c=[]){const d=`Platform: ${o}`,f=new fn(d);return(g=[])=>{let v=Im();if(!v||v.injector.get(CE,!1)){const C=[...c,...g,{provide:f,useValue:!0}];s?s(C):function xE(s){if(yc&&!yc.get(CE,!1))throw new Me(400,"");yc=s;const o=s.get(Av);(function SE(s){const o=s.get(ih,null);o&&o.forEach(c=>c())})(s)}(function Sv(s=[],o){return ul.create({name:o,providers:[{provide:kb,useValue:"platform"},{provide:EE,useValue:()=>yc=null},...s]})}(C,d))}return function NT(s){const o=Im();if(!o)throw new Me(401,"");return o}()}}function Im(){return yc?.get(Av)??null}let Av=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function IE(s,o){let c;return c="noop"===s?new Am:("zone.js"===s?void 0:s)||new ys(o),c}(d?.ngZone,function Iv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ys,useValue:f}];return f.run(()=>{const v=ul.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),E=C.injector.get(tc,null);if(!E)throw new Me(402,"");return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:R=>{E.handleError(R)}});C.onDestroy(()=>{Tm(this._modules,C),I.unsubscribe()})}),function Tv(s,o,c){try{const d=c();return Gd(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const I=C.injector.get(Ca);return I.runInitializers(),I.donePromise.then(()=>(function kn(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(c0=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(xm,Wd)||Wd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=TE({},d);return function OT(s,o,c){const d=new Kf(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(ah);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Me(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._injector.get(EE,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(ht(ul))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function TE(s,o){return Array.isArray(o)?o.reduce(TE,s):{...s,...o}}let ah=(()=>{class s{constructor(c,d,f,g){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new F.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ys.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ae.T)(v,C.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof VI;if(!this._initStatus.done)throw!f&&pc(c),new Me(405,false);let g;g=f?c:this._injector.get(Yf).resolveComponentFactory(c),this.componentTypes.push(g.componentType);const v=function DE(s){return s.isBoundToModule}(g)?void 0:this._injector.get(Eu),E=g.create(ul.NULL,[],d||g.selector,v),I=E.location.nativeElement,R=E.injector.get(sh,null);return R?.registerApplication(I),E.onDestroy(()=>{this.detachView(E.hostView),Tm(this.components,E),R?.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Tm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(bv,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Tm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Me(406,false);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(ht(ys),ht(ul),ht(tc),ht(Ca))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Tm(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let RE=!0,kE=!1;function OE(){return kE=!0,RE}function Mv(){if(kE)throw new Error("Cannot enable prod mode after platform setup.");RE=!1}let PE=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rv,s})();function Rv(s){return function kv(s,o,c){if(co(s)&&!c){const d=qt(s.index,o);return new Qd(d,d)}return 47&s.type?new Qd(o[16],o):null}(Ln(),Ae(),16==(16&s))}class _c{constructor(){}supports(o){return Ug(o)}create(o){return new jT(o)}}const VE=(s,o)=>o;class jT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||VE}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<HE(d,f,g)?c:d,C=HE(v,f,g),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const I=C-f,R=E-f;if(I!=R){for(let $=0;$<I;$++){const ne=$<g.length?g[$]:g[$]=0,Ee=ne+$;R<=Ee&&Ee<I&&(g[$]=ne+1)}g[v.previousIndex]=R-I}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Ug(o))throw new Me(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function vP(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Bd()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,f)):o=this._addAfter(new GT(c,d),g,f),o}_verifyReinsertion(o,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class GT{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class UE{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new BE,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HE(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class jE{constructor(){}supports(o){return o instanceof Map||_C(o)}create(){return new GE}}class GE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||_C(o)))throw new Me(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new $T(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class $T{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new Lv([new _c])}let Lv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||$E()),deps:[[s,new Xr,new Ys]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Me(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:$E}),s})();function qE(){return new Vv([new jE])}let Vv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||qE()),deps:[[s,new Xr,new Ys]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Me(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:qE}),s})();const qT=AE(null,"core",[]);let WT=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(ht(ah))},s.\u0275mod=wt({type:s}),s.\u0275inj=Zt({}),s})();function YE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(rt,xe,P)=>{P.d(xe,{Z:()=>Me});var l=P(2090),Y=P(4859),F=P(9681),ae=P(1877);class se{constructor(pe,ye){this._delegate=pe,this.firebase=ye,(0,F._addComponent)(pe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(pe,ye=F._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(pe);return!Qe.isInitialized()&&"EXPLICIT"===(null===(qe=Qe.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ye})}_removeServiceInstance(pe,ye=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(ye)}_addComponent(pe){(0,F._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,F._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function he(){const Ue=function ue(Ue){const pe={},ye={__esModule:!0,initializeApp:function Se(He,H={}){const we=F.initializeApp(He,H);if((0,l.r3)(pe,we.name))return pe[we.name];const K=new Ue(we,ye);return pe[we.name]=K,K},app:Qe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ce(He){const H=He.name,we=H.replace("-compat","");if(F._registerComponent(He)&&"PUBLIC"===He.type){const K=(oe=Qe())=>{if("function"!=typeof oe[we])throw ee.create("invalid-app-argument",{appName:H});return oe[we]()};void 0!==He.serviceProps&&(0,l.ZB)(K,He.serviceProps),ye[we]=K,Ue.prototype[we]=function(...oe){return this._getService.bind(this,H).apply(this,He.multipleInstances?oe:[])}}return"PUBLIC"===He.type?ye[we]:null},removeApp:function qe(He){delete pe[He]},useAsService:function je(He,H){return"serverAuth"===H?null:H},modularAPIs:F}};function Qe(He){if(!(0,l.r3)(pe,He=He||F._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:He});return pe[He]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function ve(){return Object.keys(pe).map(He=>pe[He])}}),Qe.App=Ue,ye}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(ye){(0,l.ZB)(Ue,ye)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ue}(),U=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function Ie(Ue){(0,F.registerVersion)("@firebase/app-compat","0.1.27",Ue)}()},9681:(rt,xe,P)=>{P.r(xe),P.d(xe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>gn,_addOrOverwriteComponent:()=>Qt,_apps:()=>ln,_clearComponents:()=>rs,_components:()=>Fn,_getProvider:()=>Zt,_registerComponent:()=>Ii,_removeServiceInstance:()=>Lt,deleteApp:()=>dt,getApp:()=>nr,getApps:()=>wr,initializeApp:()=>As,onLog:()=>Dn,registerVersion:()=>Rn,setLogLevel:()=>oo});var l=P(5861),Y=P(4859),F=P(1877),ae=P(2090),se=P(8766);class me{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function ee(G){return"VERSION"===G.getComponent()?.type}(ke)){const Je=ke.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(ke=>ke).join(" ")}}const ue="@firebase/app",j=new F.Yd("@firebase/app"),jt="[DEFAULT]",We={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,Fn=new Map;function gn(G,ie){try{G.container.addComponent(ie)}catch(ke){j.debug(`Component ${ie.name} failed to register with FirebaseApp ${G.name}`,ke)}}function Qt(G,ie){G.container.addOrOverwriteComponent(ie)}function Ii(G){const ie=G.name;if(Fn.has(ie))return j.debug(`There were multiple attempts to register component ${ie}.`),!1;Fn.set(ie,G);for(const ke of ln.values())gn(ke,G);return!0}function Zt(G,ie){const ke=G.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),G.container.getProvider(ie)}function Lt(G,ie,ke=jt){Zt(G,ie).clearInstance(ke)}function rs(){Fn.clear()}const Ei=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ti{constructor(ie,ke,Je){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const zr="9.8.3";function As(G,ie={}){"object"!=typeof ie&&(ie={name:ie});const ke=Object.assign({name:jt,automaticDataCollectionEnabled:!1},ie),Je=ke.name;if("string"!=typeof Je||!Je)throw Ei.create("bad-app-name",{appName:String(Je)});const gt=ln.get(Je);if(gt){if((0,ae.vZ)(G,gt.options)&&(0,ae.vZ)(ke,gt.config))return gt;throw Ei.create("duplicate-app",{appName:Je})}const wt=new Y.H0(Je);for(const Dt of Fn.values())wt.addComponent(Dt);const vn=new Ti(G,ke,wt);return ln.set(Je,vn),vn}function nr(G=jt){const ie=ln.get(G);if(!ie)throw Ei.create("no-app",{appName:G});return ie}function wr(){return Array.from(ln.values())}function dt(G){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(G){const ie=G.name;ln.has(ie)&&(ln.delete(ie),yield Promise.all(G.container.getProviders().map(ke=>ke.delete())),G.isDeleted=!0)})).apply(this,arguments)}function Rn(G,ie,ke){var Je;let gt=null!==(Je=We[G])&&void 0!==Je?Je:G;ke&&(gt+=`-${ke}`);const wt=gt.match(/\s|\//),vn=ie.match(/\s|\//);if(wt||vn){const Dt=[`Unable to register library "${gt}" with version "${ie}":`];return wt&&Dt.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),wt&&vn&&Dt.push("and"),vn&&Dt.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void j.warn(Dt.join(" "))}Ii(new Y.wA(`${gt}-version`,()=>({library:gt,version:ie}),"VERSION"))}function Dn(G,ie){if(null!==G&&"function"!=typeof G)throw Ei.create("invalid-log-argument");(0,F.Am)(G,ie)}function oo(G){(0,F.Ub)(G)}const Hn="firebase-heartbeat-store";let br=null;function Bo(){return br||(br=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(G,ie)=>{0===ie&&G.createObjectStore(Hn)}}).catch(G=>{throw Ei.create("storage-open",{originalErrorMessage:G.message})})),br}function Ge(){return(Ge=(0,l.Z)(function*(G){var ie;try{return(yield Bo()).transaction(Hn).objectStore(Hn).get(Kn(G))}catch(ke){throw Ei.create("storage-get",{originalErrorMessage:null===(ie=ke)||void 0===ie?void 0:ie.message})}})).apply(this,arguments)}function Et(G,ie){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(G,ie){var ke;try{const gt=(yield Bo()).transaction(Hn,"readwrite");return yield gt.objectStore(Hn).put(ie,Kn(G)),gt.done}catch(Je){throw Ei.create("storage-set",{originalErrorMessage:null===(ke=Je)||void 0===ke?void 0:ke.message})}})).apply(this,arguments)}function Kn(G){return`${G.name}!${G.options.appId}`}class Zn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new z(ke),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var ie=this;return(0,l.Z)(function*(){const Je=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=sr();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==gt&&!ie._heartbeatsCache.heartbeats.some(wt=>wt.date===gt))return ie._heartbeatsCache.heartbeats.push({date:gt,agent:Je}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(wt=>{const vn=new Date(wt.date).valueOf();return Date.now()-vn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,l.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const ke=sr(),{heartbeatsToSend:Je,unsentEntries:gt}=function q(G,ie=1024){const ke=[];let Je=G.slice();for(const gt of G){const wt=ke.find(vn=>vn.agent===gt.agent);if(wt){if(wt.dates.push(gt.date),W(ke)>ie){wt.dates.pop();break}}else if(ke.push({agent:gt.agent,dates:[gt.date]}),W(ke)>ie){ke.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:ke,unsentEntries:Je}}(ie._heartbeatsCache.heartbeats),wt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Je}));return ie._heartbeatsCache.lastSentHeartbeatDate=ke,gt.length>0?(ie._heartbeatsCache.heartbeats=gt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),wt})()}}function sr(){return(new Date).toISOString().substring(0,10)}class z{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,l.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function zt(G){return Ge.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var ke=this;return(0,l.Z)(function*(){var Je;if(yield ke._canUseIndexedDBPromise){const wt=yield ke.read();return Et(ke.app,{lastSentHeartbeatDate:null!==(Je=ie.lastSentHeartbeatDate)&&void 0!==Je?Je:wt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var ke=this;return(0,l.Z)(function*(){var Je;if(yield ke._canUseIndexedDBPromise){const wt=yield ke.read();return Et(ke.app,{lastSentHeartbeatDate:null!==(Je=ie.lastSentHeartbeatDate)&&void 0!==Je?Je:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...ie.heartbeats]})}})()}}function W(G){return(0,ae.L)(JSON.stringify({version:2,heartbeats:G})).length}!function De(G){Ii(new Y.wA("platform-logger",ie=>new me(ie),"PRIVATE")),Ii(new Y.wA("heartbeat",ie=>new Zn(ie),"PRIVATE")),Rn(ue,"0.7.26",G),Rn(ue,"0.7.26","esm2017"),Rn("fire-js","")}("")},4859:(rt,xe,P)=>{P.d(xe,{H0:()=>ue,wA:()=>F});var l=P(5861),Y=P(2090);class F{constructor(j,U,J){this.name=j,this.instanceFactory=U,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class se{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const J=new Y.BH;if(this.instancesDeferred.set(U,J),this.isInitialized(U)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:U});ze&&J.resolve(ze)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const J=this.normalizeInstanceIdentifier(j?.identifier),ze=null!==(U=j?.optional)&&void 0!==U&&U;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(ze)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ee(he){return"EAGER"===he.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[U,J]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(U);try{const Ie=this.getOrInitializeService({instanceIdentifier:ze});J.resolve(Ie)}catch{}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...U.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:J,options:U});for(const[Ie,Me]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&Me.resolve(ze);return ze}onInit(j,U){var J;const ze=this.normalizeInstanceIdentifier(U),Ie=null!==(J=this.onInitCallbacks.get(ze))&&void 0!==J?J:new Set;Ie.add(j),this.onInitCallbacks.set(ze,Ie);const Me=this.instances.get(ze);return Me&&j(Me,ze),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,U){const J=this.onInitCallbacks.get(U);if(J)for(const ze of J)try{ze(j,U)}catch{}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(he=j,he===ae?void 0:he),options:U}),this.instances.set(j,J),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch{}var he;return J||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new se(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,xe,P)=>{P.d(xe,{Am:()=>he,Ub:()=>ue,Yd:()=>ee,in:()=>Y});const l=[];var Y=(()=>{return(j=Y||(Y={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Y;var j})();const F={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ae=Y.INFO,se={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},me=(j,U,...J)=>{if(U<j.logLevel)return;const ze=(new Date).toISOString(),Ie=se[U];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ie](`[${ze}]  ${j.name}:`,...J)};class ee{constructor(U){this.name=U,this._logLevel=ae,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Y))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?F[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...U),this._logHandler(this,Y.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...U),this._logHandler(this,Y.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...U),this._logHandler(this,Y.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...U),this._logHandler(this,Y.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...U),this._logHandler(this,Y.ERROR,...U)}}function ue(j){l.forEach(U=>{U.setLogLevel(j)})}function he(j,U){for(const J of l){let ze=null;U&&U.level&&(ze=F[U.level]),J.userLogHandler=null===j?null:(Ie,Me,...Ue)=>{const pe=Ue.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Me>=(ze??Ie.logLevel)&&j({level:Y[Me].toLowerCase(),message:pe,args:Ue,type:Ie.name})}}}},8766:(rt,xe,P)=>{P.d(xe,{Lj:()=>Se,X3:()=>Qe});var l=P(5861);let F,ae;const ee=new WeakMap,ue=new WeakMap,he=new WeakMap,j=new WeakMap,U=new WeakMap;let Ie={get(H,we,K){if(H instanceof IDBTransaction){if("done"===we)return ue.get(H);if("objectStoreNames"===we)return H.objectStoreNames||he.get(H);if("store"===we)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return ye(H[we])},set:(H,we,K)=>(H[we]=K,!0),has:(H,we)=>H instanceof IDBTransaction&&("done"===we||"store"===we)||we in H};function pe(H){return"function"==typeof H?function Ue(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...we){return H.apply(qe(this),we),ye(ee.get(this))}:function(...we){return ye(H.apply(qe(this),we))}:function(we,...K){const oe=H.call(qe(this),we,...K);return he.set(oe,we.sort?we.sort():[we]),ye(oe)}}(H):(H instanceof IDBTransaction&&function ze(H){if(ue.has(H))return;const we=new Promise((K,oe)=>{const te=()=>{H.removeEventListener("complete",_e),H.removeEventListener("error",ce),H.removeEventListener("abort",ce)},_e=()=>{K(),te()},ce=()=>{oe(H.error||new DOMException("AbortError","AbortError")),te()};H.addEventListener("complete",_e),H.addEventListener("error",ce),H.addEventListener("abort",ce)});ue.set(H,we)}(H),((H,we)=>we.some(K=>H instanceof K))(H,function se(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Ie):H)}function ye(H){if(H instanceof IDBRequest)return function J(H){const we=new Promise((K,oe)=>{const te=()=>{H.removeEventListener("success",_e),H.removeEventListener("error",ce)},_e=()=>{K(ye(H.result)),te()},ce=()=>{oe(H.error),te()};H.addEventListener("success",_e),H.addEventListener("error",ce)});return we.then(K=>{K instanceof IDBCursor&&ee.set(K,H)}).catch(()=>{}),U.set(we,H),we}(H);if(j.has(H))return j.get(H);const we=pe(H);return we!==H&&(j.set(H,we),U.set(we,H)),we}const qe=H=>U.get(H);function Qe(H,we,{blocked:K,upgrade:oe,blocking:te,terminated:_e}={}){const ce=indexedDB.open(H,we),Pe=ye(ce);return oe&&ce.addEventListener("upgradeneeded",ut=>{oe(ye(ce.result),ut.oldVersion,ut.newVersion,ye(ce.transaction))}),K&&ce.addEventListener("blocked",()=>K()),Pe.then(ut=>{_e&&ut.addEventListener("close",()=>_e()),te&&ut.addEventListener("versionchange",()=>te())}).catch(()=>{}),Pe}function Se(H,{blocked:we}={}){const K=indexedDB.deleteDatabase(H);return we&&K.addEventListener("blocked",()=>we()),ye(K).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],je=new Map;function He(H,we){if(!(H instanceof IDBDatabase)||we in H||"string"!=typeof we)return;if(je.get(we))return je.get(we);const K=we.replace(/FromIndex$/,""),oe=we!==K,te=Ce.includes(K);if(!(K in(oe?IDBIndex:IDBObjectStore).prototype)||!te&&!ve.includes(K))return;const _e=function(){var ce=(0,l.Z)(function*(Pe,...ut){const $t=this.transaction(Pe,te?"readwrite":"readonly");let jt=$t.store;return oe&&(jt=jt.index(ut.shift())),(yield Promise.all([jt[K](...ut),te&&$t.done]))[0]});return function(ut){return ce.apply(this,arguments)}}();return je.set(we,_e),_e}!function Me(H){Ie=H(Ie)}(H=>({...H,get:(we,K,oe)=>He(we,K)||H.get(we,K,oe),has:(we,K)=>!!He(we,K)||H.has(we,K)}))},5861:(rt,xe,P)=>{function l(F,ae,se,me,ee,ue,he){try{var j=F[ue](he),U=j.value}catch(J){return void se(J)}j.done?ae(U):Promise.resolve(U).then(me,ee)}function Y(F){return function(){var ae=this,se=arguments;return new Promise(function(me,ee){var ue=F.apply(ae,se);function he(U){l(ue,me,ee,he,j,"next",U)}function j(U){l(ue,me,ee,he,j,"throw",U)}he(void 0)})}}P.d(xe,{Z:()=>Y})}},rt=>{rt(rt.s=341)}]);